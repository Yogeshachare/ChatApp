/*! For license information please see main.a52e65d0.js.LICENSE.txt */
!function(){var e={463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,U=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Se(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==xe||null!==Ee)&&(Ae(),Ie())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Ue=null,Fe=!1,je=null,Ve={onError:function(e){Me=!0,Ue=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,Ue=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Et,St,Tt=!1,It=[],Ct=null,At=null,Rt=null,Nt=new Map,Ot=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),null!==Rt&&Ft(Rt)&&(Rt=null),Nt.forEach(jt),Ot.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Rt&&zt(Rt,e),Nt.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Pt.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Kt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Gt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,$t,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var $t=null;function Qt(e,t,n,r){if($t=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=U({},cn,{view:0,detail:0}),hn=an(fn),dn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(U({},dn,{dataTransfer:0})),mn=an(U({},fn,{relatedTarget:0})),yn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(U({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return En}var Tn=U({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Rn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Nn),Pn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Un=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function $n(e){Fr(e,0)}function Qn(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ne($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Sr("animationend"),Ir=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Rr.set(e,t),u(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var Dr=Nr[Pr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(Ir,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Ue;Me=!1,Ue=null,Fe||(Fe=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=u}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Tr:case Ir:case Cr:u=yn;break;case Ar:u=Rn;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&$r(o,s,u,l,!1),null!==c&&null!==f&&$r(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(qn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ci=Ei(Ii),Ai=Ei(!1),Ri=Ii;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(Ai),Si(Ci)}function Di(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ri=Ci.current,Ti(Ci,e),Ti(Ai,Ai.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ti(Ci,e)):Si(Ai),Ti(Ai,n)}var Fi=null,ji=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var Hi=[],qi=0,Wi=null,Ki=0,Gi=[],$i=0,Qi=null,Yi=1,Xi="";function Ji(e,t){Hi[qi++]=Ki,Hi[qi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[$i++]=Yi,Gi[$i++]=Xi,Gi[$i++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Ki=Hi[--qi],Hi[qi]=null;for(;e===Qi;)Qi=Gi[--$i],Gi[$i]=null,Xi=Gi[--$i],Gi[$i]=null,Yi=Gi[--$i],Gi[$i]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Si(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=U({},f,h);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Uu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ha(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Oi(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Oi(t)?Ri:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&$a(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&$a(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Qa(!0),Xa=Qa(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ti(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Uu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Uu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Oo(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ru)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Uo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Uo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Uo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Ho(e,t){return zo(8390656,8,e,t)}function qo(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Uu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Sa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Qo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ru)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ru.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:qo,useImperativeHandle:$o,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:No,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:qo,useImperativeHandle:$o,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],Io().memoizedState]},useMutableSource:No,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=So(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Du,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Du,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Du,Pu),Pu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Du,Pu),Pu|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Oi(n)?Ri:Ci.current;return a=Ni(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=So(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)qs(e,t),Ha(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Ni(t,c=Oi(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&qa(t,o,r,c),Ra=!1;var h=t.memoizedState;o.state=h,Ua(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||Ra?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Ra||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Ni(t,u=Oi(n)?Ri:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&qa(t,o,r,u),Ra=!1,h=t.memoizedState,o.state=h,Ua(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||Ra?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Ra||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Ws(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ns(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Ps,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Us(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Uc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Us(n),t.memoizedState=Ms,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Uc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Us(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Ru)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[$i++]=Yi,Gi[$i++]=Xi,Gi[$i++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=js(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Us(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Uc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Gs(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ps(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Ps(e,t),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Hu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Sc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,mu(t,e),Xs=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(h);continue}}null!==p?(p.return=d,Zs=p):_u(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,bu(a,t,n),a=a.sibling;Zs=i,Ys=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{au(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Eu,Su=Math.ceil,Tu=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Au=0,Ru=null,Nu=null,Ou=0,Pu=0,Du=Ei(0),Lu=0,Mu=null,Uu=0,Fu=0,ju=0,Vu=null,zu=null,Bu=0,Hu=1/0,qu=null,Wu=!1,Ku=null,Gu=null,$u=!1,Qu=null,Yu=0,Xu=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Au)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Ou?Ou&-Ou:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Au)&&e===Ru||(e===Ru&&(0===(2&Au)&&(Fu|=n),4===Lu&&uc(e,Ou)),ic(e,r),1===n&&0===Au&&0===(1&t.mode)&&(Hu=Xe()+500,ji&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Ru?Ou:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Au)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Au))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ru?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Au;Au|=2;var o=vc();for(Ru===e&&Ou===t||(qu=null,Hu=Xe()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),Tu.current=o,Au=i,null!==Nu?t=0:(Ru=null,Ou=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zu,qu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zu,qu),t);break}_c(e,zu,qu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zu,qu),r);break}_c(e,zu,qu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Au))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zu,qu),ic(e,Xe()),null}function lc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(Hu=Xe()+500,ji&&Bi())}}function fc(e){null!==Qu&&0===Qu.tag&&0===(6&Au)&&xc();var t=Au;Au|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Au=t))&&Bi()}}function hc(){Pu=Du.current,Si(Du)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Si(Ai),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ru=e,Nu=e=Dc(e.current,null),Ou=Pu=t,Lu=0,Mu=null,ju=Fu=Uu=0,zu=Vu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=Nu;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ou,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function vc(){var e=Tu.current;return Tu.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Ru||0===(268435455&Uu)&&0===(268435455&Fu)||uc(Ru,Ou)}function yc(e,t){var n=Au;Au|=2;var r=vc();for(Ru===e&&Ou===t||(qu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Au=n,Tu.current=r,null!==Nu)throw Error(a(261));return Ru=null,Ou=0,Lu}function gc(){for(;null!==Nu;)bc(Nu)}function kc(){for(;null!==Nu&&!Qe();)bc(Nu)}function bc(e){var t=Eu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?wc(e):Nu=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,Pu)))return void(Nu=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Lu=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Lu&&(Lu=5)}function _c(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qu);if(0!==(6&Au))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ru&&(Nu=Ru=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$u||($u=!0,Rc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Au;Au|=4,Iu.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Ye(),Au=u,kt=s,Cu.transition=o}else e.current=n;if($u&&($u=!1,Qu=e,Yu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Ku,Ku=null,e;0!==(1&Yu)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function xc(){if(null!==Qu){var e=bt(Yu),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!==(6&Au))throw Error(a(331));var i=Au;for(Au|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Sc(u,u.return,_)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Au=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function Ec(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Ou&n)===n&&(4===Lu||3===Lu&&(130023424&Ou)===Ou&&500>Xe()-Bu?dc(e,0):ju|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Rc(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case E:s=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case R:return(e=Oc(19,n,t,i)).elementType=R,e.lanes=o,e;case P:return Uc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case N:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Uc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function Hc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ns(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),Ha(t,r,i),Wa(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){qc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Au)&&(Hu=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Et=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ie,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,S=null,T=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function R(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?x():(E=!1,S=null)}}else E=!1}if("function"===typeof k)x=function(){k(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,O=N.port2;N.port1.onmessage=R,x=function(){O.postMessage(null)}}else x=function(){y(R,0)};function P(e){S=e,E||(E=!0,x())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,P(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,function(){"use strict";var e=n(791),t=n.t(e,2),r=n(250);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||o(e,t)||s()}function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)};function f(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function h(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var d=n(613),p=n.n(d),v="-ms-",m="-moz-",y="-webkit-",g="comm",k="rule",b="decl",w="@import",_="@keyframes",x="@layer",E=Math.abs,S=String.fromCharCode,T=Object.assign;function I(e,t){return 45^O(e,0)?(((t<<2^O(e,0))<<2^O(e,1))<<2^O(e,2))<<2^O(e,3):0}function C(e){return e.trim()}function A(e,t){return(e=t.exec(e))?e[0]:e}function R(e,t,n){return e.replace(t,n)}function N(e,t){return e.indexOf(t)}function O(e,t){return 0|e.charCodeAt(t)}function P(e,t,n){return e.slice(t,n)}function D(e){return e.length}function L(e){return e.length}function M(e,t){return t.push(e),e}function U(e,t){return e.map(t).join("")}var F=1,j=1,V=0,z=0,B=0,H="";function q(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:F,column:j,length:o,return:""}}function W(e,t){return T(q("",null,null,"",null,null,0),e,{length:-e.length},t)}function K(){return B=z>0?O(H,--z):0,j--,10===B&&(j=1,F--),B}function G(){return B=z<V?O(H,z++):0,j++,10===B&&(j=1,F++),B}function $(){return O(H,z)}function Q(){return z}function Y(e,t){return P(H,e,t)}function X(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function J(e){return F=j=1,V=D(H=e),z=0,[]}function Z(e){return H="",e}function ee(e){return C(Y(z-1,re(91===e?e+2:40===e?e+1:e)))}function te(e){for(;(B=$())&&B<33;)G();return X(e)>2||X(B)>3?"":" "}function ne(e,t){for(;--t&&G()&&!(B<48||B>102||B>57&&B<65||B>70&&B<97););return Y(e,Q()+(t<6&&32==$()&&32==G()))}function re(e){for(;G();)switch(B){case e:return z;case 34:case 39:34!==e&&39!==e&&re(B);break;case 40:41===e&&re(e);break;case 92:G()}return z}function ie(e,t){for(;G()&&e+B!==57&&(e+B!==84||47!==$()););return"/*"+Y(t,z-1)+"*"+S(47===e?e:G())}function ae(e){for(;!X($());)G();return Y(e,z)}function oe(e,t){for(var n="",r=L(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function se(e,t,n,r){switch(e.type){case x:if(e.children.length)break;case w:case b:return e.return=e.return||e.value;case g:return"";case _:return e.return=e.value+"{"+oe(e.children,r)+"}";case k:e.value=e.props.join(",")}return D(n=oe(e.children,r))?e.return=e.value+"{"+n+"}":""}function ue(e,t,n){switch(I(e,t)){case 5103:return y+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return y+e+e;case 4789:return m+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return y+e+m+e+v+e+e;case 5936:switch(O(e,t+11)){case 114:return y+e+v+R(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return y+e+v+R(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return y+e+v+R(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return y+e+v+e+e;case 6165:return y+e+v+"flex-"+e+e;case 5187:return y+e+R(e,/(\w+).+(:[^]+)/,y+"box-$1$2"+v+"flex-$1$2")+e;case 5443:return y+e+v+"flex-item-"+R(e,/flex-|-self/g,"")+(A(e,/flex-|baseline/)?"":v+"grid-row-"+R(e,/flex-|-self/g,""))+e;case 4675:return y+e+v+"flex-line-pack"+R(e,/align-content|flex-|-self/g,"")+e;case 5548:return y+e+v+R(e,"shrink","negative")+e;case 5292:return y+e+v+R(e,"basis","preferred-size")+e;case 6060:return y+"box-"+R(e,"-grow","")+y+e+v+R(e,"grow","positive")+e;case 4554:return y+R(e,/([^-])(transform)/g,"$1"+y+"$2")+e;case 6187:return R(R(R(e,/(zoom-|grab)/,y+"$1"),/(image-set)/,y+"$1"),e,"")+e;case 5495:case 3959:return R(e,/(image-set\([^]*)/,y+"$1$`$1");case 4968:return R(R(e,/(.+:)(flex-)?(.*)/,y+"box-pack:$3"+v+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+y+e+e;case 4200:if(!A(e,/flex-|baseline/))return v+"grid-column-align"+P(e,t)+e;break;case 2592:case 3360:return v+R(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,A(e.props,/grid-\w+-end/)}))?~N(e+(n=n[t].value),"span")?e:v+R(e,"-start","")+e+v+"grid-row-span:"+(~N(n,"span")?A(n,/\d+/):+A(n,/\d+/)-+A(e,/\d+/))+";":v+R(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return A(e.props,/grid-\w+-start/)}))?e:v+R(R(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return R(e,/(.+)-inline(.+)/,y+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(D(e)-1-t>6)switch(O(e,t+1)){case 109:if(45!==O(e,t+4))break;case 102:return R(e,/(.+:)(.+)-([^]+)/,"$1"+y+"$2-$3$1"+m+(108==O(e,t+3)?"$3":"$2-$3"))+e;case 115:return~N(e,"stretch")?ue(R(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return R(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,a,o,s){return v+n+":"+r+s+(i?v+n+"-span:"+(a?o:+o-+r)+s:"")+e}));case 4949:if(121===O(e,t+6))return R(e,":",":"+y)+e;break;case 6444:switch(O(e,45===O(e,14)?18:11)){case 120:return R(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+y+(45===O(e,14)?"inline-":"")+"box$3$1"+y+"$2$3$1"+v+"$2box$3")+e;case 100:return R(e,":",":"+v)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return R(e,"scroll-","scroll-snap-")+e}return e}function ce(e){var t=L(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}function le(e){return function(t){t.root||(t=t.return)&&e(t)}}function fe(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case b:return void(e.return=ue(e.value,e.length,n));case _:return oe([W(e,{value:R(e.value,"@","@"+y)})],r);case k:if(e.length)return U(e.props,(function(t){switch(A(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return oe([W(e,{props:[R(t,/:(read-\w+)/,":"+m+"$1")]})],r);case"::placeholder":return oe([W(e,{props:[R(t,/:(plac\w+)/,":"+y+"input-$1")]}),W(e,{props:[R(t,/:(plac\w+)/,":"+m+"$1")]}),W(e,{props:[R(t,/:(plac\w+)/,v+"input-$1")]})],r)}return""}))}}function he(e){return Z(de("",null,null,null,[""],e=J(e),0,[0],e))}function de(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,_=r,x=k;m;)switch(p=g,g=G()){case 40:if(108!=p&&58==O(x,f-1)){-1!=N(x+=R(ee(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:x+=ee(g);break;case 9:case 10:case 13:case 32:x+=te(p);break;case 92:x+=ne(Q()-1,7);continue;case 47:switch($()){case 42:case 47:M(ve(ie(G(),Q()),t,n),u);break;default:x+="/"}break;case 123*v:s[c++]=D(x)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:-1==y&&(x=R(x,/\f/g,"")),d>0&&D(x)-f&&M(d>32?me(x+";",r,n,f-1):me(R(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(M(_=pe(x,t,n,c,l,i,s,k,b=[],w=[],f),a),123===g)if(0===l)de(x,t,_,_,b,a,f,s,w);else switch(99===h&&110===O(x,3)?100:h){case 100:case 108:case 109:case 115:de(e,_,_,r&&M(pe(e,_,_,0,0,i,s,k,i,b=[],f),w),i,w,f,s,r?b:w);break;default:de(x,_,_,_,[""],w,0,s,w)}}c=l=d=0,v=y=1,k=x="",f=o;break;case 58:f=1+D(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==K())continue;switch(x+=S(g),g*v){case 38:y=l>0?1:(x+="\f",-1);break;case 44:s[c++]=(D(x)-1)*y,y=1;break;case 64:45===$()&&(x+=ee(G())),h=$(),l=f=D(k=x+=ae(Q())),g++;break;case 45:45===p&&2==D(x)&&(v=0)}}return a}function pe(e,t,n,r,i,a,o,s,u,c,l){for(var f=i-1,h=0===i?a:[""],d=L(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=P(e,f+1,f=E(v=o[p])),b=e;y<d;++y)(b=C(v>0?h[y]+" "+g:R(g,/&\f/g,h[y])))&&(u[m++]=b);return q(e,t,n,0===i?k:s,u,c,l)}function ve(e,t,n){return q(e,t,n,g,S(B),P(e,2,-2),0)}function me(e,t,n,r){return q(e,t,n,b,P(e,0,r),P(e,r+1,-1),r)}var ye={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ge="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",ke="undefined"!=typeof window&&"HTMLElement"in window,be=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),we=(new Set,Object.freeze([])),_e=Object.freeze({});function xe(e,t,n){return void 0===n&&(n=_e),e.theme!==n.theme&&e.theme||t||n.theme}var Ee=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Se=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Te=/(^-|-$)/g;function Ie(e){return e.replace(Se,"-").replace(Te,"")}var Ce=/(a)(d)/gi,Ae=function(e){return String.fromCharCode(e+(e>25?39:97))};function Re(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Ae(t%52)+n;return(Ae(t%52)+n).replace(Ce,"$1-$2")}var Ne,Oe=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Pe=function(e){return Oe(5381,e)};function De(e){return Re(Pe(e)>>>0)}function Le(e){return e.displayName||e.name||"Component"}function Me(e){return"string"==typeof e&&!0}var Ue="function"==typeof Symbol&&Symbol.for,Fe=Ue?Symbol.for("react.memo"):60115,je=Ue?Symbol.for("react.forward_ref"):60112,Ve={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ze={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Be={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},He=((Ne={})[je]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ne[Fe]=Be,Ne);function qe(e){return("type"in(t=e)&&t.type.$$typeof)===Fe?Be:"$$typeof"in e?He[e.$$typeof]:Ve;var t}var We=Object.defineProperty,Ke=Object.getOwnPropertyNames,Ge=Object.getOwnPropertySymbols,$e=Object.getOwnPropertyDescriptor,Qe=Object.getPrototypeOf,Ye=Object.prototype;function Xe(e,t,n){if("string"!=typeof t){if(Ye){var r=Qe(t);r&&r!==Ye&&Xe(e,r,n)}var i=Ke(t);Ge&&(i=i.concat(Ge(t)));for(var a=qe(e),o=qe(t),s=0;s<i.length;++s){var u=i[s];if(!(u in ze||n&&n[u]||o&&u in o||a&&u in a)){var c=$e(t,u);try{We(e,u,c)}catch(e){}}}}return e}function Je(e){return"function"==typeof e}function Ze(e){return"object"==typeof e&&"styledComponentId"in e}function et(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function tt(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function nt(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function rt(e,t,n){if(void 0===n&&(n=!1),!n&&!nt(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=rt(e[r],t[r]);else if(nt(t))for(var r in t)e[r]=rt(e[r],t[r]);return e}function it(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var at=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw it(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=(a=0,t.length);a<s;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+="".concat(this.tag.getRule(a)).concat("/*!sc*/\n");return t},e}(),ot=new Map,st=new Map,ut=1,ct=function(e){if(ot.has(e))return ot.get(e);for(;st.has(ut);)ut++;var t=ut++;return ot.set(e,t),st.set(t,e),t},lt=function(e,t){ot.set(e,t),st.set(t,e)},ft="style[".concat(ge,"][").concat("data-styled-version",'="').concat("6.0.0-rc.1",'"]'),ht=new RegExp("^".concat(ge,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),dt=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},pt=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split("/*!sc*/\n"),i=[],a=0,o=r.length;a<o;a++){var s=r[a].trim();if(s){var u=s.match(ht);if(u){var c=0|parseInt(u[1],10),l=u[2];0!==c&&(lt(l,c),dt(e,l,u[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}};function vt(){return n.nc}var mt=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(ge))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(ge,"active"),r.setAttribute("data-styled-version","6.0.0-rc.1");var o=vt();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},yt=function(){function e(e){this.element=mt(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw it(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),gt=function(){function e(e){this.element=mt(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),kt=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),bt=ke,wt={isServer:!ke,useCSSOMInjection:!be},_t=function(){function e(e,t,n){void 0===e&&(e=_e),void 0===t&&(t={}),this.options=l(l({},wt),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ke&&bt&&(bt=!1,function(e){for(var t=document.querySelectorAll(ft),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(ge)&&(pt(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}return e.registerId=function(e){return ct(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(l(l({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new kt(n):t?new yt(n):new gt(n)}(this.options),new at(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(ct(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(ct(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(ct(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e.prototype.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return st.get(e)}(n);if(void 0===i)return"continue";var a=e.names.get(i),o=t.getGroup(n);if(void 0===a||0===o.length)return"continue";var s="".concat(ge,".g").concat(n,'[id="').concat(i,'"]'),u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+="".concat(e,","))})),r+="".concat(o).concat(s,'{content:"').concat(u,'"}').concat("/*!sc*/\n")},a=0;a<n;a++)i(a);return r}(this)},e}(),xt=/&/g,Et=/^\s*\/\/.*$/gm;function St(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=St(e.children,t)),e}))}function Tt(e){var t,n,r,i=void 0===e?_e:e,a=i.options,o=void 0===a?_e:a,s=i.plugins,u=void 0===s?we:s,c=function(e,r,i){return i===n||i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},l=u.slice();o.prefix&&l.unshift(fe),l.push((function(e){e.type===k&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(xt,n).replace(r,c))}),se);var f=function(e,i,a,s){void 0===i&&(i=""),void 0===a&&(a=""),void 0===s&&(s="&"),t=s,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var u=e.replace(Et,""),c=he(a||i?"".concat(a," ").concat(i," { ").concat(u," }"):u);return o.namespace&&(c=St(c,o.namespace)),function(e,t){for(var n=[],r=0,i=void 0;r<e.length;r+=1)(i=t(e[r],r,e,t))&&n.push(i);return n}(c,ce(l))};return f.hash=u.length?u.reduce((function(e,t){return t.name||it(15),Oe(e,t.name)}),5381).toString():"",f}var It=new _t,Ct=Tt(),At=e.createContext({shouldForwardProp:void 0,styleSheet:It,stylis:Ct}),Rt=(At.Consumer,e.createContext(void 0));function Nt(){return(0,e.useContext)(At)}function Ot(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],a=Nt().styleSheet,o=(0,e.useMemo)((function(){var e=a;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target,a]),s=(0,e.useMemo)((function(){return Tt({options:{namespace:t.namespace,prefix:t.enableVendorPrefixes},plugins:r})}),[t.enableVendorPrefixes,t.namespace,r]);return(0,e.useEffect)((function(){p()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(At.Provider,{value:{shouldForwardProp:t.shouldForwardProp,styleSheet:o,stylis:s}},e.createElement(Rt.Provider,{value:s},t.children))}var Pt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Ct);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){throw it(12,String(n.name))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Ct),this.name+e.hash},e}(),Dt=function(e){return e>="A"&&e<="Z"};function Lt(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Dt(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Mt=function(e){return null==e||!1===e||""===e},Ut=function e(t){var n,r,i=[];for(var a in t){var o=t[a];t.hasOwnProperty(a)&&!Mt(o)&&(Array.isArray(o)&&o.isCss||Je(o)?i.push("".concat(Lt(a),":"),o,";"):nt(o)?i.push.apply(i,h(h(["".concat(a," {")],e(o),!1),["}"],!1)):i.push("".concat(Lt(a),": ").concat((n=a,null==(r=o)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in ye||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return i};function Ft(e,t,n,r){return Mt(e)?[]:Ze(e)?[".".concat(e.styledComponentId)]:Je(e)?!Je(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Ft(e(t),t,n,r):e instanceof Pt?n?(e.inject(n,r),[e.getName(r)]):[e]:nt(e)?Ut(e):Array.isArray(e)?e.flatMap((function(e){return Ft(e,t,n,r)})):[e.toString()];var i}function jt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Je(n)&&!Ze(n))return!1}return!0}var Vt=Pe("6.0.0-rc.1"),zt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&jt(e),this.componentId=t,this.baseHash=Oe(Vt,t),this.baseStyle=n,_t.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=et(r,this.staticRulesId);else{var i=tt(Ft(this.rules,e,t,n)),a=Re(Oe(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}r=et(r,a),this.staticRulesId=a}else{for(var s=Oe(this.baseHash,n.hash),u="",c=0;c<this.rules.length;c++){var l=this.rules[c];if("string"==typeof l)u+=l;else if(l){var f=tt(Ft(l,e,t,n));s=Oe(s,f),u+=f}}if(u){var h=Re(s>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(u,".".concat(h),void 0,this.componentId)),r=et(r,h)}}return r},e}(),Bt=e.createContext(void 0);Bt.Consumer;function Ht(){return(0,e.useContext)(Bt)}var qt={};function Wt(t,n,r){var i=Ze(t),a=t,o=!Me(t),s=n.attrs,u=void 0===s?we:s,c=n.componentId,f=void 0===c?function(e,t){var n="string"!=typeof e?"sc":Ie(e);qt[n]=(qt[n]||0)+1;var r="".concat(n,"-").concat(De("6.0.0-rc.1"+n+qt[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):c,h=n.displayName,d=void 0===h?function(e){return Me(e)?"styled.".concat(e):"Styled(".concat(Le(e),")")}(t):h,p=n.displayName&&n.componentId?"".concat(Ie(n.displayName),"-").concat(n.componentId):n.componentId||f,v=i&&a.attrs?a.attrs.concat(u).filter(Boolean):u,m=n.shouldForwardProp;if(i&&a.shouldForwardProp){var y=a.shouldForwardProp;if(n.shouldForwardProp){var g=n.shouldForwardProp;m=function(e,t){return y(e,t)&&g(e,t)}}else m=y}var k=new zt(r,p,i?a.componentStyle:void 0),b=k.isStatic&&0===u.length;function w(t,n){return function(t,n,r,i){var a=t.attrs,o=t.componentStyle,s=t.defaultProps,u=t.foldedComponentIds,c=t.styledComponentId,f=t.target,h=Ht(),d=Nt(),p=t.shouldForwardProp||d.shouldForwardProp,v=function(e,t,n){for(var r,i=l(l({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var o=Je(r=e[a])?r(i):r;for(var s in o)i[s]="className"===s?et(i[s],o[s]):"style"===s?l(l({},i[s]),o[s]):o[s]}return t.className&&(i.className=et(i.className,t.className)),i}(a,n,xe(n,h,s)||_e),m=v.as||f,y={};for(var g in v)void 0===v[g]||"$"===g[0]||"as"===g||"theme"===g||("forwardedAs"===g?y.as=v.forwardedAs:p&&!p(g,m)||(y[g]=v[g]));var k=function(e,t,n){var r=Nt();return e.generateAndInjectStyles(t?_e:n,r.styleSheet,r.stylis)}(o,i,v),b=et(u,c);return k&&(b+=" "+k),v.className&&(b+=" "+v.className),y[Me(m)&&!Ee.has(m)?"class":"className"]=b,y.ref=r,(0,e.createElement)(m,y)}(_,t,n,b)}w.displayName=d;var _=e.forwardRef(w);return _.attrs=v,_.componentStyle=k,_.displayName=d,_.shouldForwardProp=m,_.foldedComponentIds=i?et(a.foldedComponentIds,a.styledComponentId):"",_.styledComponentId=p,_.target=i?a.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)rt(e,i[r],!0);return e}({},a.defaultProps,e):e}}),Object.defineProperty(_,"toString",{value:function(){return".".concat(_.styledComponentId)}}),o&&Xe(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function Kt(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Gt=function(e){return Object.assign(e,{isCss:!0})};function $t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Je(e)||nt(e))return Gt(Ft(Kt(we,h([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Ft(r):Gt(Ft(Kt(r,t)))}function Qt(e,t,n){if(void 0===n&&(n=_e),!t)throw it(1,t);var r=function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return e(t,n,$t.apply(void 0,h([r],i,!1)))};return r.attrs=function(r){return Qt(e,t,l(l({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Qt(e,t,l(l({},n),r))},r}var Yt=function(e){return Qt(Wt,e)},Xt=Yt;Ee.forEach((function(e){Xt[e]=Yt(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=jt(e),_t.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(tt(Ft(this.rules,t,n,r)),""),a=this.componentId+e;n.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&_t.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();(function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=vt(),r=tt([n&&'nonce="'.concat(n,'"'),"".concat(ge,'="true"'),"".concat("data-styled-version",'="').concat("6.0.0-rc.1",'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(e,"</style>")},this.getStyleTags=function(){if(t.sealed)throw it(2);return t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)throw it(2);var r=((n={})[ge]="",n["data-styled-version"]="6.0.0-rc.1",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=vt();return i&&(r.nonce=i),[e.createElement("style",l({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new _t({isServer:!0}),this.sealed=!1}t.prototype.collectStyles=function(t){if(this.sealed)throw it(2);return e.createElement(Ot,{sheet:this.instance},t)},t.prototype.interleaveWithNodeStream=function(e){throw it(3)}})(),"__sc-".concat(ge,"__");function Jt(e){return Jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jt(e)}function Zt(){return Zt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Zt.apply(this,arguments)}function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(e,t){return tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tn(e,t)}function nn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tn(e,t)}function rn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function an(e){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}function on(e){var t=rn();return function(){var n,r=Jt(e);if(t){var i=Jt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===an(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return en(e)}(this,n)}}function sn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function un(){un=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new S(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(T([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==an(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),u(g,s,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function cn(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function ln(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){cn(a,r,i,o,s,"next",e)}function s(e){cn(a,r,i,o,s,"throw",e)}o(void 0)}))}}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e){var t=function(e,t){if("object"!==an(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==an(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===an(t)?t:String(t)}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hn(r.key),r)}}function pn(e,t,n){return t&&dn(e.prototype,t),n&&dn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function mn(e){return function(e){if(Array.isArray(e))return a(e)}(e)||vn(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t,n){return(t=hn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t,n){return gn=rn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&tn(i,n.prototype),i},gn.apply(null,arguments)}function kn(e){var t="function"===typeof Map?new Map:void 0;return kn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return gn(e,arguments,Jt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),tn(n,e)},kn(e)}var bn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},wn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new _n;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_n=function(e){nn(n,e);var t=on(n);function n(){var e;return fn(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return pn(n)}(kn(Error)),xn=function(e){return function(e){var t=bn(e);return wn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},En=function(e){try{return wn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var Sn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Tn=function(){try{return Sn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&En(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},In=function(e){var t,n;return null===(n=null===(t=Tn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Cn=function(e){var t=In(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},An=function(){var e;return null===(e=Tn())||void 0===e?void 0:e.config},Rn=function(e){var t;return null===(t=Tn())||void 0===t?void 0:t["_".concat(e)]},Nn=function(){function e(){var t=this;fn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return pn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function On(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xn(JSON.stringify({alg:"none",type:"JWT"})),xn(JSON.stringify(a)),""].join(".")}function Pn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dn(){var e,t=null===(e=Tn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ln(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Mn=function(e){nn(n,e);var t=on(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(en(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(en(a),Un.prototype.create),a}return pn(n)}(kn(Error)),Un=function(){function e(t,n,r){fn(this,e),this.service=t,this.serviceName=n,this.errors=r}return pn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Fn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Mn(n,a,t)}}]),e}();var Fn=/\{\$([^}]+)}/g;function jn(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Vn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(zn(s)&&zn(u)){if(!Vn(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function zn(e){return null!==e&&"object"===typeof e}function Bn(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Hn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function qn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Wn=function(){function e(t,n){var r=this;fn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return pn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=sn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Kn),void 0===r.error&&(r.error=Kn),void 0===r.complete&&(r.complete=Kn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Kn(){}function Gn(e){return e&&e._delegate?e._delegate:e}var $n=function(){function e(t,n,r){fn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return pn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Qn="[DEFAULT]",Yn=function(){function e(t,n){fn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return pn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Nn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch(c){}var t,n=sn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ln(un().mark((function e(){var t;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(mn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),mn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=sn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Xn(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn;return this.component?this.component.multipleInstances?e:Qn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Xn(e){return e===Qn?void 0:e}var Jn,Zn,er=function(){function e(t){fn(this,e),this.name=t,this.providers=new Map}return pn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Yn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),tr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Zn||(Zn={}));var nr={debug:Zn.DEBUG,verbose:Zn.VERBOSE,info:Zn.INFO,warn:Zn.WARN,error:Zn.ERROR,silent:Zn.SILENT},rr=Zn.INFO,ir=(yn(Jn={},Zn.DEBUG,"log"),yn(Jn,Zn.VERBOSE,"log"),yn(Jn,Zn.INFO,"info"),yn(Jn,Zn.WARN,"warn"),yn(Jn,Zn.ERROR,"error"),Jn),ar=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ir[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},or=function(){function e(t){fn(this,e),this.name=t,this._logLevel=rr,this._logHandler=ar,this._userLogHandler=null,tr.push(this)}return pn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Zn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?nr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zn.DEBUG].concat(t)),this._logHandler.apply(this,[this,Zn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Zn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zn.INFO].concat(t)),this._logHandler.apply(this,[this,Zn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zn.WARN].concat(t)),this._logHandler.apply(this,[this,Zn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zn.ERROR].concat(t)),this._logHandler.apply(this,[this,Zn.ERROR].concat(t))}}]),e}();function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cr,lr,fr=function(e,t){return t.some((function(t){return e instanceof t}))};var hr=new WeakMap,dr=new WeakMap,pr=new WeakMap,vr=new WeakMap,mr=new WeakMap;var yr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return dr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||pr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return br(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function gr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(lr||(lr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(wr(this),n),br(hr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return br(e.apply(wr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[wr(this),t].concat(r));return pr.set(a,t.sort?t.sort():[t]),br(a)}}function kr(e){return"function"===typeof e?gr(e):(e instanceof IDBTransaction&&function(e){if(!dr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));dr.set(e,t)}}(e),fr(e,cr||(cr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,yr):e)}function br(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(br(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&hr.set(t,e)})).catch((function(){})),mr.set(t,e),t}(e);if(vr.has(e))return vr.get(e);var t=kr(e);return t!==e&&(vr.set(e,t),mr.set(t,e)),t}var wr=function(e){return mr.get(e)};var _r,xr,Er=["get","getKey","getAll","getAllKeys","count"],Sr=["put","add","delete","clear"],Tr=new Map;function Ir(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Tr.get(t))return Tr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Sr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Er.includes(n))){var a=function(){var e=ln(un().mark((function e(t){var a,o,s,u,c,l,f=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Tr.set(t,a),a}}}yr=function(e){return ur(ur({},e),{},{get:function(t,n,r){return Ir(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ir(t,n)||e.has(t,n)}})}(yr);var Cr=function(){function e(t){fn(this,e),this.container=t}return pn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ar="@firebase/app",Rr="0.9.10",Nr=new or("@firebase/app"),Or="[DEFAULT]",Pr=(yn(_r={},Ar,"fire-core"),yn(_r,"@firebase/app-compat","fire-core-compat"),yn(_r,"@firebase/analytics","fire-analytics"),yn(_r,"@firebase/analytics-compat","fire-analytics-compat"),yn(_r,"@firebase/app-check","fire-app-check"),yn(_r,"@firebase/app-check-compat","fire-app-check-compat"),yn(_r,"@firebase/auth","fire-auth"),yn(_r,"@firebase/auth-compat","fire-auth-compat"),yn(_r,"@firebase/database","fire-rtdb"),yn(_r,"@firebase/database-compat","fire-rtdb-compat"),yn(_r,"@firebase/functions","fire-fn"),yn(_r,"@firebase/functions-compat","fire-fn-compat"),yn(_r,"@firebase/installations","fire-iid"),yn(_r,"@firebase/installations-compat","fire-iid-compat"),yn(_r,"@firebase/messaging","fire-fcm"),yn(_r,"@firebase/messaging-compat","fire-fcm-compat"),yn(_r,"@firebase/performance","fire-perf"),yn(_r,"@firebase/performance-compat","fire-perf-compat"),yn(_r,"@firebase/remote-config","fire-rc"),yn(_r,"@firebase/remote-config-compat","fire-rc-compat"),yn(_r,"@firebase/storage","fire-gcs"),yn(_r,"@firebase/storage-compat","fire-gcs-compat"),yn(_r,"@firebase/firestore","fire-fst"),yn(_r,"@firebase/firestore-compat","fire-fst-compat"),yn(_r,"fire-js","fire-js"),yn(_r,"firebase","fire-js-all"),_r),Dr=new Map,Lr=new Map;function Mr(e,t){try{e.container.addComponent(t)}catch(n){Nr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ur(e){var t=e.name;if(Lr.has(t))return Nr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Lr.set(t,e);var n,r=sn(Dr.values());try{for(r.s();!(n=r.n()).done;){Mr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Fr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var jr=(yn(xr={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),yn(xr,"bad-app-name","Illegal App name: '{$appName}"),yn(xr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),yn(xr,"app-deleted","Firebase App named '{$appName}' already deleted"),yn(xr,"no-options","Need to provide options, when not being deployed to hosting via source."),yn(xr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),yn(xr,"invalid-log-argument","First argument to `onLog` must be null or a function."),yn(xr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),yn(xr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),yn(xr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),yn(xr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),xr),Vr=new Un("app","Firebase",jr),zr=function(){function e(t,n,r){var i=this;fn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $n("app",(function(){return i}),"PUBLIC"))}return pn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}]),e}(),Br="9.22.0";function Hr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Or,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Vr.create("bad-app-name",{appName:String(i)});if(n||(n=An()),!n)throw Vr.create("no-options");var a=Dr.get(i);if(a){if(Vn(n,a.options)&&Vn(r,a.config))return a;throw Vr.create("duplicate-app",{appName:i})}var o,s=new er(i),u=sn(Lr.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new zr(n,r,s);return Dr.set(i,l),l}function qr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or,t=Dr.get(e);if(!t&&e===Or&&An())return Hr();if(!t)throw Vr.create("no-app",{appName:e});return t}function Wr(e,t,n){var r,i=null!==(r=Pr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Nr.warn(s.join(" "))}Ur(new $n("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Kr="firebase-heartbeat-database",Gr=1,$r="firebase-heartbeat-store",Qr=null;function Yr(){return Qr||(Qr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=br(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(br(s.result),e.oldVersion,e.newVersion,br(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Kr,Gr,{upgrade:function(e,t){if(0===t)e.createObjectStore($r)}}).catch((function(e){throw Vr.create("idb-open",{originalErrorMessage:e.message})}))),Qr}function Xr(e){return Jr.apply(this,arguments)}function Jr(){return Jr=ln(un().mark((function e(t){var n,r,i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yr();case 3:return n=e.sent,e.next=6,n.transaction($r).objectStore($r).get(ti(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Mn?Nr.warn(e.t0.message):(i=Vr.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Nr.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Jr.apply(this,arguments)}function Zr(e,t){return ei.apply(this,arguments)}function ei(){return ei=ln(un().mark((function e(t,n){var r,i,a,o;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yr();case 3:return r=e.sent,i=r.transaction($r,"readwrite"),a=i.objectStore($r),e.next=8,a.put(n,ti(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Mn?Nr.warn(e.t0.message):(o=Vr.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Nr.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),ei.apply(this,arguments)}function ti(e){return"".concat(e.name,"!").concat(e.options.appId)}var ni=function(){function e(t){var n=this;fn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new si(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return pn(e,[{key:"triggerHeartbeat",value:function(){var e=ln(un().mark((function e(){var t,n,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ri(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ln(un().mark((function e(){var t,n,r,i,a;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ri(),n=ii(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=xn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ri(){return(new Date).toISOString().substring(0,10)}function ii(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=sn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ui(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ui(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ai,oi,si=function(){function e(t){fn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return pn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ln()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ln(un().mark((function e(){var t;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Xr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ln(un().mark((function e(t){var n,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Zr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ln(un().mark((function e(t){var n,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Zr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(mn(r.heartbeats),mn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ui(e){return xn(JSON.stringify({version:2,heartbeats:e})).length}ai="",Ur(new $n("platform-logger",(function(e){return new Cr(e)}),"PRIVATE")),Ur(new $n("heartbeat",(function(e){return new ni(e)}),"PRIVATE")),Wr(Ar,Rr,ai),Wr(Ar,Rr,"esm2017"),Wr("fire-js","");function ci(){return yn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var li=ci,fi=new Un("auth","Firebase",ci()),hi=new or("@firebase/auth");function di(e){if(hi.logLevel<=Zn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hi.warn.apply(hi,["Auth (".concat(Br,"): ").concat(e)].concat(n))}}function pi(e){if(hi.logLevel<=Zn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hi.error.apply(hi,["Auth (".concat(Br,"): ").concat(e)].concat(n))}}function vi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw gi.apply(void 0,[e].concat(n))}function mi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gi.apply(void 0,[e].concat(n))}function yi(e,t,n){var r=Object.assign(Object.assign({},li()),yn({},t,n));return new Un("auth","Firebase",r).create(t,{appName:e.name})}function gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=mn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(mn(o)))}return fi.create.apply(fi,[e].concat(n))}function ki(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw gi.apply(void 0,[t].concat(r))}}function bi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw pi(t),new Error(t)}function wi(e,t){e||bi(t)}function _i(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xi(){return"http:"===Ei()||"https:"===Ei()}function Ei(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Si(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(xi()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Ti=function(){function e(t,n){fn(this,e),this.shortDelay=t,this.longDelay=n,wi(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())||"object"===typeof navigator&&"ReactNative"===navigator.product}return pn(e,[{key:"get",value:function(){return Si()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Ii(e,t){wi(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ci=function(){function e(){fn(this,e)}return pn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ai=(yn(oi={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),yn(oi,"MISSING_CUSTOM_TOKEN","internal-error"),yn(oi,"INVALID_IDENTIFIER","invalid-email"),yn(oi,"MISSING_CONTINUE_URI","internal-error"),yn(oi,"INVALID_PASSWORD","wrong-password"),yn(oi,"MISSING_PASSWORD","missing-password"),yn(oi,"EMAIL_EXISTS","email-already-in-use"),yn(oi,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),yn(oi,"INVALID_IDP_RESPONSE","invalid-credential"),yn(oi,"INVALID_PENDING_TOKEN","invalid-credential"),yn(oi,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),yn(oi,"MISSING_REQ_TYPE","internal-error"),yn(oi,"EMAIL_NOT_FOUND","user-not-found"),yn(oi,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),yn(oi,"EXPIRED_OOB_CODE","expired-action-code"),yn(oi,"INVALID_OOB_CODE","invalid-action-code"),yn(oi,"MISSING_OOB_CODE","internal-error"),yn(oi,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),yn(oi,"INVALID_ID_TOKEN","invalid-user-token"),yn(oi,"TOKEN_EXPIRED","user-token-expired"),yn(oi,"USER_NOT_FOUND","user-token-expired"),yn(oi,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),yn(oi,"INVALID_CODE","invalid-verification-code"),yn(oi,"INVALID_SESSION_INFO","invalid-verification-id"),yn(oi,"INVALID_TEMPORARY_PROOF","invalid-credential"),yn(oi,"MISSING_SESSION_INFO","missing-verification-id"),yn(oi,"SESSION_EXPIRED","code-expired"),yn(oi,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),yn(oi,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),yn(oi,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),yn(oi,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),yn(oi,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),yn(oi,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),yn(oi,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),yn(oi,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),yn(oi,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),yn(oi,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),yn(oi,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),yn(oi,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),yn(oi,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),yn(oi,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),yn(oi,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),yn(oi,"MISSING_CLIENT_TYPE","missing-client-type"),yn(oi,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),yn(oi,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),yn(oi,"INVALID_REQ_TYPE","invalid-req-type"),oi),Ri=new Ti(3e4,6e4);function Ni(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Oi(e,t,n,r){return Pi.apply(this,arguments)}function Pi(){return Pi=ln(un().mark((function e(t,n,r,i){var a,o=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Di(t,a,ln(un().mark((function e(){var a,o,s,u;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Bn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ci.fetch()(Fi(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}function Di(e,t,n){return Li.apply(this,arguments)}function Li(){return Li=ln(un().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ai),n),e.prev=2,a=new ji(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Vi(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Vi(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Vi(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Vi(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw yi(t,p,d);case 34:vi(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Mn)){e.next=41;break}throw e.t0;case 41:vi(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Li.apply(this,arguments)}function Mi(e,t,n,r){return Ui.apply(this,arguments)}function Ui(){return Ui=ln(un().mark((function e(t,n,r,i){var a,o,s=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Oi(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&vi(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}function Fi(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ii(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ji=function(){function e(t){var n=this;fn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(mi(n.auth,"network-request-failed"))}),Ri.get())}))}return pn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Vi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=mi(e,t,r);return i.customData._tokenResponse=n,i}function zi(e,t){return Bi.apply(this,arguments)}function Bi(){return Bi=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oi(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function Hi(e,t){return qi.apply(this,arguments)}function qi(){return qi=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oi(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}function Wi(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ki(){return Ki=ln(un().mark((function e(t){var n,r,i,a,o,s,u=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Gn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ki((a=$i(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Wi(Gi(a.auth_time)),issuedAtTime:Wi(Gi(a.iat)),expirationTime:Wi(Gi(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Gi(e){return 1e3*Number(e)}function $i(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return pi("JWT malformed, contained fewer than 3 sections"),null;try{var a=En(r);return a?JSON.parse(a):(pi("Failed to decode base64 JWT payload"),null)}catch(o){return pi("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Qi(e,t){return Yi.apply(this,arguments)}function Yi(){return Yi=ln(un().mark((function e(t,n){var r=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Mn&&Xi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Yi.apply(this,arguments)}function Xi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ji=function(){function e(t){fn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return pn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ln(un().mark((function t(){return un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Zi=function(){function e(t,n){fn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return pn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Wi(this.lastLoginAt),this.creationTime=Wi(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ea(e){return ta.apply(this,arguments)}function ta(){return ta=ln(un().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,d;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Qi(t,Hi(r,{idToken:i}));case 6:ki(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=f(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=ra(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zi(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(){return(na=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gn(t),e.next=3,ea(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(mn(n),mn(t))}function ia(e,t){return aa.apply(this,arguments)}function aa(){return aa=ln(un().mark((function e(t,n){var r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Di(t,{},ln(un().mark((function e(){var r,i,a,o,s,u;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Fi(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ci.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}var oa=function(){function e(){fn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return pn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ki(e.idToken,"internal-error"),ki("undefined"!==typeof e.idToken,"internal-error"),ki("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=$i(e);return ki(t,"internal-error"),ki("undefined"!==typeof t.exp,"internal-error"),ki("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ln(un().mark((function e(t){var n,r=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ki(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ln(un().mark((function e(t,n){var r,i,a,o;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return bi("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ki("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ki("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ki("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function sa(e,t){ki("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ua=function(){function e(t){fn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=f(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ji(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?mn(a.providerData):[],this.metadata=new Zi(a.createdAt||void 0,a.lastLoginAt||void 0)}return pn(e,[{key:"getIdToken",value:function(){var e=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qi(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ki(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ki.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return na.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ki(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){ki(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ln(un().mark((function e(t){var n,r,i=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ea(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ln(un().mark((function e(){var t;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Qi(this,zi(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;ki(k&&x,t,"internal-error");var E=oa.fromJSON(this.name,x);ki("string"===typeof k,t,"internal-error"),sa(f,t.name),sa(h,t.name),ki("boolean"===typeof b,t,"internal-error"),ki("boolean"===typeof w,t,"internal-error"),sa(d,t.name),sa(p,t.name),sa(v,t.name),sa(m,t.name),sa(y,t.name),sa(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=ln(un().mark((function t(n,r){var i,a,o,s=arguments;return un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new oa).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ea(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ca=new Map;function la(e){wi(e instanceof Function,"Expected a class definition");var t=ca.get(e);return t?(wi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ca.set(e,t),t)}var fa=function(){function e(){fn(this,e),this.type="NONE",this.storage={}}return pn(e,[{key:"_isAvailable",value:function(){var e=ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();fa.type="NONE";var ha=fa;function da(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var pa=function(){function e(t,n,r){fn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=da(this.userKey,a.apiKey,o),this.fullPersistenceKey=da("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return pn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ln(un().mark((function e(){var t;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ua._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ln(un().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(la(ha),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||la(ha),s=da(i,n.config.apiKey,n.name),u=null,c=sn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=ua._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function va(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ka(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ma(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wa(t))return"Blackberry";if(_a(t))return"Webos";if(ya(t))return"Safari";if((t.includes("chrome/")||ga(t))&&!t.includes("edge/"))return"Chrome";if(ba(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn();return/firefox\//i.test(e)}function ya(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn();return/crios\//i.test(e)}function ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn();return/iemobile/i.test(e)}function ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn();return/android/i.test(e)}function wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn();return/blackberry/i.test(e)}function _a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn();return/webos/i.test(e)}function xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ea(){return function(){var e=Pn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn();return xa(e)||ba(e)||_a(e)||wa(e)||/windows phone/i.test(e)||ka(e)}function Ta(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=va(Pn());break;case"Worker":t="".concat(va(Pn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Br,"/").concat(r)}function Ia(e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oi(t,"GET","/v2/recaptchaConfig",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}function Aa(e){return void 0!==e&&void 0!==e.enterprise}var Ra=pn((function e(t){if(fn(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Na(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=mi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Oa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Pa=function(){function e(t){fn(this,e),this.type="recaptcha-enterprise",this.auth=Fa(t)}return pn(e,[{key:"verify",value:function(){var e=ln(un().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Aa(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=ln(un().mark((function e(n,r){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ia(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Ra(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Aa(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Na("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Da(e,t,n){return La.apply(this,arguments)}function La(){return La=ln(un().mark((function e(t,n,r){var i,a,o,s,u=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Pa(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),La.apply(this,arguments)}var Ma=function(){function e(t){fn(this,e),this.auth=t,this.queue=[]}return pn(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ln(un().mark((function e(t){var n,r,i,a,o,s,u;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=sn(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=sn(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(we){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ua=function(){function e(t,n,r,i){fn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ja(this),this.idTokenSubscription=new ja(this),this.beforeStateQueue=new Ma(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return pn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=la(t)),this._initializationPromise=this.queue(ln(un().mark((function r(){var i,a;return un().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,pa.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ln(un().mark((function e(){var t;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ln(un().mark((function e(t){var n,r,i,a,o,s,u;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ki(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ea(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Gn(t):null)&&ki(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ln(un().mark((function e(t){var n,r=this,i=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ki(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ln(un().mark((function n(){return un().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(la(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=ln(un().mark((function e(){var t,n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ia(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Ra(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Pa(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Un("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ln(un().mark((function e(t,n){var r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ki(n=t&&la(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,pa.create(this,[la(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ln(un().mark((function e(t){var n,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ln(un().mark((function e(t){var n=this;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ki(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ki(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ta(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ln(un().mark((function e(){var t,n,r,i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ln(un().mark((function e(){var t,n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&di("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fa(e){return Gn(e)}var ja=function(){function e(t){var n=this;fn(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Wn(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return pn(e,[{key:"next",get:function(){return ki(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Va(e,t,n){var r=Fa(e);ki(r._canInitEmulator,r,"emulator-config-failed"),ki(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=za(t),o=function(e){var t=za(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ba(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:Ba(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function za(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ba(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ha=function(){function e(t,n){fn(this,e),this.providerId=t,this.signInMethod=n}return pn(e,[{key:"toJSON",value:function(){return bi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return bi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return bi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return bi("not implemented")}}]),e}();function qa(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ka(e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithPassword",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function $a(e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithEmailLink",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}function Ya(e,t){return Xa.apply(this,arguments)}function Xa(){return Xa=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithEmailLink",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}var Ja=function(e){nn(n,e);var t=on(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return fn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return pn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ln(un().mark((function e(t){var n,r,i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Da(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Ka(t,i));case 11:return e.abrupt("return",Ka(t,r).catch(function(){var e=ln(un().mark((function e(n){var i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Da(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Ka(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",$a(t,{email:this._email,oobCode:this._password}));case 13:vi(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qa(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ya(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:vi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ha);function Za(e,t){return eo.apply(this,arguments)}function eo(){return eo=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithIdp",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}var to=function(e){nn(n,e);var t=on(n);function n(){var e;return fn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return pn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Za(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Za(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Za(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=f(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ha);function no(e,t){return ro.apply(this,arguments)}function ro(){return ro=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oi(t,"POST","/v1/accounts:sendVerificationCode",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(){return io=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}function ao(){return ao=ln(un().mark((function e(t,n){var r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ni(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Vi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}var oo=yn({},"USER_NOT_FOUND","user-not-found");function so(){return so=ln(un().mark((function e(t,n){var r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ni(t,r),oo));case 2:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}var uo=function(e){nn(n,e);var t=on(n);function n(e){var r;return fn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return pn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return io.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ao.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return so.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ha);var co=function(){function e(t){var n,r,i,a,o,s;fn(this,e);var u=Hn(qn(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);ki(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return pn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Hn(qn(e)).link,n=t?Hn(qn(t)).deep_link_id:null,r=Hn(qn(e)).deep_link_id;return(r?Hn(qn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var lo=function(){function e(){fn(this,e),this.providerId=e.PROVIDER_ID}return pn(e,null,[{key:"credential",value:function(e,t){return Ja._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=co.parseLink(t);return ki(n,"argument-error"),Ja._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();lo.PROVIDER_ID="password",lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var fo=function(){function e(t){fn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return pn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ho=function(e){nn(n,e);var t=on(n);function n(){var e;return fn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return pn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return mn(this.scopes)}}]),n}(fo),po=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.call(this,"facebook.com")}return pn(n,null,[{key:"credential",value:function(e){return to._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(ho);po.FACEBOOK_SIGN_IN_METHOD="facebook.com",po.PROVIDER_ID="facebook.com";var vo=function(e){nn(n,e);var t=on(n);function n(){var e;return fn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return pn(n,null,[{key:"credential",value:function(e,t){return to._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(ho);vo.GOOGLE_SIGN_IN_METHOD="google.com",vo.PROVIDER_ID="google.com";var mo=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.call(this,"github.com")}return pn(n,null,[{key:"credential",value:function(e){return to._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(ho);mo.GITHUB_SIGN_IN_METHOD="github.com",mo.PROVIDER_ID="github.com";var yo=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.call(this,"twitter.com")}return pn(n,null,[{key:"credential",value:function(e,t){return to._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(ho);function go(e,t){return ko.apply(this,arguments)}function ko(){return ko=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signUp",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}yo.TWITTER_SIGN_IN_METHOD="twitter.com",yo.PROVIDER_ID="twitter.com";var bo=function(){function e(t){fn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return pn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ln(un().mark((function t(n,r,i){var a,o,s,u,c=arguments;return un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ua._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=wo(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ln(un().mark((function t(n,r,i){var a;return un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=wo(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function wo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var _o=function(e){nn(n,e);var t=on(n);function n(e,r,i,a){var o,s;return fn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(en(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return pn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Mn);function xo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw _o._fromErrorAndOperation(e,n,t,r);throw n}))}function Eo(e,t){return So.apply(this,arguments)}function So(){return So=ln(un().mark((function e(t,n){var r,i,a=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Qi,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",bo._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}function To(e,t){return Io.apply(this,arguments)}function Io(){return Io=ln(un().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Qi(t,xo(i,a,n,t),r);case 6:return ki((o=e.sent).idToken,i,"internal-error"),ki(s=$i(o.idToken),i,"internal-error"),u=s.sub,ki(t.uid===u,i,"user-mismatch"),e.abrupt("return",bo._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&vi(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Io.apply(this,arguments)}function Co(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=ln(un().mark((function e(t,n){var r,i,a,o,s=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,xo(t,i,n);case 4:return a=e.sent,e.next=7,bo._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function Ro(e,t){return No.apply(this,arguments)}function No(){return No=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Co(Fa(t),n));case 1:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Oo(e,t,n){return Po.apply(this,arguments)}function Po(){return Po=ln(un().mark((function e(t,n,r){var i,a,o,s,u,c,l;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Fa(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Da(a,o,"signUpPassword");case 5:u=e.sent,s=go(a,u),e.next=10;break;case 9:s=go(a,o).catch(function(){var e=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Da(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",go(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,bo._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function Do(e,t,n){return Ro(Gn(e),lo.credential(t,n))}function Lo(e,t){return Mo.apply(this,arguments)}function Mo(){return Mo=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function Uo(e,t){return Fo.apply(this,arguments)}function Fo(){return(Fo=ln(un().mark((function e(t,n){var r,i,a,o,s,u,c;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Gn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Qi(a,Lo(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jo(e,t){return Oi(e,"POST","/v2/accounts/mfaEnrollment:start",Ni(e,t))}function Vo(e,t){return Oi(e,"POST","/v2/accounts/mfaEnrollment:start",Ni(e,t))}function zo(e,t){return Oi(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ni(e,t))}new WeakMap;var Bo="__sak",Ho=function(){function e(t,n){fn(this,e),this.storageRetriever=t,this.type=n}return pn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Bo,"1"),this.storage.removeItem(Bo),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var qo=function(e){nn(n,e);var t=on(n);function n(){var e;return fn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Pn();return ya(e)||xa(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Sa(),e._shouldAllowMigration=!0,e}return pn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ea()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ln(un().mark((function e(t,r){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt(Jt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ln(un().mark((function e(t){var r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt(Jt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt(Jt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ho);qo.type="LOCAL";var Wo=qo,Ko=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return pn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ho);Ko.type="SESSION";var Go=Ko;function $o(e){return Promise.all(e.map(function(){var e=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Qo=function(){function e(t){fn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return pn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ln(un().mark((function e(t){var n,r,i,a,o,s,u,c;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,$o(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Yo(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Qo.receivers=[];var Xo=function(){function e(t){fn(this,e),this.target=t,this.handlers=new Set}return pn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ln(un().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Yo("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Jo(){return window}function Zo(e){Jo().location.href=e}function es(){return"undefined"!==typeof Jo().WorkerGlobalScope&&"function"===typeof Jo().importScripts}function ts(){return ns.apply(this,arguments)}function ns(){return(ns=ln(un().mark((function e(){var t;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function rs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var is="firebaseLocalStorageDb",as="firebaseLocalStorage",os="fbase_key",ss=function(){function e(t){fn(this,e),this.request=t}return pn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function us(e,t){return e.transaction([as],t?"readwrite":"readonly").objectStore(as)}function cs(){var e=indexedDB.deleteDatabase(is);return new ss(e).toPromise()}function ls(){var e=indexedDB.open(is,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(as,{keyPath:os})}catch(r){n(r)}})),e.addEventListener("success",ln(un().mark((function n(){var r;return un().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(as)){n.next=12;break}return r.close(),n.next=5,cs();case 5:return n.t0=t,n.next=8,ls();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function fs(e,t,n){return hs.apply(this,arguments)}function hs(){return hs=ln(un().mark((function e(t,n,r){var i,a;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=us(t,!0).put((yn(i={},os,n),yn(i,"value",r),i)),e.abrupt("return",new ss(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(e,t){return ps.apply(this,arguments)}function ps(){return ps=ln(un().mark((function e(t,n){var r,i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=us(t,!1).get(n),e.next=3,new ss(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e,t){var n=us(e,!0).delete(t);return new ss(n).toPromise()}var ms=function(){function e(){fn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return pn(e,[{key:"_openDb",value:function(){var e=ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ls();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ln(un().mark((function e(t){var n,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ln(un().mark((function e(){var t=this;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Qo._getInstance(es()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ln(un().mark((function e(n,r){var i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ln(un().mark((function e(){var t,n,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ts();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Xo(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&rs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ln(un().mark((function e(){var t;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ls();case 5:return t=e.sent,e.next=8,fs(t,Bo,"1");case 8:return e.next=10,vs(t,Bo);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ln(un().mark((function e(t,n){var r=this;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return fs(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ds(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ln(un().mark((function e(t){var n=this;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return vs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ln(un().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=us(e,!1).getAll();return new ss(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=sn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ln(un().mark((function t(){return un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ms.type="LOCAL";var ys=ms;function gs(e,t){return Oi(e,"POST","/v2/accounts/mfaSignIn:start",Ni(e,t))}function ks(e,t){return Oi(e,"POST","/v2/accounts/mfaSignIn:finalize",Ni(e,t))}Oa("rcb"),new Ti(3e4,6e4);var bs="recaptcha";function ws(e,t,n){return _s.apply(this,arguments)}function _s(){return _s=ln(un().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ki("string"===typeof a,t,"argument-error"),ki(r.type===bs,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return ki("enroll"===s.type,t,"internal-error"),e.next=13,jo(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return ki("signin"===s.type,t,"internal-error"),ki(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,gs(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,no(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),_s.apply(this,arguments)}var xs=function(){function e(t){fn(this,e),this.providerId=e.PROVIDER_ID,this.auth=Fa(t)}return pn(e,[{key:"verifyPhoneNumber",value:function(e,t){return ws(this.auth,e,Gn(t))}}],[{key:"credential",value:function(e,t){return uo._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?uo._fromTokenResponse(n,r):null}}]),e}();function Es(e,t){return t?la(t):(ki(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xs.PROVIDER_ID="phone",xs.PHONE_SIGN_IN_METHOD="phone";var Ss=function(e){nn(n,e);var t=on(n);function n(e){var r;return fn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return pn(n,[{key:"_getIdTokenResponse",value:function(e){return Za(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Za(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Za(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ha);function Ts(e){return Co(e.auth,new Ss(e),e.bypassAuthState)}function Is(e){var t=e.auth,n=e.user;return ki(n,t,"internal-error"),To(n,new Ss(e),e.bypassAuthState)}function Cs(e){return As.apply(this,arguments)}function As(){return As=ln(un().mark((function e(t){var n,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ki(r=t.user,n,"internal-error"),e.abrupt("return",Eo(r,new Ss(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}var Rs=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];fn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return pn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ln(un().mark((function t(n,r){return un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ln(un().mark((function e(t){var n,r,i,a,o,s,u;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ts;case"linkViaPopup":case"linkViaRedirect":return Cs;case"reauthViaPopup":case"reauthViaRedirect":return Is;default:vi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ns=new Ti(2e3,1e4);var Os=function(e){nn(n,e);var t=on(n);function n(e,r,i,a,o){var s;return fn(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=en(s),s}return pn(n,[{key:"executeNotNull",value:function(){var e=ln(un().mark((function e(){var t;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ki(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ln(un().mark((function e(){var t,n=this;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wi(1===this.filter.length,"Popup operations only handle one event"),t=Yo(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(mi(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(mi(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(mi(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Ns.get())}()}}]),n}(Rs);Os.currentPopupAction=null;var Ps="pendingRedirect",Ds=new Map,Ls=function(e){nn(n,e);var t=on(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return fn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return pn(n,[{key:"execute",value:function(){var e=ln(un().mark((function e(){var t,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ds.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ms(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Zt(Jt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ds.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ds.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ln(un().mark((function e(t){var r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Zt(Jt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Zt(Jt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Rs);function Ms(e,t){return Us.apply(this,arguments)}function Us(){return Us=ln(un().mark((function e(t,n){var r,i,a;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vs(n),i=js(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}function Fs(e,t){Ds.set(e._key(),t)}function js(e){return la(e._redirectPersistence)}function Vs(e){return da(Ps,e.config.apiKey,e.name)}function zs(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=ln(un().mark((function e(t,n){var r,i,a,o,s,u=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Fa(t),a=Es(i,n),o=new Ls(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}var Hs=function(){function e(t){fn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return pn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ws(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ws(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(mi(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qs(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(qs(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function qs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ws(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ks(e){return Gs.apply(this,arguments)}function Gs(){return Gs=ln(un().mark((function e(t){var n,r=arguments;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Oi(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}var $s=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qs=/^https?/;function Ys(){return Ys=ln(un().mark((function e(t){var n,r,i,a,o;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ks(t);case 4:n=e.sent,r=n.authorizedDomains,i=sn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Xs(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:vi(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ys.apply(this,arguments)}function Xs(e){var t=_i(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Qs.test(r))return!1;if($s.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Js=new Ti(3e4,6e4);function Zs(){var e=Jo().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=mn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var eu=null;function tu(e){return eu=eu||function(e){return new Promise((function(t,n){var r,i,a;function o(){Zs(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Zs(),n(mi(e,"network-request-failed"))},timeout:Js.get()})}if(null===(i=null===(r=Jo().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Jo().gapi)||void 0===a?void 0:a.load)){var s=Oa("iframefcb");return Jo()[s]=function(){gapi.load?o():n(mi(e,"network-request-failed"))},Na("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw eu=null,e}))}(e),eu}var nu=new Ti(5e3,15e3),ru="__/auth/iframe",iu="emulator/auth/iframe",au={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ou=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function su(e){var t=e.config;ki(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ii(t,iu):"https://".concat(e.config.authDomain,"/").concat(ru),r={apiKey:t.apiKey,appName:e.name,v:Br},i=ou.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Bn(r).slice(1))}function uu(e){return cu.apply(this,arguments)}function cu(){return cu=ln(un().mark((function e(t){var n,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tu(t);case 2:return n=e.sent,ki(r=Jo().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:su(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:au,dontclear:!0},(function(e){return new Promise(function(){var n=ln(un().mark((function n(r,i){var a,o,s;return un().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Jo().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=mi(t,"network-request-failed"),o=Jo().setTimeout((function(){i(a)}),nu.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}var lu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fu=function(){function e(t){fn(this,e),this.window=t,this.associatedEvent=null}return pn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function hu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},lu),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Pn().toLowerCase();n&&(s=ga(l)?"_blank":n),ma(l)&&(t=t||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return xa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new fu(null);var h=window.open(t||"",s,f);ki(h,e,"popup-blocked");try{h.focus()}catch(d){}return new fu(h)}var du="__/auth/handler",pu="emulator/auth/handler",vu=encodeURIComponent("fac");function mu(e,t,n,r,i,a){return yu.apply(this,arguments)}function yu(){return yu=ln(un().mark((function e(t,n,r,i,a,o){var s,c,l,f,h,d,p,v,m,y,g,k,b;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ki(t.config.authDomain,t,"auth-domain-config-required"),ki(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Br,eventId:a},n instanceof fo)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",jn(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(o||{});c<l.length;c++)f=u(l[c],2),h=f[0],d=f[1],s[h]=d;for(n instanceof ho&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(vu,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(gu(t),"?").concat(Bn(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function gu(e){var t=e.config;return t.emulator?Ii(t,pu):"https://".concat(t.authDomain,"/").concat(du)}var ku="webStorageSupport",bu=function(){function e(){fn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Go,this._completeRedirectFn=zs,this._overrideRedirectResult=Fs}return pn(e,[{key:"_openPopup",value:function(){var e=ln(un().mark((function e(t,n,r,i){var a,o;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wi(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,mu(t,n,r,_i(),i);case 3:return o=e.sent,e.abrupt("return",hu(t,o,Yo()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ln(un().mark((function e(t,n,r,i){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,mu(t,n,r,_i(),i);case 4:return Zo(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(wi(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ln(un().mark((function e(t){var n,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu(t);case 2:return n=e.sent,r=new Hs(t),n.register("authEvent",(function(e){return ki(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ku,{type:ku},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ku];void 0!==i&&t(!!i),vi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ys.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Sa()||ya()||xa()}}]),e}(),wu=bu,_u=function(){function e(t){fn(this,e),this.factorId=t}return pn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return bi("unexpected MultiFactorSessionType")}}}]),e}(),xu=function(e){nn(n,e);var t=on(n);function n(e){var r;return fn(this,n),(r=t.call(this,"phone")).credential=e,r}return pn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Oi(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ni(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Oi(e,"POST","/v2/accounts/mfaSignIn:finalize",Ni(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(_u);(function(){function e(){fn(this,e)}return pn(e,null,[{key:"assertion",value:function(e){return xu._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Eu=function(){function e(){fn(this,e)}return pn(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Su._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Su._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=ln(un().mark((function e(t){var n,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ki("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,Vo(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",Tu._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Eu.FACTOR_ID="totp";var Su=function(e){nn(n,e);var t=on(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return pn(n,[{key:"_finalizeEnroll",value:function(){var e=ln(un().mark((function e(t,n,r){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ki("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",zo(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=ln(un().mark((function e(t,n){var r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ki(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",ks(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(_u),Tu=function(){function e(t,n,r,i,a,o,s){fn(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return pn(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Iu(e)||Iu(t))&&(r=!0),r&&(Iu(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Iu(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Iu(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Cu="@firebase/auth",Au="0.23.2",Ru=function(){function e(t){fn(this,e),this.auth=t,this.internalListeners=new Map}return pn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ki(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Nu,Ou=Rn("authIdTokenMaxAge")||300,Pu=null;Nu="Browser",Ur(new $n("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;ki(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Nu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ta(Nu)},l=new Ua(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(la);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ur(new $n("auth-internal",(function(e){return function(e){return new Ru(e)}(Fa(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(Cu,Au,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Nu)),Wr(Cu,Au,"esm2017");Wr("firebase","9.22.0","app");var Du,Lu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Mu={},Uu=Uu||{},Fu=Lu||self;function ju(){}function Vu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function zu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Bu="closure_uid_"+(1e9*Math.random()>>>0),Hu=0;function qu(e,t,n){return e.call.apply(e.bind,arguments)}function Wu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ku(e,t,n){return(Ku=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qu:Wu).apply(null,arguments)}function Gu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function $u(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Qu(){this.s=this.s,this.o=this.o}Qu.prototype.s=!1,Qu.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Bu)&&e[Bu]||(e[Bu]=++Hu))},Qu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Yu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Xu(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ju(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Vu(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Zu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zu.prototype.h=function(){this.defaultPrevented=!0};var ec=function(){if(!Fu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Fu.addEventListener("test",ju,t),Fu.removeEventListener("test",ju,t)}catch(n){}return e}();function tc(e){return/^[\s\xa0]*$/.test(e)}var nc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function rc(e,t){return e<t?-1:e>t?1:0}function ic(){var e=Fu.navigator;return e&&(e=e.userAgent)?e:""}function ac(e){return-1!=ic().indexOf(e)}function oc(e){return oc[" "](e),e}function sc(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}oc[" "]=ju;var uc,cc=ac("Opera"),lc=ac("Trident")||ac("MSIE"),fc=ac("Edge"),hc=fc||lc,dc=ac("Gecko")&&!(-1!=ic().toLowerCase().indexOf("webkit")&&!ac("Edge"))&&!(ac("Trident")||ac("MSIE"))&&!ac("Edge"),pc=-1!=ic().toLowerCase().indexOf("webkit")&&!ac("Edge");function vc(){var e=Fu.document;return e?e.documentMode:void 0}e:{var mc="",yc=function(){var e=ic();return dc?/rv:([^\);]+)(\)|;)/.exec(e):fc?/Edge\/([\d\.]+)/.exec(e):lc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):pc?/WebKit\/(\S+)/.exec(e):cc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(yc&&(mc=yc?yc[1]:""),lc){var gc=vc();if(null!=gc&&gc>parseFloat(mc)){uc=String(gc);break e}}uc=mc}var kc,bc={};if(Fu.document&&lc){var wc=vc();kc=wc||(parseInt(uc,10)||void 0)}else kc=void 0;var _c=kc;function xc(e,t){if(Zu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(dc){e:{try{oc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ec[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xc.$.h.call(this)}}$u(xc,Zu);var Ec={2:"touch",3:"pen",4:"mouse"};xc.prototype.h=function(){xc.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Sc="closure_listenable_"+(1e6*Math.random()|0),Tc=0;function Ic(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Tc,this.fa=this.ia=!1}function Cc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ac(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Rc(e){var t={};for(var n in e)t[n]=e[n];return t}var Nc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Oc(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Nc.length;a++)n=Nc[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Pc(e){this.src=e,this.g={},this.h=0}function Dc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Yu(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Cc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Lc(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Pc.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Lc(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ic(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Mc="closure_lm_"+(1e6*Math.random()|0),Uc={};function Fc(e,t,n,r,i){if(r&&r.once)return Vc(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fc(e,t[a],n,r,i);return null}return n=Gc(n),e&&e[Sc]?e.O(t,n,zu(r)?!!r.capture:!!r,i):jc(e,t,n,!1,r,i)}function jc(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=zu(i)?!!i.capture:!!i,s=Wc(e);if(s||(e[Mc]=s=new Pc(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=qc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ec||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Hc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Vc(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Vc(e,t[a],n,r,i);return null}return n=Gc(n),e&&e[Sc]?e.P(t,n,zu(r)?!!r.capture:!!r,i):jc(e,t,n,!0,r,i)}function zc(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)zc(e,t[a],n,r,i);else r=zu(r)?!!r.capture:!!r,n=Gc(n),e&&e[Sc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Lc(a=e.g[t],n,r,i))&&(Cc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Wc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Lc(t,n,r,i)),(n=-1<e?t[e]:null)&&Bc(n))}function Bc(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Sc])Dc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Hc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wc(t))?(Dc(n,e),0==n.h&&(n.src=null,t[Mc]=null)):Cc(e)}}}function Hc(e){return e in Uc?Uc[e]:Uc[e]="on"+e}function qc(e,t){if(e.fa)e=!0;else{t=new xc(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Bc(e),e=n.call(r,t)}return e}function Wc(e){return(e=e[Mc])instanceof Pc?e:null}var Kc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gc(e){return"function"===typeof e?e:(e[Kc]||(e[Kc]=function(t){return e.handleEvent(t)}),e[Kc])}function $c(){Qu.call(this),this.i=new Pc(this),this.S=this,this.J=null}function Qc(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Zu(t,e);else if(t instanceof Zu)t.target=t.target||e;else{var i=t;Oc(t=new Zu(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Yc(o,r,!0,t)&&i}if(i=Yc(o=t.g=e,r,!0,t)&&i,i=Yc(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Yc(o=t.g=n[a],r,!1,t)&&i}function Yc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Dc(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}$u($c,Qu),$c.prototype[Sc]=!0,$c.prototype.removeEventListener=function(e,t,n,r){zc(this,e,t,n,r)},$c.prototype.N=function(){if($c.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cc(n[r]);delete t.g[e],t.h--}}this.J=null},$c.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$c.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xc=Fu.JSON.stringify;function Jc(){var e=ol,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zc,el=function(){function e(){fn(this,e),this.h=this.g=null}return pn(e,[{key:"add",value:function(e,t){var n=tl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),tl=new(function(){function e(t,n){fn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return pn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new nl}),(function(e){return e.reset()})),nl=function(){function e(){fn(this,e),this.next=this.g=this.h=null}return pn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function rl(e){Fu.setTimeout((function(){throw e}),0)}function il(e,t){Zc||function(){var e=Fu.Promise.resolve(void 0);Zc=function(){e.then(sl)}}(),al||(Zc(),al=!0),ol.add(e,t)}var al=!1,ol=new el;function sl(){for(var e;e=Jc();){try{e.h.call(e.g)}catch(n){rl(n)}var t=tl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}al=!1}function ul(e,t){$c.call(this),this.h=e||1,this.g=t||Fu,this.j=Ku(this.qb,this),this.l=Date.now()}function cl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ll(e,t,n){if("function"===typeof e)n&&(e=Ku(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ku(e.handleEvent,e)}return 2147483647<Number(t)?-1:Fu.setTimeout(e,t||0)}function fl(e){e.g=ll((function(){e.g=null,e.i&&(e.i=!1,fl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}$u(ul,$c),(Du=ul.prototype).ga=!1,Du.T=null,Du.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qc(this,"tick"),this.ga&&(cl(this),this.start()))}},Du.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Du.N=function(){ul.$.N.call(this),cl(this),delete this.g};var hl=function(e){nn(n,e);var t=on(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return pn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:fl(this)}},{key:"N",value:function(){Zt(Jt(n.prototype),"N",this).call(this),this.g&&(Fu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Qu);function dl(e){Qu.call(this),this.h=e,this.g={}}$u(dl,Qu);var pl=[];function vl(e,t,n,r){Array.isArray(n)||(n&&(pl[0]=n.toString()),n=pl);for(var i=0;i<n.length;i++){var a=Fc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ml(e){Ac(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Bc(e)}),e),e.g={}}function yl(){this.g=!0}function gl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Xc(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}dl.prototype.N=function(){dl.$.N.call(this),ml(this)},dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yl.prototype.Ea=function(){this.g=!1},yl.prototype.info=function(){};var kl={},bl=null;function wl(){return bl=bl||new $c}function _l(e){Zu.call(this,kl.Ta,e)}function xl(e){var t=wl();Qc(t,new _l(t))}function El(e,t){Zu.call(this,kl.STAT_EVENT,e),this.stat=t}function Sl(e){var t=wl();Qc(t,new El(t,e))}function Tl(e,t){Zu.call(this,kl.Ua,e),this.size=t}function Il(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Fu.setTimeout((function(){e()}),t)}kl.Ta="serverreachability",$u(_l,Zu),kl.STAT_EVENT="statevent",$u(El,Zu),kl.Ua="timingevent",$u(Tl,Zu);var Cl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Al={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rl(){}function Nl(e){return e.h||(e.h=e.i())}function Ol(){}Rl.prototype.h=null;var Pl,Dl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ll(){Zu.call(this,"d")}function Ml(){Zu.call(this,"c")}function Ul(){}function Fl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new dl(this),this.P=Vl,e=hc?125:void 0,this.V=new ul(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new jl}function jl(){this.i=null,this.g="",this.h=!1}$u(Ll,Zu),$u(Ml,Zu),$u(Ul,Rl),Ul.prototype.g=function(){return new XMLHttpRequest},Ul.prototype.i=function(){return{}},Pl=new Ul;var Vl=45e3,zl={},Bl={};function Hl(e,t,n){e.L=1,e.v=cf(rf(t)),e.s=n,e.S=!0,ql(e,null)}function ql(e,t){e.G=Date.now(),$l(e),e.A=rf(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),_f(n.i,"t",r),e.C=0,n=e.l.I,e.h=new jl,e.g=xh(e.l,n?t:null,!e.s),0<e.O&&(e.M=new hl(Ku(e.Pa,e,e.g),e.O)),vl(e.U,e.g,"readystatechange",e.nb),t=e.I?Rc(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),xl(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Wl(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Kl(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Gl(e,n))==Bl){4==t&&(e.o=4,Sl(14),i=!1),gl(e.j,e.m,null,"[Incomplete Response]");break}if(r==zl){e.o=4,Sl(15),gl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gl(e.j,e.m,r,null),Zl(e,r)}Wl(e)&&r!=Bl&&r!=zl&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Sl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),vh(t),t.L=!0,Sl(11))):(gl(e.j,e.m,n,"[Invalid Chunked Response]"),Jl(e),Xl(e))}function Gl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bl:(n=Number(t.substring(n,r)),isNaN(n)?zl:(r+=1)+n>t.length?Bl:(t=t.substr(r,n),e.C=r+n,t))}function $l(e){e.Y=Date.now()+e.P,Ql(e,e.P)}function Ql(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Il(Ku(e.lb,e),t)}function Yl(e){e.B&&(Fu.clearTimeout(e.B),e.B=null)}function Xl(e){0==e.l.H||e.J||gh(e.l,e)}function Jl(e){Yl(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,cl(e.V),ml(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function Zl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Rf(n.h,e)))if(!e.K&&Rf(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;yh(n),sh(n)}ph(n),Sl(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=Il(Ku(n.ib,n),6e3));if(1>=Af(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else bh(n,11)}else if((e.K||n.g==e)&&yh(n),!tc(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var s=a[4];null!=s&&(n.Ga=s,n.j.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Nf(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,uf(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=_h(r,r.I?r.oa:null,r.Y),d.K){Of(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Yl(p),$l(p)),r.g=d}else dh(r);0<n.i.length&&ch(n)}else"stop"!=a[0]&&"close"!=a[0]||bh(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?bh(n,7):oh(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}xl()}catch(a){}}function ef(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Vu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Vu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Vu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Du=Fl.prototype).setTimeout=function(e){this.P=e},Du.nb=function(e){e=e.target;var t=this.M;t&&3==eh(e)?t.l():this.Pa(e)},Du.Pa=function(e){try{if(e==this.g)e:{var t=eh(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||hc||this.g&&(this.h.h||this.g.ja()||th(this.g)))){this.J||4!=t||7==n||xl(),Yl(this);var r=this.g.da();this.aa=r;t:if(Wl(this)){var i=th(this.g);e="";var a=i.length,o=4==eh(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Jl(this),Xl(this);var s="";break t}this.h.i=new Fu.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tc(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Sl(12),Jl(this),Xl(this);break e}gl(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zl(this,r)}this.S?(Kl(this,t,s),hc&&this.i&&3==t&&(vl(this.U,this.V,"tick",this.mb),this.V.start())):(gl(this.j,this.m,s,null),Zl(this,s)),4==t&&Jl(this),this.i&&!this.J&&(4==t?gh(this.l,this):(this.i=!1,$l(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Sl(12)):(this.o=0,Sl(13)),Jl(this),Xl(this)}}}catch(t){}},Du.mb=function(){if(this.g){var e=eh(this.g),t=this.g.ja();this.C<t.length&&(Yl(this),Kl(this,e,t),this.i&&4!=e&&$l(this))}},Du.cancel=function(){this.J=!0,Jl(this)},Du.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(xl(),Sl(17)),Jl(this),this.o=2,Xl(this)):Ql(this,this.Y-e)};var tf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nf(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof nf){this.h=void 0!==t?t:e.h,af(this,e.j),this.s=e.s,this.g=e.g,of(this,e.m),this.l=e.l,t=e.i;var n=new gf;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sf(this,n),this.o=e.o}else e&&(n=String(e).match(tf))?(this.h=!!t,af(this,n[1]||"",!0),this.s=lf(n[2]||""),this.g=lf(n[3]||"",!0),of(this,n[4]),this.l=lf(n[5]||"",!0),sf(this,n[6]||"",!0),this.o=lf(n[7]||"")):(this.h=!!t,this.i=new gf(null,this.h))}function rf(e){return new nf(e)}function af(e,t,n){e.j=n?lf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function of(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sf(e,t,n){t instanceof gf?(e.i=t,function(e,t){t&&!e.j&&(kf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(bf(this,t),_f(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ff(t,mf)),e.i=new gf(t,e.h))}function uf(e,t,n){e.i.set(t,n)}function cf(e){return uf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function lf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ff(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,hf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function hf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}nf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ff(t,df,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ff(t,df,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ff(n,"/"==n.charAt(0)?vf:pf,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ff(n,yf)),e.join("")};var df=/[#\/\?@]/g,pf=/[#\?:]/g,vf=/[#\?]/g,mf=/[#\?@]/g,yf=/#/g;function gf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kf(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function bf(e,t){kf(e),t=xf(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function wf(e,t){return kf(e),t=xf(e,t),e.g.has(t)}function _f(e,t,n){bf(e,t),0<n.length&&(e.i=null,e.g.set(xf(e,t),Xu(n)),e.h+=n.length)}function xf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Du=gf.prototype).add=function(e,t){kf(this),this.i=null,e=xf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Du.forEach=function(e,t){kf(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Du.sa=function(){kf(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Du.Z=function(e){kf(this);var t=[];if("string"===typeof e)wf(this,e)&&(t=t.concat(this.g.get(xf(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Du.set=function(e,t){return kf(this),this.i=null,wf(this,e=xf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Du.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Du.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ef=pn((function e(t,n){fn(this,e),this.h=t,this.g=n}));function Sf(e){this.l=e||If,Fu.PerformanceNavigationTiming?e=0<(e=Fu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Fu.g&&Fu.g.Ka&&Fu.g.Ka()&&Fu.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Tf,If=10;function Cf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Af(e){return e.h?1:e.g?e.g.size:0}function Rf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Nf(e,t){e.g?e.g.add(t):e.h=t}function Of(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Pf(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=sn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Xu(e.i)}function Df(){}function Lf(){this.g=new Df}function Mf(e,t,n){var r=n||"";try{ef(e,(function(e,n){var i=e;zu(e)&&(i=Xc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Uf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ff(e){this.l=e.fc||null,this.j=e.ob||!1}function jf(e,t){$c.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Vf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sf.prototype.cancel=function(){if(this.i=Pf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=sn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Df.prototype.stringify=function(e){return Fu.JSON.stringify(e,void 0)},Df.prototype.parse=function(e){return Fu.JSON.parse(e,void 0)},$u(Ff,Rl),Ff.prototype.g=function(){return new jf(this.l,this.j)},Ff.prototype.i=(Tf={},function(){return Tf}),$u(jf,$c);var Vf=0;function zf(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Bf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Hf(e)}function Hf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Du=jf.prototype).open=function(e,t){if(this.readyState!=Vf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Hf(this)},Du.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Fu).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Du.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bf(this)),this.readyState=Vf},Du.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Hf(this)),this.g&&(this.readyState=3,Hf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Fu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zf(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Du.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bf(this):Hf(this),3==this.readyState&&zf(this)}},Du.Za=function(e){this.g&&(this.response=this.responseText=e,Bf(this))},Du.Ya=function(e){this.g&&(this.response=e,Bf(this))},Du.ka=function(){this.g&&Bf(this)},Du.setRequestHeader=function(e,t){this.v.append(e,t)},Du.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Du.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qf=Fu.JSON.parse;function Wf(e){$c.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Kf,this.L=this.M=!1}$u(Wf,$c);var Kf="",Gf=/^https?$/i,$f=["POST","PUT"];function Qf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Yf(e),Jf(e)}function Yf(e){e.F||(e.F=!0,Qc(e,"complete"),Qc(e,"error"))}function Xf(e){if(e.h&&"undefined"!=typeof Uu&&(!e.C[1]||4!=eh(e)||2!=e.da()))if(e.v&&4==eh(e))ll(e.La,0,e);else if(Qc(e,"readystatechange"),4==eh(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(tf)[1]||null;if(!a&&Fu.self&&Fu.self.location){var o=Fu.self.location.protocol;a=o.substr(0,o.length-1)}i=!Gf.test(a?a.toLowerCase():"")}t=i}if(t)Qc(e,"complete"),Qc(e,"success");else{e.m=6;try{var s=2<eh(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.da()+"]",Yf(e)}}finally{Jf(e)}}}function Jf(e,t){if(e.g){Zf(e);var n=e.g,r=e.C[0]?ju:null;e.g=null,e.C=null,t||Qc(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Zf(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Fu.clearTimeout(e.A),e.A=null)}function eh(e){return e.g?e.g.readyState:0}function th(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Kf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function nh(e){var t="";return Ac(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function rh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nh(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):uf(e,t,n))}function ih(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ah(e){this.Ga=0,this.i=[],this.j=new yl,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ih("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ih("baseRetryDelayMs",5e3,e),this.hb=ih("retryDelaySeedMs",1e4,e),this.eb=ih("forwardChannelMaxRetries",2,e),this.xa=ih("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new Sf(e&&e.concurrentRequestLimit),this.Ja=new Lf,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function oh(e){if(uh(e),3==e.H){var t=e.W++,n=rf(e.G);uf(n,"SID",e.J),uf(n,"RID",t),uf(n,"TYPE","terminate"),fh(e,n),(t=new Fl(e,e.j,t,void 0)).L=2,t.v=cf(rf(n)),n=!1,Fu.navigator&&Fu.navigator.sendBeacon&&(n=Fu.navigator.sendBeacon(t.v.toString(),"")),!n&&Fu.Image&&((new Image).src=t.v,n=!0),n||(t.g=xh(t.l,null),t.g.ha(t.v)),t.G=Date.now(),$l(t)}wh(e)}function sh(e){e.g&&(vh(e),e.g.cancel(),e.g=null)}function uh(e){sh(e),e.u&&(Fu.clearTimeout(e.u),e.u=null),yh(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Fu.clearTimeout(e.m),e.m=null)}function ch(e){Cf(e.h)||e.m||(e.m=!0,il(e.Na,e),e.C=0)}function lh(e,t){var n;n=t?t.m:e.W++;var r=rf(e.G);uf(r,"SID",e.J),uf(r,"RID",n),uf(r,"AID",e.V),fh(e,r),e.o&&e.s&&rh(r,e.o,e.s),n=new Fl(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=hh(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Nf(e.h,n),Hl(n,r,t)}function fh(e,t){e.ma&&Ac(e.ma,(function(e,n){uf(t,n,e)})),e.l&&ef({},(function(e,n){uf(t,n,e)}))}function hh(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Ku(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Mf(l,o,"req"+c+"_")}catch(Fe){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function dh(e){e.g||e.u||(e.ba=1,il(e.Ma,e),e.A=0)}function ph(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Il(Ku(e.Ma,e),kh(e,e.A)),e.A++,!0)}function vh(e){null!=e.B&&(Fu.clearTimeout(e.B),e.B=null)}function mh(e){e.g=new Fl(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=rf(e.wa);uf(t,"RID","rpc"),uf(t,"SID",e.J),uf(t,"CI",e.M?"0":"1"),uf(t,"AID",e.V),uf(t,"TYPE","xmlhttp"),fh(e,t),e.o&&e.s&&rh(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=cf(rf(t)),n.s=null,n.S=!0,ql(n,e)}function yh(e){null!=e.v&&(Fu.clearTimeout(e.v),e.v=null)}function gh(e,t){var n=null;if(e.g==t){yh(e),vh(e),e.g=null;var r=2}else{if(!Rf(e.h,t))return;n=t.F,Of(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Qc(r=wl(),new Tl(r,n)),ch(e)}else dh(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(Af(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Il(Ku(e.Na,e,t),kh(e,e.C)),e.C++,!0))}(e,t)||2==r&&ph(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:bh(e,5);break;case 4:bh(e,10);break;case 3:bh(e,6);break;default:bh(e,2)}}function kh(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function bh(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Ku(e.pb,e);n||(n=new nf("//www.google.com/images/cleardot.gif"),Fu.location&&"http"==Fu.location.protocol||af(n,"https"),cf(n)),function(e,t){var n=new yl;if(Fu.Image){var r=new Image;r.onload=Gu(Uf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Gu(Uf,n,r,"TestLoadImage: error",!1,t),r.onabort=Gu(Uf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Gu(Uf,n,r,"TestLoadImage: timeout",!1,t),Fu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Sl(2);e.H=0,e.l&&e.l.za(t),wh(e),uh(e)}function wh(e){if(e.H=0,e.pa=[],e.l){var t=Pf(e.h);0==t.length&&0==e.i.length||(Ju(e.pa,t),Ju(e.pa,e.i),e.h.i.length=0,Xu(e.i),e.i.length=0),e.l.ya()}}function _h(e,t,n){var r=n instanceof nf?rf(n):new nf(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),of(r,r.m);else{var i=Fu.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new nf(null,void 0);r&&af(a,r),t&&(a.g=t),i&&of(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&uf(r,n,t),uf(r,"VER",e.qa),fh(e,r),r}function xh(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Wf(new Ff({ob:!0})):new Wf(e.va)).Oa(e.I),t}function Eh(){}function Sh(){if(lc&&!(10<=Number(_c)))throw Error("Environmental error: no available transport.")}function Th(e,t){$c.call(this),this.g=new ah(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!tc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tc(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ah(this)}function Ih(e){Ll.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ch(){Ml.call(this),this.status=1}function Ah(e){this.g=e}function Rh(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Nh(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Oh(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Du=Wf.prototype).Oa=function(e){this.M=e},Du.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pl.g(),this.C=this.u?Nl(this.u):Nl(Pl),this.g.onreadystatechange=Ku(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Qf(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=sn(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Fu.FormData&&e instanceof Fu.FormData,!(0<=Yu($f,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=sn(n);try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zf(this),0<this.B&&((this.L=function(e){return lc&&sc(bc,9,(function(){for(var e=0,t=nc(String(uc)).split("."),n=nc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=rc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||rc(0==a[2].length,0==o[2].length)||rc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ku(this.ua,this)):this.A=ll(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Qf(this,s)}},Du.ua=function(){"undefined"!=typeof Uu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qc(this,"timeout"),this.abort(8))},Du.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qc(this,"complete"),Qc(this,"abort"),Jf(this))},Du.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jf(this,!0)),Wf.$.N.call(this)},Du.La=function(){this.s||(this.G||this.v||this.l?Xf(this):this.kb())},Du.kb=function(){Xf(this)},Du.da=function(){try{return 2<eh(this)?this.g.status:-1}catch(Tf){return-1}},Du.ja=function(){try{return this.g?this.g.responseText:""}catch(Tf){return""}},Du.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qf(t)}},Du.Ia=function(){return this.m},Du.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Du=ah.prototype).qa=8,Du.H=1,Du.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Fl(this,this.j,e,void 0),n=this.s;if(this.U&&(n?Oc(n=Rc(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=hh(this,t,r),uf(i=rf(this.G),"RID",e),uf(i,"CVER",22),this.F&&uf(i,"X-HTTP-Session-Id",this.F),fh(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(nh(n)))+"&"+r:this.o&&rh(i,this.o,n)),Nf(this.h,t),this.bb&&uf(i,"TYPE","init"),this.P?(uf(i,"$req",r),uf(i,"SID","null"),t.ba=!0,Hl(t,i,null)):Hl(t,i,r),this.H=2}}else 3==this.H&&(e?lh(this,e):0==this.i.length||Cf(this.h)||lh(this))},Du.Ma=function(){if(this.u=null,mh(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=Il(Ku(this.jb,this),e)}},Du.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Sl(10),sh(this),mh(this))},Du.ib=function(){null!=this.v&&(this.v=null,sh(this),ph(this),Sl(19))},Du.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Sl(2)):(this.j.info("Failed to ping google.com"),Sl(1))},(Du=Eh.prototype).Ba=function(){},Du.Aa=function(){},Du.za=function(){},Du.ya=function(){},Du.Va=function(){},Sh.prototype.g=function(e,t){return new Th(e,t)},$u(Th,$c),Th.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Sl(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=_h(e,null,e.Y),ch(e)},Th.prototype.close=function(){oh(this.g)},Th.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Xc(e),e=n);t.i.push(new Ef(t.fb++,e)),3==t.H&&ch(t)},Th.prototype.N=function(){this.g.l=null,delete this.j,oh(this.g),delete this.g,Th.$.N.call(this)},$u(Ih,Ll),$u(Ch,Ml),$u(Ah,Eh),Ah.prototype.Ba=function(){Qc(this.g,"a")},Ah.prototype.Aa=function(e){Qc(this.g,new Ih(e))},Ah.prototype.za=function(e){Qc(this.g,new Ch)},Ah.prototype.ya=function(){Qc(this.g,"b")},$u(Rh,(function(){this.blockSize=-1})),Rh.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Rh.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Nh(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Nh(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Nh(this,r),i=0;break}}this.h=i,this.i+=t},Rh.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ph={};function Dh(e){return-128<=e&&128>e?sc(Ph,e,(function(e){return new Oh([0|e],0>e?-1:0)})):new Oh([0|e],0>e?-1:0)}function Lh(e){if(isNaN(e)||!isFinite(e))return Uh;if(0>e)return Bh(Lh(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Mh;return new Oh(t,0)}var Mh=4294967296,Uh=Dh(0),Fh=Dh(1),jh=Dh(16777216);function Vh(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function zh(e){return-1==e.h}function Bh(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Oh(n,~e.h).add(Fh)}function Hh(e,t){return e.add(Bh(t))}function qh(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Wh(e,t){this.g=e,this.h=t}function Kh(e,t){if(Vh(t))throw Error("division by zero");if(Vh(e))return new Wh(Uh,Uh);if(zh(e))return t=Kh(Bh(e),t),new Wh(Bh(t.g),Bh(t.h));if(zh(t))return t=Kh(e,Bh(t)),new Wh(Bh(t.g),t.h);if(30<e.g.length){if(zh(e)||zh(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Fh,r=t;0>=r.X(e);)n=Gh(n),r=Gh(r);var i=$h(n,1),a=$h(r,1);for(r=$h(r,2),n=$h(n,2);!Vh(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=$h(r,1),n=$h(n,1)}return t=Hh(e,i.R(t)),new Wh(i,t)}for(i=Uh;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Lh(n)).R(t);zh(o)||0<o.X(e);)o=(a=Lh(n-=r)).R(t);Vh(a)&&(a=Fh),i=i.add(a),e=Hh(e,o)}return new Wh(i,e)}function Gh(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Oh(n,e.h)}function $h(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Oh(i,e.h)}(Du=Oh.prototype).ea=function(){if(zh(this))return-Bh(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Mh+r)*t,t*=Mh}return e},Du.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Vh(this))return"0";if(zh(this))return"-"+Bh(this).toString(e);for(var t=Lh(Math.pow(e,6)),n=this,r="";;){var i=Kh(n,t).g,a=((0<(n=Hh(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Vh(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Du.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Du.X=function(e){return zh(e=Hh(this,e))?-1:Vh(e)?0:1},Du.abs=function(){return zh(this)?Bh(this):this},Du.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Oh(n,-2147483648&n[n.length-1]?-1:0)},Du.R=function(e){if(Vh(this)||Vh(e))return Uh;if(zh(this))return zh(e)?Bh(this).R(Bh(e)):Bh(Bh(this).R(e));if(zh(e))return Bh(this.R(Bh(e)));if(0>this.X(jh)&&0>e.X(jh))return Lh(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,qh(n,2*r+2*i),n[2*r+2*i+1]+=a*u,qh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,qh(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,qh(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Oh(n,0)},Du.gb=function(e){return Kh(this,e).h},Du.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Oh(n,this.h&e.h)},Du.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Oh(n,this.h|e.h)},Du.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Oh(n,this.h^e.h)},Sh.prototype.createWebChannel=Sh.prototype.g,Th.prototype.send=Th.prototype.u,Th.prototype.open=Th.prototype.m,Th.prototype.close=Th.prototype.close,Cl.NO_ERROR=0,Cl.TIMEOUT=8,Cl.HTTP_ERROR=6,Al.COMPLETE="complete",Ol.EventType=Dl,Dl.OPEN="a",Dl.CLOSE="b",Dl.ERROR="c",Dl.MESSAGE="d",$c.prototype.listen=$c.prototype.O,Wf.prototype.listenOnce=Wf.prototype.P,Wf.prototype.getLastError=Wf.prototype.Sa,Wf.prototype.getLastErrorCode=Wf.prototype.Ia,Wf.prototype.getStatus=Wf.prototype.da,Wf.prototype.getResponseJson=Wf.prototype.Wa,Wf.prototype.getResponseText=Wf.prototype.ja,Wf.prototype.send=Wf.prototype.ha,Wf.prototype.setWithCredentials=Wf.prototype.Oa,Rh.prototype.digest=Rh.prototype.l,Rh.prototype.reset=Rh.prototype.reset,Rh.prototype.update=Rh.prototype.j,Oh.prototype.add=Oh.prototype.add,Oh.prototype.multiply=Oh.prototype.R,Oh.prototype.modulo=Oh.prototype.gb,Oh.prototype.compare=Oh.prototype.X,Oh.prototype.toNumber=Oh.prototype.ea,Oh.prototype.toString=Oh.prototype.toString,Oh.prototype.getBits=Oh.prototype.D,Oh.fromNumber=Lh,Oh.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Bh(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Lh(Math.pow(n,8)),i=Uh,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Lh(Math.pow(n,o)),i=i.R(o).add(Lh(s))):i=(i=i.R(r)).add(Lh(s))}return i};var Qh=Mu.createWebChannelTransport=function(){return new Sh},Yh=Mu.getStatEventTarget=function(){return wl()},Xh=Mu.ErrorCode=Cl,Jh=Mu.EventType=Al,Zh=Mu.Event=kl,ed=Mu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},td=Mu.FetchXmlHttpFactory=Ff,nd=Mu.WebChannel=Ol,rd=Mu.XhrIo=Wf,id=Mu.Md5=Rh,ad=Mu.Integer=Oh,od="@firebase/firestore",sd=function(){function e(t){fn(this,e),this.uid=t}return pn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();sd.UNAUTHENTICATED=new sd(null),sd.GOOGLE_CREDENTIALS=new sd("google-credentials-uid"),sd.FIRST_PARTY=new sd("first-party-uid"),sd.MOCK_USER=new sd("mock-user");var ud="9.22.0",cd=new or("@firebase/firestore");function ld(){return cd.logLevel}function fd(e){if(cd.logLevel<=Zn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pd);cd.debug.apply(cd,["Firestore (".concat(ud,"): ").concat(e)].concat(mn(i)))}}function hd(e){if(cd.logLevel<=Zn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pd);cd.error.apply(cd,["Firestore (".concat(ud,"): ").concat(e)].concat(mn(i)))}}function dd(e){if(cd.logLevel<=Zn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pd);cd.warn.apply(cd,["Firestore (".concat(ud,"): ").concat(e)].concat(mn(i)))}}function pd(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function vd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ud,") INTERNAL ASSERTION FAILED: ")+e;throw hd(t),new Error(t)}function md(e,t){e||vd()}function yd(e,t){return e}var gd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kd=function(e){nn(n,e);var t=on(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return pn(n)}(Mn),bd=pn((function e(){var t=this;fn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),wd=pn((function e(t,n){fn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),_d=function(){function e(){fn(this,e)}return pn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sd.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),xd=function(){function e(t){fn(this,e),this.token=t,this.changeListener=null}return pn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ed=function(){function e(t){fn(this,e),this.t=t,this.currentUser=sd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return pn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new bd;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new bd,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){fd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(fd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new bd)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(fd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(md("string"==typeof n.accessToken),new wd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return md(null===e||"string"==typeof e),new sd(e)}}]),e}(),Sd=function(){function e(t,n,r){fn(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=sd.FIRST_PARTY,this.g=new Map}return pn(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Td=function(){function e(t,n,r){fn(this,e),this.h=t,this.l=n,this.m=r}return pn(e,[{key:"getToken",value:function(){return Promise.resolve(new Sd(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sd.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Id=pn((function e(t){fn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Cd=function(){function e(t){fn(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return pn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&fd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,fd("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){fd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):fd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(md("string"==typeof t.token),e.T=t.token,new Id(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ad(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Rd=function(){function e(){fn(this,e)}return pn(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Ad(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Nd(e,t){return e<t?-1:e>t?1:0}function Od(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Pd=function(){function e(t,n){if(fn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new kd(gd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new kd(gd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new kd(gd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kd(gd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return pn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Nd(this.nanoseconds,e.nanoseconds):Nd(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Dd=function(){function e(t){fn(this,e),this.timestamp=t}return pn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Pd(0,0))}},{key:"max",value:function(){return new e(new Pd(253402300799,999999999))}}]),e}(),Ld=function(){function e(t,n,r){fn(this,e),void 0===n?n=0:n>t.length&&vd(),void 0===r?r=t.length-n:r>t.length-n&&vd(),this.segments=t,this.offset=n,this.len=r}return pn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Md=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.apply(this,arguments)}return pn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new kd(gd.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,mn(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ld),Ud=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fd=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.apply(this,arguments)}return pn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ud.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new kd(gd.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new kd(gd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new kd(gd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new kd(gd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ld),jd=function(){function e(t){fn(this,e),this.path=t}return pn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Md.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Md.fromString(t))}},{key:"fromName",value:function(t){return new e(Md.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Md.emptyPath())}},{key:"comparator",value:function(e,t){return Md.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Md(t.slice()))}}]),e}(),Vd=pn((function e(t,n,r,i){fn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Vd.UNKNOWN_ID=-1;function zd(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Dd.fromTimestamp(1e9===r?new Pd(n+1,0):new Pd(n,r));return new Hd(i,jd.empty(),t)}function Bd(e){return new Hd(e.readTime,e.key,-1)}var Hd=function(){function e(t,n,r){fn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return pn(e,null,[{key:"min",value:function(){return new e(Dd.min(),jd.empty(),-1)}},{key:"max",value:function(){return new e(Dd.max(),jd.empty(),-1)}}]),e}();function qd(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=jd.comparator(e.documentKey,t.documentKey))?n:Nd(e.largestBatchId,t.largestBatchId)}var Wd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Kd=function(){function e(){fn(this,e),this.onCommittedListeners=[]}return pn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Gd(e){return $d.apply(this,arguments)}function $d(){return($d=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===gd.FAILED_PRECONDITION&&t.message===Wd){e.next=2;break}throw t;case 2:fd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qd=function(){function e(t){var n=this;fn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return pn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&vd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=sn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Yd(e){return"IndexedDbTransactionError"===e.name}var Xd=function(){function e(t,n){var r=this;fn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return pn(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Jd(e){return null==e}function Zd(e){return 0===e&&1/e==-1/0}function ep(e){return"number"==typeof e&&Number.isInteger(e)&&!Zd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Xd.ct=-1;var tp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),np=([].concat(mn(tp),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),rp=np;[].concat(rp,["indexConfiguration","indexState","indexEntries"]);function ip(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ap(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function op(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var sp=function(){function e(t,n){fn(this,e),this.comparator=t,this.root=n||cp.EMPTY}return pn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cp.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cp.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new up(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new up(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new up(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new up(this.root,e,this.comparator,!0)}}]),e}(),up=function(){function e(t,n,r,i){fn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return pn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),cp=function(){function e(t,n,r,i,a){fn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return pn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw vd();if(this.right.isRed())throw vd();var e=this.left.check();if(e!==this.right.check())throw vd();return e+(this.isRed()?0:1)}}]),e}();cp.EMPTY=null,cp.RED=!0,cp.BLACK=!1,cp.EMPTY=new(function(){function e(){fn(this,e),this.size=0}return pn(e,[{key:"key",get:function(){throw vd()}},{key:"value",get:function(){throw vd()}},{key:"color",get:function(){throw vd()}},{key:"left",get:function(){throw vd()}},{key:"right",get:function(){throw vd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new cp(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var lp=function(){function e(t){fn(this,e),this.comparator=t,this.data=new sp(this.comparator)}return pn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new fp(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new fp(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),fp=function(){function e(t){fn(this,e),this.iter=t}return pn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var hp=function(){function e(t){fn(this,e),this.fields=t,t.sort(Fd.comparator)}return pn(e,[{key:"unionWith",value:function(t){var n,r=new lp(Fd.comparator),i=sn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=sn(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=sn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Od(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),dp=function(e){nn(n,e);var t=on(n);function n(){var e;return fn(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return pn(n)}(kn(Error));var pp=function(e){function t(e){fn(this,t),this.binaryString=e}return pn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Nd(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new dp("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();pp.EMPTY_BYTE_STRING=new pp("");var vp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mp(e){if(md(!!e),"string"==typeof e){var t=0,n=vp.exec(e);if(md(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yp(e.seconds),nanos:yp(e.nanos)}}function yp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gp(e){return"string"==typeof e?pp.fromBase64String(e):pp.fromUint8Array(e)}function kp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bp(e){var t=e.mapValue.fields.__previous_value__;return kp(t)?bp(t):t}function wp(e){var t=mp(e.mapValue.fields.__local_write_time__.timestampValue);return new Pd(t.seconds,t.nanos)}var _p=pn((function e(t,n,r,i,a,o,s,u,c){fn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),xp=function(){function e(t,n){fn(this,e),this.projectId=t,this.database=n||"(default)"}return pn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ep={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Sp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kp(e)?4:jp(e)?9007199254740991:10:vd()}function Tp(e,t){if(e===t)return!0;var n=Sp(e);if(n!==Sp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wp(e).isEqual(wp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=mp(e.timestampValue),r=mp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gp(e.bytesValue).isEqual(gp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yp(e.geoPointValue.latitude)===yp(t.geoPointValue.latitude)&&yp(e.geoPointValue.longitude)===yp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yp(e.integerValue)===yp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=yp(e.doubleValue),r=yp(t.doubleValue);return n===r?Zd(n)===Zd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Od(e.arrayValue.values||[],t.arrayValue.values||[],Tp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ip(n)!==ip(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Tp(n[i],r[i])))return!1;return!0}(e,t);default:return vd()}}function Ip(e,t){return void 0!==(e.values||[]).find((function(e){return Tp(e,t)}))}function Cp(e,t){if(e===t)return 0;var n=Sp(e),r=Sp(t);if(n!==r)return Nd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nd(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=yp(e.integerValue||e.doubleValue),r=yp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ap(e.timestampValue,t.timestampValue);case 4:return Ap(wp(e),wp(t));case 5:return Nd(e.stringValue,t.stringValue);case 6:return function(e,t){var n=gp(e),r=gp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Nd(n[i],r[i]);if(0!==a)return a}return Nd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Nd(yp(e.latitude),yp(t.latitude));return 0!==n?n:Nd(yp(e.longitude),yp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Cp(n[i],r[i]);if(a)return a}return Nd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ep.mapValue&&t===Ep.mapValue)return 0;if(e===Ep.mapValue)return 1;if(t===Ep.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Nd(r[o],a[o]);if(0!==s)return s;var u=Cp(n[r[o]],i[a[o]]);if(0!==u)return u}return Nd(r.length,a.length)}(e.mapValue,t.mapValue);default:throw vd()}}function Ap(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Nd(e,t);var n=mp(e),r=mp(t),i=Nd(n.seconds,r.seconds);return 0!==i?i:Nd(n.nanos,r.nanos)}function Rp(e){return Np(e)}function Np(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=mp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gp(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,jd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=sn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Np(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=sn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Np(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):vd();var t,n}function Op(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Pp(e){return!!e&&"integerValue"in e}function Dp(e){return!!e&&"arrayValue"in e}function Lp(e){return!!e&&"nullValue"in e}function Mp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Up(e){return!!e&&"mapValue"in e}function Fp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ap(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Fp(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Fp(e.arrayValue.values[r]);return n}return Object.assign({},e)}function jp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Vp=function(){function e(t){fn(this,e),this.value=t}return pn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Up(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fp(t)}},{key:"setAll",value:function(e){var t=this,n=Fd.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Fp(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Up(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Tp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Up(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ap(t,(function(t,n){return e[t]=n}));var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Fp(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function zp(e){var t=[];return ap(e.fields,(function(e,n){var r=new Fd([e]);if(Up(n)){var i=zp(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=sn(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new hp(t)}var Bp=function(){function e(t,n,r,i,a,o,s){fn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return pn(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Dd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Vp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Vp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Dd.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Dd.min(),Dd.min(),Dd.min(),Vp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Dd.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Dd.min(),Dd.min(),Vp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Dd.min(),Dd.min(),Vp.empty(),2)}}]),e}(),Hp=pn((function e(t,n){fn(this,e),this.position=t,this.inclusive=n}));function qp(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?jd.comparator(jd.fromName(o.referenceValue),n.key):Cp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Wp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Tp(e.position[n],t.position[n]))return!1;return!0}var Kp=pn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";fn(this,e),this.field=t,this.dir=n}));function Gp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var $p=pn((function e(){fn(this,e)})),Qp=function(e){nn(n,e);var t=on(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return pn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Cp(t,this.value)):null!==t&&Sp(this.value)===Sp(t)&&this.matchesComparison(Cp(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vd()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new rv(e,t,r):"array-contains"===t?new sv(e,r):"in"===t?new uv(e,r):"not-in"===t?new cv(e,r):"array-contains-any"===t?new lv(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new iv(e,n):new av(e,n)}}]),n}($p),Yp=function(e){nn(n,e);var t=on(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return pn(n,[{key:"matches",value:function(e){return Xp(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=sn(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}($p);function Xp(e){return"and"===e.op}function Jp(e){return Zp(e)&&Xp(e)}function Zp(e){var t,n=sn(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Yp)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function ev(e){if(e instanceof Qp)return e.field.canonicalString()+e.op.toString()+Rp(e.value);if(Jp(e))return e.filters.map((function(e){return ev(e)})).join(",");var t=e.filters.map((function(e){return ev(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function tv(e,t){return e instanceof Qp?function(e,t){return t instanceof Qp&&e.op===t.op&&e.field.isEqual(t.field)&&Tp(e.value,t.value)}(e,t):e instanceof Yp?function(e,t){return t instanceof Yp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&tv(n,t.filters[r])}),!0)}(e,t):void vd()}function nv(e){return e instanceof Qp?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Rp(e.value))}(e):e instanceof Yp?function(e){return e.op.toString()+" {"+e.getFilters().map(nv).join(" ,")+"}"}(e):"Filter"}var rv=function(e){nn(n,e);var t=on(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this,e,r,i)).key=jd.fromName(i.referenceValue),a}return pn(n,[{key:"matches",value:function(e){var t=jd.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Qp),iv=function(e){nn(n,e);var t=on(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e,"in",r)).keys=ov("in",r),i}return pn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qp),av=function(e){nn(n,e);var t=on(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e,"not-in",r)).keys=ov("not-in",r),i}return pn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qp);function ov(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return jd.fromName(e.referenceValue)}))}var sv=function(e){nn(n,e);var t=on(n);function n(e,r){return fn(this,n),t.call(this,e,"array-contains",r)}return pn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Dp(t)&&Ip(t.arrayValue,this.value)}}]),n}(Qp),uv=function(e){nn(n,e);var t=on(n);function n(e,r){return fn(this,n),t.call(this,e,"in",r)}return pn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ip(this.value.arrayValue,t)}}]),n}(Qp),cv=function(e){nn(n,e);var t=on(n);function n(e,r){return fn(this,n),t.call(this,e,"not-in",r)}return pn(n,[{key:"matches",value:function(e){if(Ip(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ip(this.value.arrayValue,t)}}]),n}(Qp),lv=function(e){nn(n,e);var t=on(n);function n(e,r){return fn(this,n),t.call(this,e,"array-contains-any",r)}return pn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ip(t.value.arrayValue,e)}))}}]),n}(Qp),fv=pn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;fn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function hv(e){return new fv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function dv(e){var t=yd(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return ev(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Jd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Rp(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Rp(e)})).join(",")),t.dt=n}return t.dt}function pv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Gp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!tv(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wp(e.startAt,t.startAt)&&Wp(e.endAt,t.endAt)}function vv(e){return jd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var mv=pn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;fn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function yv(e,t,n,r,i,a,o,s){return new mv(e,t,n,r,i,a,o,s)}function gv(e){return new mv(e)}function kv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function bv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function wv(e){var t,n=sn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function _v(e){return null!==e.collectionGroup}function xv(e){var t=yd(e);if(null===t.wt){t.wt=[];var n=wv(t),r=bv(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Kp(n)),t.wt.push(new Kp(Fd.keyField(),"asc"));else{var i,a=!1,o=sn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Kp(Fd.keyField(),u))}}}return t.wt}function Ev(e){var t=yd(e);if(!t._t)if("F"===t.limitType)t._t=hv(t.path,t.collectionGroup,xv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=sn(xv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Kp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Hp(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Hp(t.startAt.position,t.startAt.inclusive):null;t._t=hv(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function Sv(e,t){t.getFirstInequalityField(),wv(e);var n=e.filters.concat([t]);return new mv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Tv(e,t,n){return new mv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Iv(e,t){return pv(Ev(e),Ev(t))&&e.limitType===t.limitType}function Cv(e){return"".concat(dv(Ev(e)),"|lt:").concat(e.limitType)}function Av(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return nv(e)})).join(", "),"]")),Jd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Rp(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Rp(e)})).join(",")),"Target(".concat(t,")")}(Ev(e)),"; limitType=").concat(e.limitType,")")}function Rv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):jd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=sn(xv(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=sn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=qp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xv(e),t))&&!(e.endAt&&!function(e,t,n){var r=qp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xv(e),t))}(e,t)}function Nv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ov(e){return function(t,n){var r,i=!1,a=sn(xv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Pv(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Pv(e,t,n){var r=e.field.isKeyField()?jd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cp(r,i):vd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vd()}}var Dv=function(){function e(t,n){fn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return pn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ap(this.inner,(function(t,n){var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return op(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Lv=new sp(jd.comparator);function Mv(){return Lv}var Uv=new sp(jd.comparator);function Fv(){for(var e=Uv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function jv(e){var t=Uv;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Vv(){return Bv()}function zv(){return Bv()}function Bv(){return new Dv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Hv=new sp(jd.comparator),qv=new lp(jd.comparator);function Wv(){for(var e=qv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Kv=new lp(Nd);function Gv(){return Kv}function $v(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(t)?"-0":t}}function Qv(e){return{integerValue:""+e}}function Yv(e,t){return ep(t)?Qv(t):$v(e,t)}var Xv=pn((function e(){fn(this,e),this._=void 0}));function Jv(e,t,n){return e instanceof tm?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&kp(t)&&(t=bp(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof nm?rm(e,t):e instanceof im?am(e,t):function(e,t){var n=em(e,t),r=sm(n)+sm(e.gt);return Pp(n)&&Pp(e.gt)?Qv(r):$v(e.serializer,r)}(e,t)}function Zv(e,t,n){return e instanceof nm?rm(e,t):e instanceof im?am(e,t):n}function em(e,t){return e instanceof om?Pp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var tm=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.apply(this,arguments)}return pn(n)}(Xv),nm=function(e){nn(n,e);var t=on(n);function n(e){var r;return fn(this,n),(r=t.call(this)).elements=e,r}return pn(n)}(Xv);function rm(e,t){var n,r=um(t),i=sn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Tp(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var im=function(e){nn(n,e);var t=on(n);function n(e){var r;return fn(this,n),(r=t.call(this)).elements=e,r}return pn(n)}(Xv);function am(e,t){var n,r=um(t),i=sn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Tp(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var om=function(e){nn(n,e);var t=on(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return pn(n)}(Xv);function sm(e){return yp(e.integerValue||e.doubleValue)}function um(e){return Dp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var cm=pn((function e(t,n){fn(this,e),this.field=t,this.transform=n}));var lm=pn((function e(t,n){fn(this,e),this.version=t,this.transformResults=n})),fm=function(){function e(t,n){fn(this,e),this.updateTime=t,this.exists=n}return pn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function hm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var dm=pn((function e(){fn(this,e)}));function pm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Tm(e.key,fm.none()):new km(e.key,e.data,fm.none());var n,r=e.data,i=Vp.empty(),a=new lp(Fd.comparator),o=sn(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new bm(e.key,i,new hp(a.toArray()),fm.none())}function vm(e,t,n){e instanceof km?function(e,t,n){var r=e.value.clone(),i=_m(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bm?function(e,t,n){if(hm(e.precondition,t)){var r=_m(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function mm(e,t,n,r){return e instanceof km?function(e,t,n,r){if(!hm(e.precondition,t))return n;var i=e.value.clone(),a=xm(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof bm?function(e,t,n,r){if(!hm(e.precondition,t))return n;var i=xm(e.fieldTransforms,r,t),a=t.data;return a.setAll(wm(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return hm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ym(e,t){var n,r=null,i=sn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=em(a.transform,o||null);null!=s&&(null===r&&(r=Vp.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function gm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Od(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nm&&t instanceof nm||e instanceof im&&t instanceof im?Od(e.elements,t.elements,Tp):e instanceof om&&t instanceof om?Tp(e.gt,t.gt):e instanceof tm&&t instanceof tm}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var km=function(e){nn(n,e);var t=on(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return fn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return pn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(dm),bm=function(e){nn(n,e);var t=on(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return fn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return pn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(dm);function wm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function _m(e,t,n){var r=new Map;md(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Zv(o,s,n[i]))}return r}function xm(e,t,n){var r,i=new Map,a=sn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Jv(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Em,Sm,Tm=function(e){nn(n,e);var t=on(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return pn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(dm),Im=function(e){nn(n,e);var t=on(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return pn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(dm),Cm=function(){function e(t,n,r,i){fn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return pn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&vm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=sn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=mm(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=sn(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=mm(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=zv();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=pm(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Dd.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Wv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Od(this.mutations,e.mutations,(function(e,t){return gm(e,t)}))&&Od(this.baseMutations,e.baseMutations,(function(e,t){return gm(e,t)}))}}]),e}(),Am=function(){function e(t,n,r,i){fn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return pn(e,null,[{key:"from",value:function(t,n,r){md(t.mutations.length===r.length);for(var i=Hv,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Rm=function(){function e(t,n){fn(this,e),this.largestBatchId=t,this.mutation=n}return pn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Nm=pn((function e(t,n){fn(this,e),this.count=t,this.unchangedNames=n}));function Om(e){switch(e){default:return vd();case gd.CANCELLED:case gd.UNKNOWN:case gd.DEADLINE_EXCEEDED:case gd.RESOURCE_EXHAUSTED:case gd.INTERNAL:case gd.UNAVAILABLE:case gd.UNAUTHENTICATED:return!1;case gd.INVALID_ARGUMENT:case gd.NOT_FOUND:case gd.ALREADY_EXISTS:case gd.PERMISSION_DENIED:case gd.FAILED_PRECONDITION:case gd.ABORTED:case gd.OUT_OF_RANGE:case gd.UNIMPLEMENTED:case gd.DATA_LOSS:return!0}}function Pm(e){if(void 0===e)return hd("GRPC error has no .code"),gd.UNKNOWN;switch(e){case Em.OK:return gd.OK;case Em.CANCELLED:return gd.CANCELLED;case Em.UNKNOWN:return gd.UNKNOWN;case Em.DEADLINE_EXCEEDED:return gd.DEADLINE_EXCEEDED;case Em.RESOURCE_EXHAUSTED:return gd.RESOURCE_EXHAUSTED;case Em.INTERNAL:return gd.INTERNAL;case Em.UNAVAILABLE:return gd.UNAVAILABLE;case Em.UNAUTHENTICATED:return gd.UNAUTHENTICATED;case Em.INVALID_ARGUMENT:return gd.INVALID_ARGUMENT;case Em.NOT_FOUND:return gd.NOT_FOUND;case Em.ALREADY_EXISTS:return gd.ALREADY_EXISTS;case Em.PERMISSION_DENIED:return gd.PERMISSION_DENIED;case Em.FAILED_PRECONDITION:return gd.FAILED_PRECONDITION;case Em.ABORTED:return gd.ABORTED;case Em.OUT_OF_RANGE:return gd.OUT_OF_RANGE;case Em.UNIMPLEMENTED:return gd.UNIMPLEMENTED;case Em.DATA_LOSS:return gd.DATA_LOSS;default:return vd()}}(Sm=Em||(Em={}))[Sm.OK=0]="OK",Sm[Sm.CANCELLED=1]="CANCELLED",Sm[Sm.UNKNOWN=2]="UNKNOWN",Sm[Sm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sm[Sm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sm[Sm.NOT_FOUND=5]="NOT_FOUND",Sm[Sm.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sm[Sm.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sm[Sm.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sm[Sm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sm[Sm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sm[Sm.ABORTED=10]="ABORTED",Sm[Sm.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sm[Sm.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sm[Sm.INTERNAL=13]="INTERNAL",Sm[Sm.UNAVAILABLE=14]="UNAVAILABLE",Sm[Sm.DATA_LOSS=15]="DATA_LOSS";var Dm=function(){function e(){fn(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return pn(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Lm}},{key:"getOrCreateInstance",value:function(){return null===Lm&&(Lm=new e),Lm}}]),e}(),Lm=null;function Mm(){return new TextEncoder}var Um=new ad([4294967295,4294967295],0);function Fm(e){var t=Mm().encode(e),n=new id;return n.update(t),new Uint8Array(n.digest())}function jm(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ad([n,r],0),new ad([i,a],0)]}var Vm=function(){function e(t,n,r){if(fn(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zm("Invalid padding: ".concat(n));if(r<0)throw new zm("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new zm("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new zm("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=ad.fromNumber(this.It)}return pn(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(ad.fromNumber(n)));return 1===r.compare(Um)&&(r=new ad([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=u(jm(Fm(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=u(jm(Fm(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),zm=function(e){nn(n,e);var t=on(n);function n(){var e;return fn(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return pn(n)}(kn(Error)),Bm=function(){function e(t,n,r,i,a){fn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return pn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Hm.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Dd.min(),i,new sp(Nd),Mv(),Wv())}}]),e}(),Hm=function(){function e(t,n,r,i,a){fn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return pn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Wv(),Wv(),Wv())}}]),e}(),qm=pn((function e(t,n,r,i){fn(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),Wm=pn((function e(t,n){fn(this,e),this.targetId=t,this.Vt=n})),Km=pn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pp.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;fn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Gm=function(){function e(){fn(this,e),this.St=0,this.Dt=Ym(),this.Ct=pp.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return pn(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=Wv(),t=Wv(),n=Wv();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vd()}})),new Hm(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=Ym()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),$m=function(){function e(t){fn(this,e),this.Gt=t,this.Qt=new Map,this.jt=Mv(),this.zt=Qm(),this.Wt=new sp(Nd)}return pn(e,[{key:"Ht",value:function(e){var t,n=sn(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=sn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:vd()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(vv(a))if(0===r){var o=new jd(a.path);this.Yt(n,o,Bp.newNoDocument(o,Dd.min()))}else md(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=Dm.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=gp(c).toUint8Array()}catch(e){if(e instanceof dp)return dd("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new Vm(a,f,d)}catch(e){return dd(e instanceof zm?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&vv(a.target)){var o=new jd(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,Bp.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=Wv();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Bm(e,n,this.Wt,this.jt,r);return this.jt=Mv(),this.zt=Qm(),this.Wt=new sp(Nd),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new Gm,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new lp(Nd),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||fd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new Gm),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Qm(){return new sp(jd.comparator)}function Ym(){return new sp(jd.comparator)}var Xm={asc:"ASCENDING",desc:"DESCENDING"},Jm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zm={and:"AND",or:"OR"},ey=pn((function e(t,n){fn(this,e),this.databaseId=t,this.useProto3Json=n}));function ty(e,t){return e.useProto3Json||Jd(t)?t:{value:t}}function ny(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ry(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function iy(e,t){return ny(e,t.toTimestamp())}function ay(e){return md(!!e),Dd.fromTimestamp(function(e){var t=mp(e);return new Pd(t.seconds,t.nanos)}(e))}function oy(e,t){return function(e){return new Md(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sy(e){var t=Md.fromString(e);return md(Iy(t)),t}function uy(e,t){return oy(e.databaseId,t.path)}function cy(e,t){var n=sy(t);if(n.get(1)!==e.databaseId.projectId)throw new kd(gd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kd(gd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jd(dy(n))}function ly(e,t){return oy(e.databaseId,t)}function fy(e){var t=sy(e);return 4===t.length?Md.emptyPath():dy(t)}function hy(e){return new Md(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dy(e){return md(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function py(e,t,n){return{name:uy(e,t),fields:n.value.mapValue.fields}}function vy(e,t){var n;if(t instanceof km)n={update:py(e,t.key,t.value)};else if(t instanceof Tm)n={delete:uy(e,t.key)};else if(t instanceof bm)n={update:py(e,t.key,t.data),updateMask:Ty(t.fieldMask)};else{if(!(t instanceof Im))return vd();n={verify:uy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof tm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof im)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof om)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw vd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:iy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vd()}(e,t.precondition)),n}function my(e,t){return{documents:[ly(e,t.path)]}}function yy(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ly(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ly(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Sy(Yp.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:xy(e.field),direction:by(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=ty(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function gy(e){var t=fy(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){md(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=ky(e);return t instanceof Yp&&Jp(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Kp(Ey(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Jd(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Hp(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Hp(n,t)}(n.endAt)),yv(t,i,s,o,u,"F",c,l)}function ky(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ey(e.unaryFilter.field);return Qp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ey(e.unaryFilter.field);return Qp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ey(e.unaryFilter.field);return Qp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ey(e.unaryFilter.field);return Qp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vd()}}(e):void 0!==e.fieldFilter?function(e){return Qp.create(Ey(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vd()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Yp.create(e.compositeFilter.filters.map((function(e){return ky(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return vd()}}(e.compositeFilter.op))}(e):vd()}function by(e){return Xm[e]}function wy(e){return Jm[e]}function _y(e){return Zm[e]}function xy(e){return{fieldPath:e.canonicalString()}}function Ey(e){return Fd.fromServerFormat(e.fieldPath)}function Sy(e){return e instanceof Qp?function(e){if("=="===e.op){if(Mp(e.value))return{unaryFilter:{field:xy(e.field),op:"IS_NAN"}};if(Lp(e.value))return{unaryFilter:{field:xy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mp(e.value))return{unaryFilter:{field:xy(e.field),op:"IS_NOT_NAN"}};if(Lp(e.value))return{unaryFilter:{field:xy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xy(e.field),op:wy(e.op),value:e.value}}}(e):e instanceof Yp?function(e){var t=e.getFilters().map((function(e){return Sy(e)}));return 1===t.length?t[0]:{compositeFilter:{op:_y(e.op),filters:t}}}(e):vd()}function Ty(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Iy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Cy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Dd.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Dd.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:pp.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;fn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return pn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Ay=pn((function e(t){fn(this,e),this.fe=t}));function Ry(e){var t=gy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Tv(t,t.limit,"L"):t}var Ny=function(){function e(){fn(this,e)}return pn(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(yp(e.integerValue));else if("doubleValue"in e){var n=yp(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Zd(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(gp(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?jp(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):vd()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),jd.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();Ny.Ve=new Ny;var Oy=function(){function e(){fn(this,e),this.rn=new Py}return pn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),Qd.resolve()}},{key:"getCollectionParents",value:function(e,t){return Qd.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Qd.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Qd.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Qd.resolve(null)}},{key:"getIndexType",value:function(e,t){return Qd.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Qd.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Qd.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Qd.resolve(Hd.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Qd.resolve(Hd.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Qd.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Qd.resolve()}}]),e}(),Py=function(){function e(){fn(this,e),this.index={}}return pn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new lp(Md.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new lp(Md.comparator)).toArray()}}]),e}();new Uint8Array(0);var Dy=function(){function e(t,n,r){fn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return pn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Dy.DEFAULT_COLLECTION_PERCENTILE=10,Dy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dy.DEFAULT=new Dy(41943040,Dy.DEFAULT_COLLECTION_PERCENTILE,Dy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dy.DISABLED=new Dy(-1,0,0);var Ly=function(){function e(t){fn(this,e),this.Nn=t}return pn(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}();var My=function(){function e(){fn(this,e),this.changes=new Dv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return pn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Bp.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Qd.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Uy=pn((function e(t,n){fn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Fy=function(){function e(t,n,r,i){fn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return pn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&mm(r.mutation,e,hp.empty(),Pd.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Wv()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wv(),i=Vv();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Fv();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Vv();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Wv())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Mv(),a=Bv(),o=Bv();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof bm)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),mm(o.mutation,t,o.mutation.getFieldMask(),Pd.now())):a.set(t.key,hp.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Uy(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Bv(),i=new sp((function(e,t){return e-t})),a=Wv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=sn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||hp.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Wv()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=zv();c.forEach((function(e){if(!a.has(e)){var n=pm(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Qd.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return jd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_v(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Qd.resolve(Vv()),s=-1,u=a;return o.next((function(t){return Qd.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Qd.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Wv())})).next((function(e){return{batchId:s,changes:jv(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new jd(t)).next((function(e){var t=Fv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Fv();return this.indexManager.getCollectionParents(e,i).next((function(o){return Qd.forEach(o,(function(o){var s=function(e,t){return new mv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Bp.newInvalidDocument(r)))}));var n=Fv();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&mm(a.mutation,i,hp.empty(),Pd.now()),Rv(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),jy=function(){function e(t){fn(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return pn(e,[{key:"getBundleMetadata",value:function(e,t){return Qd.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:ay(n.createTime)}),Qd.resolve()}},{key:"getNamedQuery",value:function(e,t){return Qd.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Ry(e.bundledQuery),readTime:ay(e.readTime)}}(t)),Qd.resolve()}}]),e}(),Vy=function(){function e(){fn(this,e),this.overlays=new sp(jd.comparator),this.ls=new Map}return pn(e,[{key:"getOverlay",value:function(e,t){return Qd.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Vv();return Qd.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),Qd.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),Qd.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Vv(),i=t.length+1,a=new jd(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Qd.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new sp((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Vv(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Vv(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Qd.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Rm(t,n));var a=this.ls.get(t);void 0===a&&(a=Wv(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),zy=function(){function e(){fn(this,e),this.fs=new lp(By.ds),this.ws=new lp(By._s)}return pn(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new By(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new By(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new jd(new Md([])),r=new By(n,e),i=new By(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new jd(new Md([])),n=new By(t,e),r=new By(t,e+1),i=Wv();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new By(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),By=function(){function e(t,n){fn(this,e),this.key=t,this.As=n}return pn(e,null,[{key:"ds",value:function(e,t){return jd.comparator(e.key,t.key)||Nd(e.As,t.As)}},{key:"_s",value:function(e,t){return Nd(e.As,t.As)||jd.comparator(e.key,t.key)}}]),e}(),Hy=function(){function e(t,n){fn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new lp(By.ds)}return pn(e,[{key:"checkEmpty",value:function(e){return Qd.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Cm(i,t,n,r);this.mutationQueue.push(a);var o,s=sn(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new By(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Qd.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Qd.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return Qd.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Qd.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return Qd.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new By(t,0),i=new By(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),Qd.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lp(Nd);return t.forEach((function(e){var t=new By(e,0),i=new By(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),Qd.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;jd.isDocumentKey(i)||(i=i.child(""));var a=new By(new jd(i),0),o=new lp(Nd);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),Qd.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;md(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Qd.forEach(t.mutations,(function(i){var a=new By(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new By(t,0),r=this.Rs.firstAfterOrEqual(n);return Qd.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Qd.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),qy=function(){function e(t){fn(this,e),this.Ds=t,this.docs=new sp(jd.comparator),this.size=0}return pn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Qd.resolve(n?n.document.mutableCopy():Bp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Mv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Bp.newInvalidDocument(e))})),Qd.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Mv(),a=t.path,o=new jd(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||qd(Bd(l),n)<=0||(r.has(l.key)||Rv(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Qd.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){vd()}},{key:"Cs",value:function(e,t){return Qd.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Wy(this)}},{key:"getSize",value:function(e){return Qd.resolve(this.size)}}]),e}(),Wy=function(e){nn(n,e);var t=on(n);function n(e){var r;return fn(this,n),(r=t.call(this)).os=e,r}return pn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),Qd.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(My),Ky=function(){function e(t){fn(this,e),this.persistence=t,this.xs=new Dv((function(e){return dv(e)}),pv),this.lastRemoteSnapshotVersion=Dd.min(),this.highestTargetId=0,this.Ns=0,this.ks=new zy,this.targetCount=0,this.Ms=Ly.kn()}return pn(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),Qd.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Qd.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Qd.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),Qd.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Qd.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ly(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,Qd.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),Qd.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Qd.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Qd.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Qd.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return Qd.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),Qd.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Qd.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),Qd.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return Qd.resolve(n)}},{key:"containsKey",value:function(e,t){return Qd.resolve(this.ks.containsKey(t))}}]),e}(),Gy=function(){function e(t,n){var r=this;fn(this,e),this.$s={},this.overlays={},this.Os=new Xd(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Ky(this),this.indexManager=new Oy,this.remoteDocumentCache=new qy((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new Ay(n),this.qs=new jy(this.serializer)}return pn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Vy,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new Hy(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;fd("MemoryPersistence","Starting transaction:",e);var i=new $y(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return Qd.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$y=function(e){nn(n,e);var t=on(n);function n(e){var r;return fn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return pn(n)}(Kd),Qy=function(){function e(t){fn(this,e),this.persistence=t,this.Qs=new zy,this.js=null}return pn(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw vd()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Qd.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Qd.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),Qd.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qd.forEach(this.Ws,(function(r){var i=jd.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,Dd.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return Qd.or([function(){return Qd.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}();var Yy=function(){function e(t,n,r,i){fn(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return pn(e,null,[{key:"Li",value:function(t,n){var r,i=Wv(),a=Wv(),o=sn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Xy=function(){function e(){fn(this,e),this.qi=!1}return pn(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(kv(t))return Qd.resolve(null);var r=Ev(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Tv(t,null,"F"),r=Ev(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Wv.apply(void 0,mn(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,Tv(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return kv(t)||r.isEqual(Dd.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(ld()<=Zn.DEBUG&&fd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Av(t)),i.Wi(e,o,t,zd(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new lp(Ov(e));return t.forEach((function(t,r){Rv(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return ld()<=Zn.DEBUG&&fd("QueryEngine","Using full collection scan to execute query:",Av(t)),this.Ui.getDocumentsMatchingQuery(e,t,Hd.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Jy=function(){function e(t,n,r,i){fn(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new sp(Nd),this.Yi=new Dv((function(e){return dv(e)}),pv),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return pn(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fy(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function Zy(e,t,n,r){return new Jy(e,t,n,r)}function eg(e,t){return tg.apply(this,arguments)}function tg(){return tg=ln(un().mark((function e(t,n){var r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yd(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Wv(),u=sn(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=sn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=sn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=sn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e,t){var n=yd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Qd.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);md(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Wv(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function rg(e){var t=yd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function ig(e,t){var n=yd(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(pp.EMPTY_BYTE_STRING,Dd.min()).withLastLimboFreeSnapshotVersion(Dd.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=Mv(),u=Wv();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ag(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(Dd.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Qd.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function ag(e,t,n){var r=Wv(),i=Wv();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Mv();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Dd.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):fd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function og(e,t){var n=yd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function sg(e,t){var n=yd(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,Qd.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new Cy(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function ug(e,t,n){return cg.apply(this,arguments)}function cg(){return cg=ln(un().mark((function e(t,n,r){var i,a,o;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yd(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Yd(e.t1)){e.next=12;break}throw e.t1;case 12:fd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),cg.apply(this,arguments)}function lg(e,t,n){var r=yd(e),i=Dd.min(),a=Wv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=yd(e),i=r.Yi.get(n);return void 0!==i?Qd.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Ev(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Dd.min(),n?a:Wv())})).next((function(e){return fg(r,Nv(t),e),{documents:e,ir:a}}))}))}function fg(e,t,n){var r=e.Xi.get(t)||Dd.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}var hg=function(){function e(){fn(this,e),this.activeTargetIds=Gv()}return pn(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),dg=function(){function e(){fn(this,e),this.Hr=new hg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return pn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new hg,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),pg=function(){function e(){fn(this,e)}return pn(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),vg=function(){function e(){var t=this;fn(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return pn(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){fd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=sn(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){fd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=sn(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),mg=null;function yg(){return null===mg?mg=268435456+Math.round(2147483648*Math.random()):mg++,"0x"+mg.toString(16)}var gg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},kg=function(){function e(t){fn(this,e),this.ro=t.ro,this.oo=t.oo}return pn(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),bg="WebChannelConnection",wg=function(e){nn(n,e);var t=on(n);function n(e){var r;return fn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return pn(n,[{key:"Ao",value:function(e,t,n,r){var i=yg();return new Promise((function(a,o){var s=new rd;s.setWithCredentials(!0),s.listenOnce(Jh.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Xh.NO_ERROR:var t=s.getResponseJson();fd(bg,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Xh.TIMEOUT:fd(bg,"RPC '".concat(e,"' ").concat(i," timed out")),o(new kd(gd.DEADLINE_EXCEEDED,"Request time out"));break;case Xh.HTTP_ERROR:var n=s.getStatus();if(fd(bg,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(gd).indexOf(t)>=0?t:gd.UNKNOWN}(u.status);o(new kd(c,u.message))}else o(new kd(gd.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new kd(gd.UNAVAILABLE,"Connection failed."));break;default:vd()}}finally{fd(bg,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);fd(bg,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=yg(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Qh(),o=Yh(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new td({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");fd(bg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new kg({ro:function(t){h?fd(bg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(fd(bg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),fd(bg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,nd.EventType.OPEN,(function(){h||fd(bg,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,nd.EventType.CLOSE,(function(){h||(h=!0,fd(bg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,nd.EventType.ERROR,(function(t){h||(h=!0,dd(bg,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new kd(gd.UNAVAILABLE,"The operation could not be completed")))})),p(l,nd.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];md(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){fd(bg,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Em[e];if(void 0!==t)return Pm(t)}(s),c=o.message;void 0===u&&(u=gd.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.wo(new kd(u,c)),l.close()}else fd(bg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,Zh.STAT_EVENT,(function(t){t.stat===ed.PROXY?fd(bg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ed.NOPROXY&&fd(bg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){fn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return pn(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=yg(),o=this.To(e,t);fd("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return fd("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw dd("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ud,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=gg[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function _g(){return"undefined"!=typeof document?document:null}function xg(e){return new ey(e,!0)}var Eg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;fn(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return pn(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&fd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),Sg=function(){function e(t,n,r,i,a,o,s,u){fn(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Eg(t,n)}return pn(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===gd.RESOURCE_EXHAUSTED?(hd(n.toString()),hd("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===gd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new kd(gd.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(ln(un().mark((function t(){return un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return fd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(fd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Tg=function(e){nn(n,e);var t=on(n);function n(e,r,i,a,o,s){var u;return fn(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return pn(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(md(void 0===t||"string"==typeof t),pp.fromBase64String(t||"")):(md(void 0===t||t instanceof Uint8Array),pp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?gd.UNKNOWN:Pm(e.code);return new kd(t,e.message||"")}(o);n=new Km(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=cy(e,u.document.name),l=ay(u.document.updateTime),f=u.document.createTime?ay(u.document.createTime):Dd.min(),h=new Vp({mapValue:{fields:u.document.fields}}),d=Bp.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new qm(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=cy(e,m.document),g=m.readTime?ay(m.readTime):Dd.min(),k=Bp.newNoDocument(y,g),b=m.removedTargetIds||[];n=new qm([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=cy(e,w.document),x=w.removedTargetIds||[];n=new qm([],x,_,null)}else{if(!("filter"in t))return vd();t.filter;var E=t.filter;E.targetId;var S=E.count,T=void 0===S?0:S,I=E.unchangedNames,C=new Nm(T,I),A=E.targetId;n=new Wm(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Dd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Dd.min():t.readTime?ay(t.readTime):Dd.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=hy(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=vv(r)?{documents:my(e,r)}:{query:yy(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ry(e,t.resumeToken);var i=ty(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Dd.min())>0){n.readTime=ny(e,t.snapshotVersion.toTimestamp());var a=ty(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vd()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=hy(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(Sg),Ig=function(e){nn(n,e);var t=on(n);function n(e,r,i,a,o,s){var u;return fn(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return pn(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,Zt(Jt(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(md(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(md(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ay(e.updateTime):ay(t);return n.isEqual(Dd.min())&&(n=ay(t)),new lm(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ay(e.commitTime);return this.listener.cu(n,t)}return md(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=hy(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return vy(t.serializer,e)}))};this.Wo(n)}}]),n}(Sg),Cg=function(e){nn(n,e);var t=on(n);function n(e,r,i,a){var o;return fn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return pn(n,[{key:"fu",value:function(){if(this.lu)throw new kd(gd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new kd(gd.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],c=o[1];return i.connection.vo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gd.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new kd(gd.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return pn((function e(){fn(this,e)}))}());var Ag=function(){function e(t,n){fn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return pn(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(hd(t),this.mu=!1):fd("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),Rg=pn((function e(t,n,r,i,a){var o=this;fn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=zg(o),!e.t0){e.next=5;break}return fd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yd(t)).vu.add(4),e.next=4,Pg(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,Ng(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new Ag(r,i)}));function Ng(e){return Og.apply(this,arguments)}function Og(){return(Og=ln(un().mark((function e(t){var n,r,i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zg(t)){e.next=18;break}n=sn(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Pg(e){return Dg.apply(this,arguments)}function Dg(){return(Dg=ln(un().mark((function e(t){var n,r,i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sn(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Lg(e,t){var n=yd(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Vg(n)?jg(n):mk(n).Ko()&&Ug(n,t))}function Mg(e,t){var n=yd(e),r=mk(n);n.Au.delete(t),r.Ko()&&Fg(n,t),0===n.Au.size&&(r.Ko()?r.jo():zg(n)&&n.bu.set("Unknown"))}function Ug(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dd.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}mk(e).su(t)}function Fg(e,t){e.Vu.qt(t),mk(e).iu(t)}function jg(e){e.Vu=new $m({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),mk(e).start(),e.bu.gu()}function Vg(e){return zg(e)&&!mk(e).Uo()&&e.Au.size>0}function zg(e){return 0===yd(e).vu.size}function Bg(e){e.Vu=void 0}function Hg(e){return qg.apply(this,arguments)}function qg(){return(qg=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){Ug(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wg(e,t){return Kg.apply(this,arguments)}function Kg(){return(Kg=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Bg(t),Vg(t)?(t.bu.Iu(n),jg(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gg(e,t,n){return $g.apply(this,arguments)}function $g(){return $g=ln(un().mark((function e(t,n,r){var i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof Km&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ln(un().mark((function e(t,n){var r,i,a,o;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=sn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),fd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Qg(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof qm?t.Vu.Ht(n):n instanceof Wm?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(Dd.min())){e.next=29;break}return e.prev=14,e.next=17,rg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(pp.EMPTY_BYTE_STRING,r.snapshotVersion)),Fg(e,t);var i=new Cy(r.target,t,n,r.sequenceNumber);Ug(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),fd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Qg(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),$g.apply(this,arguments)}function Qg(e,t,n){return Yg.apply(this,arguments)}function Yg(){return(Yg=ln(un().mark((function e(t,n,r){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yd(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,Pg(t);case 5:t.bu.set("Offline"),r||(r=function(){return rg(t.localStore)}),t.asyncQueue.enqueueRetryable(ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,Ng(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xg(e,t){return t().catch((function(n){return Qg(e,n,t)}))}function Jg(e){return Zg.apply(this,arguments)}function Zg(){return(Zg=ln(un().mark((function e(t){var n,r,i,a;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yd(t),r=yk(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!ek(n)){e.next=19;break}return e.prev=3,e.next=6,og(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,tk(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Qg(n,e.t0);case 17:e.next=2;break;case 19:nk(n)&&rk(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function ek(e){return zg(e)&&e.Eu.length<10}function tk(e,t){e.Eu.push(t);var n=yk(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function nk(e){return zg(e)&&!yk(e).Uo()&&e.Eu.length>0}function rk(e){yk(e).start()}function ik(e){return ak.apply(this,arguments)}function ak(){return(ak=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yk(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ok(e){return sk.apply(this,arguments)}function sk(){return(sk=ln(un().mark((function e(t){var n,r,i,a;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yk(t),r=sn(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uk(e,t,n){return ck.apply(this,arguments)}function ck(){return ck=ln(un().mark((function e(t,n,r){var i,a;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=Am.from(i,n,r),e.next=3,Xg(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Jg(t);case 5:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}function lk(e,t){return fk.apply(this,arguments)}function fk(){return fk=ln(un().mark((function e(t,n){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&yk(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=ln(un().mark((function e(t,n){var r,i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Om(i=n.code)||i===gd.ABORTED){e.next=7;break}return r=t.Eu.shift(),yk(t).Qo(),e.next=5,Xg(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Jg(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:nk(t)&&rk(t);case 5:case"end":return e.stop()}}),e)}))),fk.apply(this,arguments)}function hk(e,t){return dk.apply(this,arguments)}function dk(){return(dk=ln(un().mark((function e(t,n){var r,i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=yd(t)).asyncQueue.verifyOperationInProgress(),fd("RemoteStore","RemoteStore received new credentials"),i=zg(r),r.vu.add(3),e.next=6,Pg(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,Ng(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pk(e,t){return vk.apply(this,arguments)}function vk(){return(vk=ln(un().mark((function e(t,n){var r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yd(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,Ng(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,Pg(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mk(e){return e.Su||(e.Su=function(e,t,n){var r=yd(e);return r.fu(),new Tg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Hg.bind(null,e),ao:Wg.bind(null,e),nu:Gg.bind(null,e)}),e.Ru.push(function(){var t=ln(un().mark((function t(n){return un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),Vg(e)?jg(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:Bg(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function yk(e){return e.Du||(e.Du=function(e,t,n){var r=yd(e);return r.fu(),new Ig(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:ik.bind(null,e),ao:lk.bind(null,e),au:ok.bind(null,e),cu:uk.bind(null,e)}),e.Ru.push(function(){var t=ln(un().mark((function t(n){return un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,Jg(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(fd("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var gk=function(){function e(t,n,r,i,a){fn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new bd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return pn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kd(gd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function kk(e,t){if(hd("AsyncQueue","".concat(t,": ").concat(e)),Yd(e))return new kd(gd.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var bk=function(){function e(t){fn(this,e),this.comparator=t?function(e,n){return t(e,n)||jd.comparator(e.key,n.key)}:function(e,t){return jd.comparator(e.key,t.key)},this.keyedMap=Fv(),this.sortedSet=new sp(this.comparator)}return pn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),wk=function(){function e(){fn(this,e),this.Cu=new sp(jd.comparator)}return pn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):vd():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),_k=function(){function e(t,n,r,i,a,o,s,u,c){fn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return pn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Iv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,bk.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),xk=pn((function e(){fn(this,e),this.Nu=void 0,this.listeners=[]})),Ek=pn((function e(){fn(this,e),this.queries=new Dv((function(e){return Cv(e)}),Iv),this.onlineState="Unknown",this.ku=new Set}));function Sk(e,t){return Tk.apply(this,arguments)}function Tk(){return Tk=ln(un().mark((function e(t,n){var r,i,a,o,s;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yd(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new xk),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=kk(e.t0,"Initialization of query '".concat(Av(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&Nk(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Tk.apply(this,arguments)}function Ik(e,t){return Ck.apply(this,arguments)}function Ck(){return Ck=ln(un().mark((function e(t,n){var r,i,a,o,s;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yd(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Ck.apply(this,arguments)}function Ak(e,t){var n,r=yd(e),i=!1,a=sn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=sn(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Nk(r)}function Rk(e,t,n){var r=yd(e),i=r.queries.get(t);if(i){var a,o=sn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Nk(e){e.ku.forEach((function(e){e.next()}))}var Ok=function(){function e(t,n,r){fn(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return pn(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=sn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new _k(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=_k.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}();var Pk=pn((function e(t){fn(this,e),this.key=t})),Dk=pn((function e(t){fn(this,e),this.key=t})),Lk=function(){function e(t,n){fn(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Wv(),this.mutatedKeys=Wv(),this.tc=Ov(t),this.ec=new bk(this.tc)}return pn(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new wk,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Rv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vd()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new _k(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new wk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=Wv(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new Dk(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new Pk(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=Wv();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return _k.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),Mk=pn((function e(t,n,r){fn(this,e),this.query=t,this.targetId=n,this.view=r})),Uk=pn((function e(t){fn(this,e),this.key=t,this.fc=!1})),Fk=function(){function e(t,n,r,i,a,o){fn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Dv((function(e){return Cv(e)}),Iv),this._c=new Map,this.mc=new Set,this.gc=new sp(jd.comparator),this.yc=new Map,this.Ic=new zy,this.Tc={},this.Ec=new Map,this.Ac=Ly.Mn(),this.onlineState="Unknown",this.vc=void 0}return pn(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function jk(e,t){return Vk.apply(this,arguments)}function Vk(){return Vk=ln(un().mark((function e(t,n){var r,i,a,o,s,u;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pb(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,sg(r.localStore,Ev(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,zk(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Lg(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Vk.apply(this,arguments)}function zk(e,t,n,r,i){return Bk.apply(this,arguments)}function Bk(){return Bk=ln(un().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=ln(un().mark((function e(t,n,r,i){var a,o,s;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,lg(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(ob(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,lg(t.localStore,n,!0);case 3:return o=e.sent,s=new Lk(n,o.ir),u=s.sc(o.documents),c=Hm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),ob(t,r,l.cc),f=new Mk(n,r,s),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Bk.apply(this,arguments)}function Hk(e,t){return qk.apply(this,arguments)}function qk(){return qk=ln(un().mark((function e(t,n){var r,i,a;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yd(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!Iv(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ug(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Mg(r.remoteStore,i.targetId),ib(r,i.targetId)})).catch(Gd);case 9:e.next=14;break;case 11:return ib(r,i.targetId),e.next=14,ug(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),qk.apply(this,arguments)}function Wk(e,t,n){return Kk.apply(this,arguments)}function Kk(){return Kk=ln(un().mark((function e(t,n,r){var i,a,o;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vb(t),e.prev=1,e.next=4,function(e,t){var n,r,i=yd(e),a=Pd.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Wv());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Mv(),u=Wv();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=sn(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=ym(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new bm(c.key,l,zp(l.value.mapValue),fm.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:jv(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new sp(Nd)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,cb(i,a.changes);case 9:return e.next=11,Jg(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=kk(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Kk.apply(this,arguments)}function Gk(e,t){return $k.apply(this,arguments)}function $k(){return($k=ln(un().mark((function e(t,n){var r,i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yd(t),e.prev=1,e.next=4,ig(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(md(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?md(n.fc):e.removedDocuments.size>0&&(md(n.fc),n.fc=!1))})),e.next=8,cb(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Gd(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function Qk(e,t,n){var r=yd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=yd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=sn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Nk(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Yk(e,t,n){return Xk.apply(this,arguments)}function Xk(){return Xk=ln(un().mark((function e(t,n,r){var i,a,o,s,u,c;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=yd(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new sp(jd.comparator)).insert(o,Bp.newNoDocument(o,Dd.min())),u=Wv().add(o),c=new Bm(Dd.min(),new Map,new sp(Nd),s,u),e.next=9,Gk(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),ub(i),e.next=16;break;case 14:return e.next=16,ug(i.localStore,n,!1).then((function(){return ib(i,n,r)})).catch(Gd);case 16:case"end":return e.stop()}}),e)}))),Xk.apply(this,arguments)}function Jk(e,t){return Zk.apply(this,arguments)}function Zk(){return(Zk=ln(un().mark((function e(t,n){var r,i,a;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yd(t),i=n.batch.batchId,e.prev=1,e.next=4,ng(r.localStore,n);case 4:return a=e.sent,rb(r,i,null),nb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,cb(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gd(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function eb(e,t,n){return tb.apply(this,arguments)}function tb(){return(tb=ln(un().mark((function e(t,n,r){var i,a;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yd(t),e.prev=1,e.next=4,function(e,t){var n=yd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return md(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,rb(i,n,r),nb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,cb(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gd(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function nb(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function rb(e,t,n){var r=yd(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function ib(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=sn(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||ab(e,t)}))}function ab(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(Mg(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),ub(e))}function ob(e,t,n){var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Pk?(e.Ic.addReference(a.key,t),sb(e,a)):a instanceof Dk?(fd("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||ab(e,a.key)):vd()}}catch(o){i.e(o)}finally{i.f()}}function sb(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(fd("SyncEngine","New document in limbo: "+n),e.mc.add(r),ub(e))}function ub(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new jd(Md.fromString(t)),r=e.Ac.next();e.yc.set(r,new Uk(n)),e.gc=e.gc.insert(n,r),Lg(e.remoteStore,new Cy(Ev(gv(n.path)),r,"TargetPurposeLimboResolution",Xd.ct))}}function cb(e,t,n){return lb.apply(this,arguments)}function lb(){return lb=ln(un().mark((function e(t,n,r){var i,a,o,s;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yd(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Yy.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=ln(un().mark((function e(t,n){var r,i,a,o,s,u,c,l;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yd(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Qd.forEach(n,(function(t){return Qd.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Qd.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Yd(e.t0)){e.next=10;break}throw e.t0;case 10:fd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=sn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),lb.apply(this,arguments)}function fb(e,t){return hb.apply(this,arguments)}function hb(){return(hb=ln(un().mark((function e(t,n){var r,i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=yd(t)).currentUser.isEqual(n)){e.next=11;break}return fd("SyncEngine","User change. New user:",n.toKey()),e.next=5,eg(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new kd(gd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,cb(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function db(e,t){var n=yd(e),r=n.yc.get(t);if(r&&r.fc)return Wv().add(r.key);var i=Wv(),a=n._c.get(t);if(!a)return i;var o,s=sn(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function pb(e){var t=yd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=db.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yk.bind(null,t),t.dc.nu=Ak.bind(null,t.eventManager),t.dc.Pc=Rk.bind(null,t.eventManager),t}function vb(e){var t=yd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Jk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eb.bind(null,t),t}var mb=function(){function e(){fn(this,e),this.synchronizeTabs=!1}return pn(e,[{key:"initialize",value:function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=xg(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Zy(this.persistence,new Xy,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Gy(Qy.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new dg}},{key:"terminate",value:function(){var e=ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),yb=function(){function e(){fn(this,e)}return pn(e,[{key:"initialize",value:function(){var e=ln(un().mark((function e(t,n){var r=this;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Qk(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=fb.bind(null,this.syncEngine),e.next=12,pk(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ek}},{key:"createDatastore",value:function(e){var t,n=xg(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new wg(t));return function(e,t,n,r){return new Cg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Qk(o.syncEngine,e,0)},a=vg.D()?new vg:new pg,new Rg(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Fk(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yd(t),fd("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,Pg(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var gb=function(){function e(t){fn(this,e),this.observer=t,this.muted=!1}return pn(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):hd("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),kb=function(){function e(t,n,r,i){var a=this;fn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sd.UNAUTHENTICATED,this.clientId=Rd.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return fd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return pn(e,[{key:"getConfiguration",value:function(){var e=ln(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new kd(gd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new bd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ln(un().mark((function n(){var r;return un().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=kk(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function bb(e,t){return wb.apply(this,arguments)}function wb(){return wb=ln(un().mark((function e(t,n){var r,i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),fd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,eg(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}function _b(e,t){return xb.apply(this,arguments)}function xb(){return(xb=ln(un().mark((function e(t,n){var r,i;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Sb(t);case 3:return r=e.sent,fd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return hk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return hk(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eb(e){return"FirebaseError"===e.name?e.code===gd.FAILED_PRECONDITION||e.code===gd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Sb(e){return Tb.apply(this,arguments)}function Tb(){return(Tb=ln(un().mark((function e(t){var n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return fd("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,bb(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Eb(n=e.t0)){e.next=13;break}throw n;case 13:return dd("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,bb(t,new mb);case 16:e.next=21;break;case 18:return fd("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,bb(t,new mb);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Ib(e){return Cb.apply(this,arguments)}function Cb(){return(Cb=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return fd("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,_b(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return fd("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,_b(t,new yb);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ab(e){return Ib(e).then((function(e){return e.syncEngine}))}function Rb(e){return Nb.apply(this,arguments)}function Nb(){return(Nb=ln(un().mark((function e(t){var n,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ib(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=jk.bind(null,n.syncEngine),r.onUnlisten=Hk.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ob(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bd;return e.asyncQueue.enqueueAndForget(ln(un().mark((function i(){return un().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new gb({next:function(a){t.enqueueAndForget((function(){return Ik(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new kd(gd.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new kd(gd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Ok(gv(n.path),a,{includeMetadataChanges:!0,Ku:!0});return Sk(e,o)},i.next=3,Rb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Pb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bd;return e.asyncQueue.enqueueAndForget(ln(un().mark((function i(){return un().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new gb({next:function(n){t.enqueueAndForget((function(){return Ik(e,o)})),n.fromCache&&"server"===r.source?i.reject(new kd(gd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Ok(n,a,{includeMetadataChanges:!0,Ku:!0});return Sk(e,o)},i.next=3,Rb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Db(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Lb=new Map;function Mb(e,t,n){if(!n)throw new kd(gd.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ub(e){if(!jd.isDocumentKey(e))throw new kd(gd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Fb(e){if(jd.isDocumentKey(e))throw new kd(gd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function jb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":vd()}function Vb(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kd(gd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jb(e);throw new kd(gd.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var zb=function(){function e(t){var n,r;if(fn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new kd(gd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new kd(gd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new kd(gd.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Db(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new kd(gd.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new kd(gd.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new kd(gd.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return pn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),Bb=function(){function e(t,n,r,i){fn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zb({}),this._settingsFrozen=!1}return pn(e,[{key:"app",get:function(){if(!this._app)throw new kd(gd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new kd(gd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zb(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _d;switch(e.type){case"firstParty":return new Td(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new kd(gd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Lb.get(e);t&&(fd("ComponentProvider","Removing Datastore"),Lb.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Hb(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Vb(e,Bb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&dd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=sd.MOCK_USER;else{o=On(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new kd(gd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new sd(u)}e._authCredentials=new xd(new wd(o,s))}}var qb=function(){function e(t,n,r){fn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return pn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Kb(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Wb=function(){function e(t,n,r){fn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return pn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Kb=function(e){nn(n,e);var t=on(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this,e,r,gv(i)))._path=i,a.type="collection",a}return pn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new qb(this.firestore,null,new jd(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Wb);function Gb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gn(e),Mb("collection","path",t),e instanceof Bb){var a=Md.fromString.apply(Md,[t].concat(r));return Fb(a),new Kb(e,null,a)}if(!(e instanceof qb||e instanceof Kb))throw new kd(gd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Md.fromString.apply(Md,[t].concat(r)));return Fb(o),new Kb(e.firestore,null,o)}function $b(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gn(e),1===arguments.length&&(t=Rd.A()),Mb("doc","path",t),e instanceof Bb){var a=Md.fromString.apply(Md,[t].concat(r));return Ub(a),new qb(e,null,new jd(a))}if(!(e instanceof qb||e instanceof Kb))throw new kd(gd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Md.fromString.apply(Md,[t].concat(r)));return Ub(o),new qb(e.firestore,e instanceof Kb?e.converter:null,new jd(o))}var Qb=function(){function e(){var t=this;fn(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Eg(this,"async_queue_retry"),this.Xc=function(){var e=_g();e&&fd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=_g();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return pn(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=_g();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new bd;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=ln(un().mark((function e(){var t=this;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Yd(e.t0)){e.next=12;break}throw e.t0;case 12:fd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw hd("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=gk.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&vd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=ln(un().mark((function e(){var t;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=sn(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=sn(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function Yb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=sn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Xb=function(e){nn(n,e);var t=on(n);function n(e,r,i,a){var o;return fn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Qb,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return pn(n,[{key:"_terminate",value:function(){return this._firestoreClient||Zb(this),this._firestoreClient.terminate()}}]),n}(Bb);function Jb(e){return e._firestoreClient||Zb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Zb(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new _p(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Db(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new kb(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var ew=function(){function e(t){fn(this,e),this._byteString=t}return pn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(pp.fromBase64String(t))}catch(t){throw new kd(gd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(pp.fromUint8Array(t))}}]),e}(),tw=function(){function e(){fn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new kd(gd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fd(n)}return pn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var nw=pn((function e(t){fn(this,e),this._methodName=t})),rw=function(){function e(t,n){if(fn(this,e),!isFinite(t)||t<-90||t>90)throw new kd(gd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new kd(gd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return pn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Nd(this._lat,e._lat)||Nd(this._long,e._long)}}]),e}(),iw=/^__.*__$/,aw=function(){function e(t,n,r){fn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return pn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new bm(e,this.data,this.fieldMask,t,this.fieldTransforms):new km(e,this.data,t,this.fieldTransforms)}}]),e}(),ow=function(){function e(t,n,r){fn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return pn(e,[{key:"toMutation",value:function(e,t){return new bm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function sw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vd()}}var uw=function(){function e(t,n,r,i,a,o){fn(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return pn(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return Tw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(sw(this.ca)&&iw.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),cw=function(){function e(t,n,r){fn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||xg(t)}return pn(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uw({ca:e,methodName:t,ga:n,path:Fd.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function lw(e){var t=e._freezeSettings(),n=xg(e._databaseId);return new cw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fw(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);_w("Data must be an object, but it was:",o,r);var s,u,c=bw(r,o);if(a.merge)s=new hp(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=sn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=xw(t,l.value,n);if(!o.contains(d))throw new kd(gd.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Iw(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new hp(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new aw(new Vp(c),s,u)}var hw=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.apply(this,arguments)}return pn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nw);function dw(e,t,n){return new uw({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var pw=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.apply(this,arguments)}return pn(n,[{key:"_toFieldTransform",value:function(e){return new cm(e.path,new tm)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nw),vw=function(e){nn(n,e);var t=on(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e)).pa=r,i}return pn(n,[{key:"_toFieldTransform",value:function(e){var t=dw(this,e,!0),n=this.pa.map((function(e){return kw(e,t)})),r=new nm(n);return new cm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nw);function mw(e,t,n,r){var i=e.ya(1,t,n);_w("Data must be an object, but it was:",i,r);var a=[],o=Vp.empty();ap(r,(function(e,r){var s=Sw(t,e,n);r=Gn(r);var u=i.da(s);if(r instanceof hw)a.push(s);else{var c=kw(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new hp(a);return new ow(o,s,i.fieldTransforms)}function yw(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[xw(t,r,n)],u=[i];if(a.length%2!=0)throw new kd(gd.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(xw(t,a[c])),u.push(a[c+1]);for(var l=[],f=Vp.empty(),h=s.length-1;h>=0;--h)if(!Iw(l,s[h])){var d=s[h],p=u[h];p=Gn(p);var v=o.da(d);if(p instanceof hw)l.push(d);else{var m=kw(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new hp(l);return new ow(f,y,o.fieldTransforms)}function gw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kw(n,e.ya(r?4:3,t))}function kw(e,t){if(ww(e=Gn(e)))return _w("Unsupported field value:",t,e),bw(e,t);if(e instanceof nw)return function(e,t){if(!sw(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=sn(e);try{for(a.s();!(n=a.n()).done;){var o=kw(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Gn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yv(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Pd.fromDate(e);return{timestampValue:ny(t.serializer,n)}}if(e instanceof Pd){var r=new Pd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ny(t.serializer,r)}}if(e instanceof rw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ew)return{bytesValue:ry(t.serializer,e._byteString)};if(e instanceof qb){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:oy(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(jb(e)))}(e,t)}function bw(e,t){var n={};return op(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ap(e,(function(e,r){var i=kw(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ww(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Pd||e instanceof rw||e instanceof ew||e instanceof qb||e instanceof nw)}function _w(e,t,n){if(!ww(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=jb(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function xw(e,t,n){if((t=Gn(t))instanceof tw)return t._internalPath;if("string"==typeof t)return Sw(e,t);throw Tw("Field path arguments must be of type string or ",e,!1,void 0,n)}var Ew=new RegExp("[~\\*/\\[\\]]");function Sw(e,t,n){if(t.search(Ew)>=0)throw Tw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return gn(tw,mn(t.split(".")))._internalPath}catch(r){throw Tw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Tw(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new kd(gd.INVALID_ARGUMENT,s+e+u)}function Iw(e,t){return e.some((function(e){return e.isEqual(t)}))}var Cw=function(){function e(t,n,r,i,a){fn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return pn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new qb(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Aw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Rw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Aw=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.apply(this,arguments)}return pn(n,[{key:"data",value:function(){return Zt(Jt(n.prototype),"data",this).call(this)}}]),n}(Cw);function Rw(e,t){return"string"==typeof t?Sw(e,t):t instanceof tw?t._internalPath:t._delegate._internalPath}function Nw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new kd(gd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ow=pn((function e(){fn(this,e)})),Pw=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.apply(this,arguments)}return pn(n)}(Ow);function Dw(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Ow&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Uw})).length,n=e.filter((function(e){return e instanceof Lw})).length;if(t>1||t>0&&n>0)throw new kd(gd.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=sn(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var Lw=function(e){nn(n,e);var t=on(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return pn(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Vw(e._query,t),new Wb(e.firestore,e.converter,Sv(e._query,t))}},{key:"_parse",value:function(e){var t=lw(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new kd(gd.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){jw(o,a);var u,c=[],l=sn(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(Fw(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=Fw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||jw(o,a),s=gw(n,"where",o,"in"===a||"not-in"===a);return Qp.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Pw);function Mw(e,t,n){var r=t,i=Rw("where",e);return Lw._create(i,r,n)}var Uw=function(e){nn(n,e);var t=on(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return pn(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Yp.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=sn(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Vw(r,a),r=Sv(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Wb(e.firestore,e.converter,Sv(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ow);function Fw(e,t,n){if("string"==typeof(n=Gn(n))){if(""===n)throw new kd(gd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_v(t)&&-1!==n.indexOf("/"))throw new kd(gd.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Md.fromString(n));if(!jd.isDocumentKey(r))throw new kd(gd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Op(e,new jd(r))}if(n instanceof qb)return Op(e,n._key);throw new kd(gd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(jb(n),"."))}function jw(e,t){if(!Array.isArray(e)||0===e.length)throw new kd(gd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Vw(e,t){if(t.isInequality()){var n=wv(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new kd(gd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=bv(e);null!==i&&zw(e,r,i)}var a=function(e,t){var n,r=sn(e);try{for(r.s();!(n=r.n()).done;){var i,a=sn(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new kd(gd.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new kd(gd.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function zw(e,t,n){if(!n.isEqual(t))throw new kd(gd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Bw=function(){function e(){fn(this,e)}return pn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vd()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return ap(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new rw(yp(e.latitude),yp(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=bp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=mp(e);return new Pd(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Md.fromString(e);md(Iy(n));var r=new xp(n.get(1),n.get(3)),i=new jd(n.popFirst(5));return r.isEqual(t)||hd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Hw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var qw=function(){function e(t,n){fn(this,e),this.hasPendingWrites=t,this.fromCache=n}return pn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ww=function(e){nn(n,e);var t=on(n);function n(e,r,i,a,o,s){var u;return fn(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return pn(n,[{key:"exists",value:function(){return Zt(Jt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Kw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Rw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Cw),Kw=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.apply(this,arguments)}return pn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zt(Jt(n.prototype),"data",this).call(this,e)}}]),n}(Ww),Gw=function(){function e(t,n,r,i){fn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new qw(i.hasPendingWrites,i.fromCache),this.query=r}return pn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Kw(n._firestore,n._userDataWriter,r.key,r,new qw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new kd(gd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Kw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Kw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:$w(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function $w(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vd()}}function Qw(e){e=Vb(e,qb);var t=Vb(e.firestore,Xb);return Ob(Jb(t),e._key).then((function(n){return n_(t,e,n)}))}var Yw=function(e){nn(n,e);var t=on(n);function n(e){var r;return fn(this,n),(r=t.call(this)).firestore=e,r}return pn(n,[{key:"convertBytes",value:function(e){return new ew(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new qb(this.firestore,null,t)}}]),n}(Bw);function Xw(e){e=Vb(e,Wb);var t=Vb(e.firestore,Xb),n=Jb(t),r=new Yw(t);return Nw(e._query),Pb(n,e._query).then((function(n){return new Gw(t,r,e,n)}))}function Jw(e,t,n){e=Vb(e,qb);var r=Vb(e.firestore,Xb),i=Hw(e.converter,t,n);return t_(r,[fw(lw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fm.none())])}function Zw(e,t,n){e=Vb(e,qb);for(var r=Vb(e.firestore,Xb),i=lw(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return t_(r,[("string"==typeof(t=Gn(t))||t instanceof tw?yw(i,"updateDoc",e._key,t,n,o):mw(i,"updateDoc",e._key,t)).toMutation(e._key,fm.exists(!0))])}function e_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Gn(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Yb(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Yb(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof qb)l=Vb(e.firestore,Xb),f=gv(e._key.path),c={next:function(t){n[u]&&n[u](n_(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=Vb(e,Wb);l=Vb(p.firestore,Xb),f=p._query;var v=new Yw(l);c={next:function(e){n[u]&&n[u](new Gw(l,v,p,e))},error:n[u+1],complete:n[u+2]},Nw(e._query)}return function(e,t,n,r){var i=new gb(r),a=new Ok(t,i,n);return e.asyncQueue.enqueueAndForget(ln(un().mark((function t(){return un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Sk,t.next=3,Rb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(ln(un().mark((function t(){return un().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ik,t.next=3,Rb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Jb(l),f,h,c)}function t_(e,t){return function(e,t){var n=new bd;return e.asyncQueue.enqueueAndForget(ln(un().mark((function r(){return un().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Wk,r.next=3,Ab(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Jb(e),t)}function n_(e,t,n){var r=n.docs.get(t._key),i=new Yw(e);return new Ww(e,i,t._key,r,new qw(n.hasPendingWrites,n.fromCache),t.converter)}function r_(){return new pw("serverTimestamp")}function i_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vw("arrayUnion",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ud=e}(Br),Ur(new $n("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Xb(new Ed(e.getProvider("auth-internal")),new Cd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kd(gd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xp(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Wr(od,"3.12.0",e),Wr(od,"3.12.0","esm2017")}();var a_,o_="firebasestorage.googleapis.com",s_="storageBucket",u_=function(e){nn(n,e);var t=on(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return fn(this,n),(i=t.call(this,c_(e),"Firebase Storage: ".concat(r," (").concat(c_(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(en(i),n.prototype),i}return pn(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return c_(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Mn);function c_(e){return"storage/"+e}function l_(){return new u_(a_.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function f_(){return new u_(a_.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h_(){return new u_(a_.CANCELED,"User canceled the upload/download.")}function d_(){return new u_(a_.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function p_(e){return new u_(a_.INVALID_ARGUMENT,e)}function v_(){return new u_(a_.APP_DELETED,"The Firebase app was deleted.")}function m_(e,t){return new u_(a_.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function y_(e){throw new u_(a_.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(a_||(a_={}));var g_,k_=function(){function e(t,n){fn(this,e),this.bucket=t,this.path_=n}return pn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new u_(a_.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===o_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new u_(a_.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),b_=function(){function e(t){fn(this,e),this.promise_=Promise.reject(t)}return pn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function w_(e){return"string"===typeof e||e instanceof String}function __(e){return x_()&&e instanceof Blob}function x_(){return"undefined"!==typeof Blob&&!Dn()}function E_(e,t,n,r){if(r<t)throw p_("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw p_("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function S_(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function T_(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function I_(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(g_||(g_={}));var C_=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];fn(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return pn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=l_();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?v_():h_());else i(f_())}};this.canceled_?t(0,new A_(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new A_(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===g_.NO_ERROR,a=r.getStatus();if(!n||I_(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===g_.ABORT;t(!1,new A_(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new A_(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),A_=pn((function e(t,n,r){fn(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function R_(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function N_(){for(var e=R_(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(x_())return new Blob(n);throw new u_(a_.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function O_(e){if("undefined"===typeof atob)throw t="base-64",new u_(a_.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var P_={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},D_=pn((function e(t,n){fn(this,e),this.data=t,this.contentType=n||null}));function L_(e,t){switch(e){case P_.RAW:return new D_(M_(t));case P_.BASE64:case P_.BASE64URL:return new D_(U_(e,t));case P_.DATA_URL:return new D_(function(e){var t=new F_(e);return t.base64?U_(P_.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw m_(P_.DATA_URL,"Malformed data URL.")}return M_(t)}(t.rest)}(t),new F_(t).contentType)}throw l_()}function M_(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function U_(e,t){switch(e){case P_.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw m_(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case P_.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw m_(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=O_(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw m_(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var F_=pn((function e(t){fn(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw m_(P_.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var j_=function(){function e(t,n){fn(this,e);var r=0,i="";__(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return pn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(__(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(x_()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(N_.apply(null,i))}var a=n.map((function(e){return w_(e)?L_(P_.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function V_(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function z_(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function B_(e,t){return t}var H_=pn((function e(t,n,r,i){fn(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||B_})),q_=null;function W_(){if(q_)return q_;var e=[];e.push(new H_("bucket")),e.push(new H_("generation")),e.push(new H_("metageneration")),e.push(new H_("name","fullPath",!0));var t=new H_("name");t.xform=function(e,t){return function(e){return!w_(e)||e.length<2?e:z_(e)}(t)},e.push(t);var n=new H_("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new H_("timeCreated")),e.push(new H_("updated")),e.push(new H_("md5Hash",null,!0)),e.push(new H_("cacheControl",null,!0)),e.push(new H_("contentDisposition",null,!0)),e.push(new H_("contentEncoding",null,!0)),e.push(new H_("contentLanguage",null,!0)),e.push(new H_("contentType",null,!0)),e.push(new H_("metadata","customMetadata",!0)),q_=e}function K_(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new k_(n,r);return t._makeStorageReference(i)}})}(r,e),r}function G_(e,t,n){var r=V_(t);return null===r?null:K_(e,r,n)}function $_(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var Q_=pn((function e(t,n,r,i){fn(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Y_(e){if(!e)throw l_()}function X_(e,t){return function(n,r){var i=G_(e,r,t);return Y_(null!==i),i}}function J_(e,t){return function(n,r){var i=G_(e,r,t);return Y_(null!==i),function(e,t,n,r){var i=V_(t);if(null===i)return null;if(!w_(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,s=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return S_("/b/"+o(i)+"/o/"+o(a),n,r)+T_({alt:"media",token:t})}));return s[0]}(i,r,e.host,e._protocol)}}function Z_(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new u_(a_.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new u_(a_.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new u_(a_.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new u_(a_.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ex(e){var t=Z_(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new u_(a_.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function tx(e,t,n){var r=S_(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Q_(r,"GET",X_(e,n),i);return a.errorHandler=ex(t),a}function nx(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function rx(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=nx(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+$_(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=j_.getBlob(c,r,l);if(null===f)throw d_();var h={name:u.fullPath},d=S_(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Q_(d,"POST",X_(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Z_(t),v}var ix=pn((function e(t,n,r,i){fn(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function ax(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Y_(!1)}return Y_(!!n&&-1!==(t||["active"]).indexOf(n)),n}var ox=262144;function sx(e,t,n,r,i,a,o,s){var u=new ix(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new u_(a_.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw d_();var v=t.maxUploadRetryTime,m=new Q_(n,"POST",(function(e,n){var i,o=ax(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?X_(t,a)(e,n):null,new ix(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Z_(e),m}var ux="running",cx="paused",lx="success",fx="canceled",hx="error";function dx(e){switch(e){case"running":case"pausing":case"canceling":return ux;case"paused":return cx;case"success":return lx;case"canceled":return fx;default:return hx}}var px=pn((function e(t,n,r){fn(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function vx(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var mx=null,yx=function(){function e(){var t=this;fn(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=g_.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=g_.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=g_.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return pn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw y_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw y_("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw y_("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw y_("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw y_("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),gx=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.apply(this,arguments)}return pn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(yx);function kx(){return mx?mx():new gx}var bx=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;fn(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=W_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(a_.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(I_(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=f_()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(a_.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return pn(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=u(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=nx(t,r,i),s={name:o.fullPath},u=S_(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=$_(o,n),f=e.maxUploadRetryTime,h=new Q_(u,"POST",(function(e){var t;ax(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Y_(!1)}return Y_(w_(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=Z_(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,kx,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new Q_(n,"POST",(function(e){var t=ax(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Y_(!1)}n||Y_(!1);var i=Number(n);return Y_(!isNaN(i)),new ix(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Z_(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,kx,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=ox*this._chunkMultiplier,n=new ix(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=sx(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,kx,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(ox*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=tx(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,kx,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=rx(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,kx,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=h_(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=dx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new px(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(dx(this._state)){case lx:vx(this._resolve.bind(null,this.snapshot))();break;case fx:case hx:vx(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(dx(this._state)){case ux:case cx:e.next&&vx(e.next.bind(e,this.snapshot))();break;case lx:e.complete&&vx(e.complete.bind(e))();break;default:e.error&&vx(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),wx=function(){function e(t,n){fn(this,e),this._service=t,this._location=n instanceof k_?n:k_.makeFromUrl(n,t.host)}return pn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new k_(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return z_(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new k_(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new u_(a_.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function _x(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=S_(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Q_(r,"GET",J_(e,n),i);return a.errorHandler=ex(t),a}(e.storage,e._location,W_());return e.storage.makeRequestWithTokens(t,kx).then((function(e){if(null===e)throw new u_(a_.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function xx(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new k_(e._location.bucket,n);return new wx(e.storage,r)}function Ex(e,t){if(e instanceof Ix){var n=e;if(null==n._bucket)throw new u_(a_.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+s_+"' property when initializing the app?");var r=new wx(n,n._bucket);return null!=t?Ex(r,t):r}return void 0!==t?xx(e,t):e}function Sx(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ix)return new wx(e,t);throw p_("To use ref(service, url), the first argument must be a Storage instance.")}return Ex(e,t)}function Tx(e,t){var n=null===t||void 0===t?void 0:t[s_];return null==n?null:k_.makeFromBucketSpec(n,e)}var Ix=function(){function e(t,n,r,i,a){fn(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=o_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?k_.makeFromBucketSpec(i,this._host):Tx(this._host,this.app.options)}return pn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=k_.makeFromBucketSpec(this._url,e):this._bucket=Tx(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){E_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){E_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ln(un().mark((function e(){var t,n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ln(un().mark((function e(){var t,n;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new wx(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new b_(v_());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=T_(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new C_(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=ln(un().mark((function e(t,n){var r,i,a,o;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Cx="@firebase/storage",Ax="0.11.2",Rx="storage";function Nx(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new bx(e,new j_(t),n)}(e=Gn(e),t,n)}function Ox(e){return _x(e=Gn(e))}function Px(e,t){return Sx(e=Gn(e),t)}function Dx(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:On(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Lx(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Ix(r,i,a,n,Br)}Ur(new $n(Rx,Lx,"PUBLIC").setMultipleInstances(!0)),Wr(Cx,Ax,""),Wr(Cx,Ax,"esm2017");Hr({apiKey:"AIzaSyC1tp1xwld9rSqtRNQXMYUJynQcuPk7bVk",authDomain:"my-project-1554615786115.firebaseapp.com",projectId:"my-project-1554615786115",storageBucket:"my-project-1554615786115.appspot.com",messagingSenderId:"1030674481752",appId:"1:1030674481752:web:4514ceb7c80a71d06c802d"});var Mx,Ux,Fx,jx,Vx,zx,Bx,Hx,qx,Wx,Kx,Gx,$x,Qx,Yx,Xx,Jx,Zx,eE,tE,nE,rE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr(),t=Fr(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=Fr(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Vn(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;vi(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:wu,persistence:[ys,Wo,Go]}),i=Rn("authTokenSyncURL");if(i){var a=(n=i,function(){var e=ln(un().mark((function e(t){var r,i,a;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(r=e.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Ou)){e.next=9;break}return e.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Pu!==a){e.next=12;break}return e.abrupt("return");case 12:return Pu=a,e.next=15,fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){Gn(e).beforeAuthStateChanged(t,n)}(r,a,(function(){return a(r.currentUser)})),function(e,t,n,r){Gn(e).onIdTokenChanged(t,n,r)}(r,(function(e){return a(e)}))}var o=In("auth");return o&&Va(r,"http://".concat(o)),r}(),iE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr(),t=arguments.length>1?arguments[1]:void 0,n=Fr(e=Gn(e),Rx).getImmediate({identifier:t}),r=Cn("storage");return r&&Dx.apply(void 0,[n].concat(mn(r))),n}(),aE=function(e,t){var n="string"==typeof e?e:t||"(default)",r=Fr("object"==typeof e?e:qr(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Cn("firestore");i&&Hb.apply(void 0,[r].concat(mn(i)))}return r}(),oE=n(184),sE=(0,e.createContext)(),uE=function(t){var n=t.children,r=u((0,e.useState)({}),2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=function(e,t,n,r){return Gn(e).onAuthStateChanged(t,n,r)}(rE,(function(e){a(e),console.log(e)}));return function(){e()}}),[]),(0,oE.jsx)(sE.Provider,{value:{currentUser:i},children:n})},cE=Xt.div(Mx||(Mx=c(["\n  display: flex;\n  background-color: #322e60;\n  justify-content: space-between;\n  height: 50px;\n  padding: 10px;\n  align-items: center;\n  color: #ddddf7;\n"]))),lE=Xt.span(Ux||(Ux=c(["\n  font-weight: bold;\n  display: ",";\n"])),(function(e){return e.open?"block":"none"})),fE=Xt.div(Fx||(Fx=c(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),hE=Xt.img(jx||(jx=c(["\n  background-color: #fff;\n  height: 24px;\n  width: 24px;\n  border-radius: 50%;\n  object-fit: cover;\n  display: ",";\n"])),(function(e){return e.open?"block":"none"})),dE=Xt.span(Vx||(Vx=c(["\n  display: ",";\n"])),(function(e){return e.open?"block":"none"})),pE=Xt.button(zx||(zx=c(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 2rem;\n  height: 1.6rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n\n  span {\n    width: 1.5rem;\n    height: 0.25rem;\n    background-color: #ddddf7;\n    border-radius: 10px;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n    padding: 0;\n\n    &:first-child {\n      transform: ",";\n    }\n\n    &:nth-child(2) {\n      opacity: ",";\n      transform: ",";\n    }\n\n    &:nth-child(3) {\n      transform: ",";\n    }\n  }\n"])),(function(e){return e.open?"rotate(45deg)":"rotate(0)"}),(function(e){return e.open?"0":"1"}),(function(e){return e.open?"translateX(20px)":"translateX(0)"}),(function(e){return e.open?"rotate(-45deg)":"rotate(0)"})),vE=function(t){var n=t.open,r=t.setOpen,i=(0,e.useContext)(sE).currentUser;return(0,oE.jsxs)(cE,{children:[(0,oE.jsx)(lE,{open:n,children:"Chat App"}),(0,oE.jsxs)(fE,{children:[(0,oE.jsx)(hE,{open:n,src:i.photoURL}),(0,oE.jsx)(dE,{open:n,children:i.displayName}),(0,oE.jsxs)(pE,{"aria-label":"Toggle menu",open:n,onClick:function(){return r(!n)},children:[(0,oE.jsx)("span",{}),(0,oE.jsx)("span",{}),(0,oE.jsx)("span",{})]})]})]})},mE=Xt.div(Bx||(Bx=c(["\n  border-bottom: 1px solid gray;\n  display: ",";\n"])),(function(e){return e.open?"block":"none"})),yE=Xt.div(Hx||(Hx=c(["\n  padding: 10px;\n"]))),gE=Xt.input(qx||(qx=c(["\n  background-color: transparent;\n  border: none;\n  color: white;\n  outline: none;\n\n  &::placeholder {\n    color: lightgray;\n  }\n"]))),kE=Xt.div(Wx||(Wx=c(["\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  color: white;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #322e60;\n  }\n"]))),bE=Xt.img(Kx||(Kx=c(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  object-fit: cover;\n"]))),wE=Xt.div(Gx||(Gx=c([""]))),_E=Xt.span($x||($x=c(["\n  font-size: 18px;\n  font-weight: 500;\n"]))),xE=Xt.span(Qx||(Qx=c(["\n  color: red;\n"]))),EE=function(t){var n=t.open,r=u((0,e.useState)(""),2),i=r[0],a=r[1],o=u((0,e.useState)(null),2),s=o[0],c=o[1],l=u((0,e.useState)(!1),2),f=l[0],h=l[1],d=(0,e.useContext)(sE).currentUser,p=function(){var e=ln(un().mark((function e(){var t;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Dw(Gb(aE,"users"),Mw("displayName","==",i)),e.prev=1,e.next=4,Xw(t);case 4:e.sent.forEach((function(e){c(e.data())})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h(!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=ln(un().mark((function e(){var t,n,r;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.uid>s.uid?d.uid+s.uid:s.uid+d.uid,e.prev=1,e.next=4,Qw($b(aE,"chats",t));case 4:if(e.sent.exists()){e.next=12;break}return e.next=8,Jw($b(aE,"chats",t),{messages:[]});case 8:return e.next=10,Zw($b(aE,"userChats",d.uid),(yn(n={},t+".userInfo",{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL}),yn(n,t+".date",r_()),n));case 10:return e.next=12,Zw($b(aE,"userChats",s.uid),(yn(r={},t+".userInfo",{uid:d.uid,displayName:d.displayName,photoURL:d.photoURL}),yn(r,t+".date",r_()),r));case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:c(null),a("");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return(0,oE.jsxs)(mE,{open:n,children:[(0,oE.jsx)(yE,{children:(0,oE.jsx)(gE,{type:"text",placeholder:"Find a user",onKeyDown:function(e){"Enter"===e.code&&p()},onChange:function(e){return a(e.target.value)},value:i})}),f&&(0,oE.jsx)(xE,{children:"User not found!"}),s&&(0,oE.jsxs)(kE,{onClick:v,children:[(0,oE.jsx)(bE,{src:s.photoURL}),(0,oE.jsx)(wE,{children:(0,oE.jsx)(_E,{children:s.displayName})})]})]})},SE=(0,e.createContext)(),TE=function(t){var n=t.children,r=(0,e.useContext)(sE).currentUser,i=(0,e.useReducer)((function(e,t){return"CHANGE_USER"===t.type?{user:t.payload,chatID:r.uid>t.payload.uid?r.uid+t.payload.uid:t.payload.uid+r.uid}:e}),{chatID:"null",user:{}}),a=u(i,2),o=a[0],s=a[1];return(0,oE.jsx)(SE.Provider,{value:{data:o,dispatch:s},children:n})},IE=Xt.div(Yx||(Yx=c(["\n  height: ",";\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"])),(function(e){return e.open?"calc(100% - 142px)":"calc(100% - 100px)"})),CE=Xt.div(Xx||(Xx=c(["\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  color: white;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #322e60;\n  }\n"]))),AE=Xt.img(Jx||(Jx=c(["\n  width: 50px;\n  height: 45px;\n  border-radius: 50%;\n  object-fit: cover;\n"]))),RE=Xt.div(Zx||(Zx=c([""]))),NE=Xt.span(eE||(eE=c(["\n  font-size: 18px;\n  font-weight: 500;\n  display: ",";\n"])),(function(e){return e.open?"block":"none"})),OE=Xt.p(tE||(tE=c(["\n  font-size: 14px;\n  color: lightgray;\n  display: ",";\n"])),(function(e){return e.open?"block":"none"})),PE=function(t){var n,r=t.open,i=u((0,e.useState)([]),2),a=i[0],o=i[1],s=(0,e.useContext)(sE).currentUser,c=(0,e.useContext)(SE).dispatch;(0,e.useEffect)((function(){s.uid&&function(){var e=e_($b(aE,"userChats",s.uid),(function(e){o(e.data())}))}()}),[s.uid]);return(0,oE.jsx)(IE,{open:r,children:null===(n=Object.entries(a))||void 0===n?void 0:n.sort((function(e,t){return t[1].date-e[1].date})).map((function(e){var t;return(0,oE.jsxs)(CE,{onClick:function(){return t=e[1].userInfo,void c({type:"CHANGE_USER",payload:t});var t},children:[(0,oE.jsx)(AE,{src:e[1].userInfo.photoURL}),(0,oE.jsxs)(RE,{children:[(0,oE.jsx)(NE,{open:r,children:e[1].userInfo.displayName}),(0,oE.jsx)(OE,{open:r,children:null===(t=e[1].lastMessage)||void 0===t?void 0:t.text})]})]},e[0])}))})},DE=function(e){return $t(nE||(nE=c(["\n    @media only screen and (max-width: 380px) {\n      ","\n    }\n  "])),e)};function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LE.apply(this,arguments)}function ME(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function UE(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=UE(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var FE=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=UE(e))&&(r&&(r+=" "),r+=t);return r};function jE(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function VE(e){if("string"!==typeof e)throw new Error(jE(7));return e.charAt(0).toUpperCase()+e.slice(1)}var zE=VE;function BE(e,t){var n=ur({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=ur(ur({},e[r]),n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=ur({},a),Object.keys(i).forEach((function(e){n[r][e]=BE(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function HE(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?BE(t.components[n].defaultProps,r):r}function qE(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function WE(e){if(!qE(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=WE(e[n])})),t}function KE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?ur({},e):e;return qE(e)&&qE(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(qE(t[i])&&i in e&&qE(e[i])?r[i]=KE(e[i],t[i],n):n.clone?r[i]=qE(t[i])?WE(t[i]):t[i]:r[i]=t[i])})),r}var GE=["values","unit","step"],$E=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return LE({},e,yn({},t.key,t.val))}),{})};var QE={borderRadius:4},YE={xs:0,sm:600,md:900,lg:1200,xl:1536},XE={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(YE[e],"px)")}};function JE(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||XE;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||XE;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||YE).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function ZE(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function eS(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function tS(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function nS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:tS(e,n)||i,t&&(r=t(r,i,e)),r}var rS=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=tS(e.theme,i)||{};return JE(e,n,(function(e){var n=nS(o,a,e);return e===n&&"string"===typeof e&&(n=nS(o,a,"".concat(t).concat("default"===e?"":VE(e)),e)),!1===r?n:yn({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var iS=function(e,t){return t?KE(e,t,{clone:!1}):e};var aS={m:"margin",p:"padding"},oS={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},sS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},uS=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!sS[e])return[e];e=sS[e]}var t=u(e.split(""),2),n=t[0],r=t[1],i=aS[n],a=oS[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),cS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],lS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],fS=[].concat(cS,lS);function hS(e,t,n,r){var i,a=null!=(i=tS(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function dS(e){return hS(e,"spacing",8)}function pS(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function vS(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=pS(t,n),e}),{})}}(uS(n),r);return JE(e,e[n],i)}function mS(e,t){var n=dS(e.theme);return Object.keys(e).map((function(r){return vS(e,t,r,n)})).reduce(iS,{})}function yS(e){return mS(e,cS)}function gS(e){return mS(e,lS)}function kS(e){return mS(e,fS)}yS.propTypes={},yS.filterProps=cS,gS.propTypes={},gS.filterProps=lS,kS.propTypes={},kS.filterProps=fS;var bS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?iS(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function wS(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var _S=rS({prop:"border",themeKey:"borders",transform:wS}),xS=rS({prop:"borderTop",themeKey:"borders",transform:wS}),ES=rS({prop:"borderRight",themeKey:"borders",transform:wS}),SS=rS({prop:"borderBottom",themeKey:"borders",transform:wS}),TS=rS({prop:"borderLeft",themeKey:"borders",transform:wS}),IS=rS({prop:"borderColor",themeKey:"palette"}),CS=rS({prop:"borderTopColor",themeKey:"palette"}),AS=rS({prop:"borderRightColor",themeKey:"palette"}),RS=rS({prop:"borderBottomColor",themeKey:"palette"}),NS=rS({prop:"borderLeftColor",themeKey:"palette"}),OS=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=hS(e.theme,"shape.borderRadius",4);return JE(e,e.borderRadius,(function(e){return{borderRadius:pS(t,e)}}))}return null};OS.propTypes={},OS.filterProps=["borderRadius"];bS(_S,xS,ES,SS,TS,IS,CS,AS,RS,NS,OS);var PS=function(e){if(void 0!==e.gap&&null!==e.gap){var t=hS(e.theme,"spacing",8);return JE(e,e.gap,(function(e){return{gap:pS(t,e)}}))}return null};PS.propTypes={},PS.filterProps=["gap"];var DS=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=hS(e.theme,"spacing",8);return JE(e,e.columnGap,(function(e){return{columnGap:pS(t,e)}}))}return null};DS.propTypes={},DS.filterProps=["columnGap"];var LS=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=hS(e.theme,"spacing",8);return JE(e,e.rowGap,(function(e){return{rowGap:pS(t,e)}}))}return null};LS.propTypes={},LS.filterProps=["rowGap"];bS(PS,DS,LS,rS({prop:"gridColumn"}),rS({prop:"gridRow"}),rS({prop:"gridAutoFlow"}),rS({prop:"gridAutoColumns"}),rS({prop:"gridAutoRows"}),rS({prop:"gridTemplateColumns"}),rS({prop:"gridTemplateRows"}),rS({prop:"gridTemplateAreas"}),rS({prop:"gridArea"}));function MS(e,t){return"grey"===t?t:e}bS(rS({prop:"color",themeKey:"palette",transform:MS}),rS({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:MS}),rS({prop:"backgroundColor",themeKey:"palette",transform:MS}));function US(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var FS=rS({prop:"width",transform:US}),jS=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return JE(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||YE[t]||US(t)}}))}return null};jS.filterProps=["maxWidth"];var VS=rS({prop:"minWidth",transform:US}),zS=rS({prop:"height",transform:US}),BS=rS({prop:"maxHeight",transform:US}),HS=rS({prop:"minHeight",transform:US}),qS=(rS({prop:"size",cssProperty:"width",transform:US}),rS({prop:"size",cssProperty:"height",transform:US}),bS(FS,jS,VS,zS,BS,HS,rS({prop:"boxSizing"})),{border:{themeKey:"borders",transform:wS},borderTop:{themeKey:"borders",transform:wS},borderRight:{themeKey:"borders",transform:wS},borderBottom:{themeKey:"borders",transform:wS},borderLeft:{themeKey:"borders",transform:wS},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:OS},color:{themeKey:"palette",transform:MS},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:MS},backgroundColor:{themeKey:"palette",transform:MS},p:{style:gS},pt:{style:gS},pr:{style:gS},pb:{style:gS},pl:{style:gS},px:{style:gS},py:{style:gS},padding:{style:gS},paddingTop:{style:gS},paddingRight:{style:gS},paddingBottom:{style:gS},paddingLeft:{style:gS},paddingX:{style:gS},paddingY:{style:gS},paddingInline:{style:gS},paddingInlineStart:{style:gS},paddingInlineEnd:{style:gS},paddingBlock:{style:gS},paddingBlockStart:{style:gS},paddingBlockEnd:{style:gS},m:{style:yS},mt:{style:yS},mr:{style:yS},mb:{style:yS},ml:{style:yS},mx:{style:yS},my:{style:yS},margin:{style:yS},marginTop:{style:yS},marginRight:{style:yS},marginBottom:{style:yS},marginLeft:{style:yS},marginX:{style:yS},marginY:{style:yS},marginInline:{style:yS},marginInlineStart:{style:yS},marginInlineEnd:{style:yS},marginBlock:{style:yS},marginBlockStart:{style:yS},marginBlockEnd:{style:yS},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:PS},rowGap:{style:LS},columnGap:{style:DS},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:US},maxWidth:{style:jS},minWidth:{transform:US},height:{transform:US},maxHeight:{transform:US},minHeight:{transform:US},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var WS=function(){function e(e,t,n,r){var i,a=(yn(i={},e,t),yn(i,"theme",n),i),o=r[e];if(!o)return yn({},e,t);var s=o.cssProperty,u=void 0===s?e:s,c=o.themeKey,l=o.transform,f=o.style;if(null==t)return null;if("typography"===c&&"inherit"===t)return yn({},e,t);var h=tS(n,c)||{};if(f)return f(a);return JE(a,t,(function(t){var n=nS(h,l,t);return t===n&&"string"===typeof t&&(n=nS(h,l,"".concat(e).concat("default"===t?"":VE(t)),t)),!1===u?n:yn({},u,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,s=void 0===o?{}:o;if(!a)return null;var u=null!=(r=s.unstable_sxConfig)?r:qS;function c(n){var r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;var i=ZE(s.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=s,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(u[n])o=iS(o,e(n,c,s,u));else{var l=JE({theme:s},c,(function(e){return yn({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=iS(o,l):o[n]=t({sx:c,theme:s})}else o=iS(o,e(n,c,s,u))})),eS(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();WS.filterProps=["sx"];var KS=WS,GS=["breakpoints","palette","spacing","shape"];var $S=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,u=ME(e,GS),c=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=ME(e,GE),u=$E(n),c=Object.keys(u);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function h(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return LE({keys:c,values:u,up:l,down:f,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}(n),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=dS({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),f=KE({breakpoints:c,direction:"ltr",components:{},palette:LE({mode:"light"},i),spacing:l,shape:LE({},QE,s)},u),h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return(f=d.reduce((function(e,t){return KE(e,t)}),f)).unstable_sxConfig=LE({},qS,null==u?void 0:u.unstable_sxConfig),f.unstable_sx=function(e){return KS({sx:e,theme:this})},f};var QS=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),YS=function(e,t,n){for(var r=0,i=0;r=i,i=$(),38===r&&12===i&&(t[n]=1),!X(i);)G();return Y(e,z)},XS=function(e,t){return Z(function(e,t){var n=-1,r=44;do{switch(X(r)){case 0:38===r&&12===$()&&(t[n]=1),e[n]+=YS(z-1,t,n);break;case 2:e[n]+=ee(r);break;case 4:if(44===r){e[++n]=58===$()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=S(r)}}while(r=G());return e}(J(e),t))},JS=new WeakMap,ZS=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||JS.get(n))&&!r){JS.set(e,!0);for(var i=[],a=XS(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},eT=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function tT(e,t){switch(I(e,t)){case 5103:return y+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return y+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return y+e+m+e+v+e+e;case 6828:case 4268:return y+e+v+e+e;case 6165:return y+e+v+"flex-"+e+e;case 5187:return y+e+R(e,/(\w+).+(:[^]+)/,y+"box-$1$2"+v+"flex-$1$2")+e;case 5443:return y+e+v+"flex-item-"+R(e,/flex-|-self/,"")+e;case 4675:return y+e+v+"flex-line-pack"+R(e,/align-content|flex-|-self/,"")+e;case 5548:return y+e+v+R(e,"shrink","negative")+e;case 5292:return y+e+v+R(e,"basis","preferred-size")+e;case 6060:return y+"box-"+R(e,"-grow","")+y+e+v+R(e,"grow","positive")+e;case 4554:return y+R(e,/([^-])(transform)/g,"$1"+y+"$2")+e;case 6187:return R(R(R(e,/(zoom-|grab)/,y+"$1"),/(image-set)/,y+"$1"),e,"")+e;case 5495:case 3959:return R(e,/(image-set\([^]*)/,y+"$1$`$1");case 4968:return R(R(e,/(.+:)(flex-)?(.*)/,y+"box-pack:$3"+v+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+y+e+e;case 4095:case 3583:case 4068:case 2532:return R(e,/(.+)-inline(.+)/,y+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(D(e)-1-t>6)switch(O(e,t+1)){case 109:if(45!==O(e,t+4))break;case 102:return R(e,/(.+:)(.+)-([^]+)/,"$1"+y+"$2-$3$1"+m+(108==O(e,t+3)?"$3":"$2-$3"))+e;case 115:return~N(e,"stretch")?tT(R(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==O(e,t+1))break;case 6444:switch(O(e,D(e)-3-(~N(e,"!important")&&10))){case 107:return R(e,":",":"+y)+e;case 101:return R(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+y+(45===O(e,14)?"inline-":"")+"box$3$1"+y+"$2$3$1"+v+"$2box$3")+e}break;case 5936:switch(O(e,t+11)){case 114:return y+e+v+R(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return y+e+v+R(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return y+e+v+R(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return y+e+v+e+e}return e}var nT=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case b:e.return=tT(e.value,e.length);break;case _:return oe([W(e,{value:R(e.value,"@","@"+y)})],r);case k:if(e.length)return U(e.props,(function(t){switch(A(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return oe([W(e,{props:[R(t,/:(read-\w+)/,":"+m+"$1")]})],r);case"::placeholder":return oe([W(e,{props:[R(t,/:(plac\w+)/,":"+y+"input-$1")]}),W(e,{props:[R(t,/:(plac\w+)/,":"+m+"$1")]}),W(e,{props:[R(t,/:(plac\w+)/,v+"input-$1")]})],r)}return""}))}}],rT=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||nT;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u=[ZS,eT];var c,l=[se,le((function(e){c.insert(e)}))],f=ce(u.concat(r,l));a=function(e,t,n,r){c=n,oe(he(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new QS({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h};function iT(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var aT=/[A-Z]|^ms/g,oT=/_EMO_([^_]+?)_([^]*?)_EMO_/g,sT=function(e){return 45===e.charCodeAt(1)},uT=function(e){return null!=e&&"boolean"!==typeof e},cT=iT((function(e){return sT(e)?e:e.replace(aT,"-$&").toLowerCase()})),lT=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(oT,(function(e,t,n){return hT={name:t,styles:n,next:hT},t}))}return 1===ye[e]||sT(e)||"number"!==typeof t||0===t?t:t+"px"};function fT(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return hT={name:n.name,styles:n.styles,next:hT},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)hT={name:r.name,styles:r.styles,next:hT},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=fT(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":uT(o)&&(r+=cT(a)+":"+lT(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=fT(e,t,o);switch(a){case"animation":case"animationName":r+=cT(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)uT(o[u])&&(r+=cT(a)+":"+lT(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=hT,a=n(e);return hT=i,fT(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var hT,dT=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var pT=!!t.useInsertionEffect&&t.useInsertionEffect,vT=pT||function(e){return e()},mT=(pT||e.useLayoutEffect,e.createContext("undefined"!==typeof HTMLElement?rT({key:"css"}):null));mT.Provider;var yT=function(t){return(0,e.forwardRef)((function(n,r){var i=(0,e.useContext)(mT);return t(n,i,r)}))};var gT=e.createContext({});var kT=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=e.useContext(gT);return r&&(t=r,0!==Object.keys(t).length)?r:n},bT=$S();var wT=function(){return kT(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bT)};function _T(e,t){var n;return LE({toolbar:(n={minHeight:56},yn(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),yn(n,e.up("sm"),{minHeight:64}),n)},t)}function xT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function ET(e){if(e.type)return e;if("#"===e.charAt(0))return ET(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(jE(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(jE(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function ST(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function TT(e){var t="hsl"===(e=ET(e)).type||"hsla"===e.type?ET(function(e){var t=(e=ET(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),ST({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function IT(e,t){if(e=ET(e),t=xT(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return ST(e)}function CT(e,t){if(e=ET(e),t=xT(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return ST(e)}var AT={black:"#000",white:"#fff"},RT={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},NT={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},OT={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},PT={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},DT={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},LT={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},MT={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},UT=["mode","contrastThreshold","tonalOffset"],FT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:AT.white,default:AT.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},jT={text:{primary:AT.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:AT.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function VT(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=CT(e.main,i):"dark"===t&&(e.dark=IT(e.main,a)))}function zT(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,s=ME(e,UT),u=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:DT[200],light:DT[50],dark:DT[400]}:{main:DT[700],light:DT[400],dark:DT[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:NT[200],light:NT[50],dark:NT[400]}:{main:NT[500],light:NT[300],dark:NT[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:OT[500],light:OT[300],dark:OT[700]}:{main:OT[700],light:OT[400],dark:OT[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:LT[400],light:LT[300],dark:LT[700]}:{main:LT[700],light:LT[500],dark:LT[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:MT[400],light:MT[300],dark:MT[700]}:{main:MT[800],light:MT[500],dark:MT[900]}}(n),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:PT[400],light:PT[300],dark:PT[700]}:{main:"#ed6c02",light:PT[500],dark:PT[900]}}(n);function p(e){var t=function(e,t){var n=TT(e),r=TT(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,jT.text.primary)>=i?jT.text.primary:FT.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,s=void 0===a?300:a,u=e.darkShade,c=void 0===u?700:u;if(!(t=LE({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(jE(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(jE(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return VT(t,"light",s,o),VT(t,"dark",c,o),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:jT,light:FT};return KE(LE({common:LE({},AT),mode:n,primary:v({color:u,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:d,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:h,name:"success"}),grey:RT,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:o},m[n]),s)}var BT=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var HT={textTransform:"uppercase"},qT='"Roboto", "Helvetica", "Arial", sans-serif';function WT(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?qT:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,d=n.fontWeightBold,p=void 0===d?700:d,v=n.htmlFontSize,m=void 0===v?16:v,y=n.allVariants,g=n.pxToRem,k=ME(n,BT);var b=o/14,w=g||function(e){return"".concat(e/m*b,"rem")},_=function(e,t,n,r,a){return LE({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===qT?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,y);var o},x={h1:_(u,96,1.167,-1.5),h2:_(u,60,1.2,-.5),h3:_(l,48,1.167,0),h4:_(l,34,1.235,.25),h5:_(l,24,1.334,0),h6:_(h,20,1.6,.15),subtitle1:_(l,16,1.75,.15),subtitle2:_(h,14,1.57,.1),body1:_(l,16,1.5,.15),body2:_(l,14,1.43,.15),button:_(h,14,1.75,.4,HT),caption:_(l,12,1.66,.4),overline:_(l,12,2.66,1,HT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return KE(LE({htmlFontSize:m,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:p},x),k,{clone:!1})}function KT(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var GT=["none",KT(0,2,1,-1,0,1,1,0,0,1,3,0),KT(0,3,1,-2,0,2,2,0,0,1,5,0),KT(0,3,3,-2,0,3,4,0,0,1,8,0),KT(0,2,4,-1,0,4,5,0,0,1,10,0),KT(0,3,5,-1,0,5,8,0,0,1,14,0),KT(0,3,5,-1,0,6,10,0,0,1,18,0),KT(0,4,5,-2,0,7,10,1,0,2,16,1),KT(0,5,5,-3,0,8,10,1,0,3,14,2),KT(0,5,6,-3,0,9,12,1,0,3,16,2),KT(0,6,6,-3,0,10,14,1,0,4,18,3),KT(0,6,7,-4,0,11,15,1,0,4,20,3),KT(0,7,8,-4,0,12,17,2,0,5,22,4),KT(0,7,8,-4,0,13,19,2,0,5,24,4),KT(0,7,9,-4,0,14,21,2,0,5,26,4),KT(0,8,9,-5,0,15,22,2,0,6,28,5),KT(0,8,10,-5,0,16,24,2,0,6,30,5),KT(0,8,11,-5,0,17,26,2,0,6,32,5),KT(0,9,11,-5,0,18,28,2,0,7,34,6),KT(0,9,12,-6,0,19,29,2,0,7,36,6),KT(0,10,13,-6,0,20,31,3,0,8,38,7),KT(0,10,13,-6,0,21,33,3,0,8,40,7),KT(0,10,14,-6,0,22,35,3,0,8,42,7),KT(0,11,14,-7,0,23,36,3,0,9,44,8),KT(0,11,15,-7,0,24,38,3,0,9,46,8)],$T=["duration","easing","delay"],QT={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},YT={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function XT(e){return"".concat(Math.round(e),"ms")}function JT(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function ZT(e){var t=LE({},QT,e.easing),n=LE({},YT,e.duration);return LE({getAutoHeightDuration:JT,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,u=r.delay,c=void 0===u?0:u;ME(r,$T);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:XT(a)," ").concat(s," ").concat("string"===typeof c?c:XT(c))})).join(",")}},e,{easing:t,duration:n})}var eI={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},tI=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function nI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,s=e.typography,u=void 0===s?{}:s,c=ME(e,tI);if(e.vars)throw new Error(jE(18));var l=zT(i),f=$S(e),h=KE(f,{mixins:_T(f.breakpoints,n),palette:l,shadows:GT.slice(),typography:WT(l,u),transitions:ZT(o),zIndex:LE({},eI)});h=KE(h,c);for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return(h=p.reduce((function(e,t){return KE(e,t)}),h)).unstable_sxConfig=LE({},qS,null==c?void 0:c.unstable_sxConfig),h.unstable_sx=function(e){return KS({sx:e,theme:this})},h}var rI=nI(),iI="$$material";function aI(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=wT(r);return i&&(a=a[i]||a),HE({theme:a,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:rI,themeId:iI})}var oI=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var sI=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},uI=iT((function(e){return oI.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),cI=function(e){return"theme"!==e},lI=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?uI:cI},fI=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},hI=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return sI(t,n,r),vT((function(){return function(e,t,n){sI(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},dI=function t(n,r){var i,a,o=n.__emotion_real===n,s=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var u=fI(n,r,o),c=u||lI(s),l=!c("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var v=yT((function(t,n,r){var i=l&&t.as||s,o="",f=[],d=t;if(null==t.theme){for(var p in d={},t)d[p]=t[p];d.theme=e.useContext(gT)}"string"===typeof t.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,f,t.className):null!=t.className&&(o=t.className+" ");var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";hT=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=fT(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=fT(n,t,e[o]),r&&(i+=a[o]);dT.lastIndex=0;for(var s,u="";null!==(s=dT.exec(i));)u+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+u;return{name:c,styles:i,next:hT}}(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===u?lI(i):c,y={};for(var g in t)l&&"as"===g||m(g)&&(y[g]=t[g]);return y.className=o,y.ref=r,e.createElement(e.Fragment,null,e.createElement(hI,{cache:n,serialized:v,isStringTag:"string"===typeof i}),e.createElement(i,y))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=h,v.__emotion_forwardProp=u,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(e,n){return t(e,LE({},r,n,{shouldForwardProp:fI(v,n,!0)})).apply(void 0,h)},v}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){dI[e]=dI(e)}));var pI=["variant"];function vI(e){return 0===e.length}function mI(e){var t=e.variant,n=ME(e,pI),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?vI(r)?e[t]:VE(e[t]):"".concat(vI(r)?t:VE(t)).concat(VE(e[t].toString()))})),r}var yI=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function gI(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var kI=$S();function bI(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}var wI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?kI:n,i=e.rootShouldForwardProp,a=void 0===i?gI:i,o=e.slotShouldForwardProp,s=void 0===o?gI:o,c=function(e){return KS(LE({},e,{theme:bI(LE({},e,{defaultTheme:r,themeId:t}))}))};return c.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i=n.name,o=n.slot,l=n.skipVariantsResolver,f=n.skipSx,h=n.overridesResolver,d=ME(n,yI),p=void 0!==l?l:o&&"Root"!==o||!1,v=f||!1;var m=gI;"Root"===o?m=a:o?m=s:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);var y=function(e,t){return dI(e,t)}(e,LE({shouldForwardProp:m,label:undefined},d)),g=function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];var l=o?o.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e(LE({},n,{theme:bI(LE({},n,{defaultTheme:r,themeId:t}))}))}:e})):[],f=n;i&&h&&l.push((function(e){var n=bI(LE({},e,{defaultTheme:r,themeId:t})),a=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(i,n);if(a){var o={};return Object.entries(a).forEach((function(t){var r=u(t,2),i=r[0],a=r[1];o[i]="function"===typeof a?a(LE({},e,{theme:n})):a})),h(e,o)}return null})),i&&!p&&l.push((function(e){var n=bI(LE({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,a,o=e.ownerState,s=void 0===o?{}:o,u=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[mI(n.props)])})),u}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=mI(e.props);r[t]=e.style})),r}(i,n),n,i)})),v||l.push(c);var d=l.length-o.length;if(Array.isArray(n)&&d>0){var m=new Array(d).fill("");(f=[].concat(mn(n),mn(m))).raw=[].concat(mn(n.raw),mn(m))}else"function"===typeof n&&n.__emotion_real!==n&&(f=function(e){return n(LE({},e,{theme:bI(LE({},e,{defaultTheme:r,themeId:t}))}))});var g=y.apply(void 0,[f].concat(mn(l)));return e.muiName&&(g.muiName=e.muiName),g};return y.withConfig&&(g.withConfig=y.withConfig),g}}({themeId:iI,defaultTheme:rI,rootShouldForwardProp:function(e){return gI(e)&&"classes"!==e}}),_I=wI,xI=function(e){return e},EI=function(){var e=xI;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=xI}}}(),SI={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function TI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=SI[t];return r?"".concat(n,"-").concat(r):"".concat(EI.generate(e),"-").concat(t)}function II(e){return TI("MuiSvgIcon",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach((function(t){r[t]=TI(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var CI=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],AI=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(zE(t)),"fontSize".concat(zE(n))]},II,r)},RI=_I("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(zE(n.color))],t["fontSize".concat(zE(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,s,u,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(s=g.typography)||null==(u=s.pxToRem)?void 0:u.call(s,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),NI=e.forwardRef((function(e,t){var n=aI({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,s=n.component,u=void 0===s?"svg":s,c=n.fontSize,l=void 0===c?"medium":c,f=n.htmlColor,h=n.inheritViewBox,d=void 0!==h&&h,p=n.titleAccess,v=n.viewBox,m=void 0===v?"0 0 24 24":v,y=ME(n,CI),g=LE({},n,{color:o,component:u,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:m}),k={};d||(k.viewBox=m);var b=AI(g);return(0,oE.jsxs)(RI,LE({as:u,className:FE(b.root,i),focusable:"false",color:f,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},k,y,{ownerState:g,children:[r,p?(0,oE.jsx)("title",{children:p}):null]}))}));NI.muiName="SvgIcon";var OI=NI;function PI(t,n){function r(e,r){return(0,oE.jsx)(OI,LE({"data-testid":"".concat(n,"Icon"),ref:r},e,{children:t}))}return r.muiName=OI.muiName,e.memo(e.forwardRef(r))}var DI,LI,MI,UI,FI,jI,VI,zI,BI,HI,qI,WI,KI,GI=PI((0,oE.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout"),$I=Xt.div(DI||(DI=c(["\n  background-color: #322e60;\n  height: 50px;\n  padding: 10px;\n"]))),QI=Xt.span(LI||(LI=c(["\n  color: #ddddf7;\n  font-weight: bold;\n  display: ",";\n"])),(function(e){return e.open?"block":"none"})),YI=Xt.div(MI||(MI=c(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 5px;\n  cursor: pointer;\n"]))),XI=function(e){var t=e.open;return(0,oE.jsx)($I,{children:(0,oE.jsxs)(YI,{onClick:function(){return function(e){return Gn(e).signOut()}(rE)},children:[(0,oE.jsx)(GI,{style:{color:"#ddddf7"}}),(0,oE.jsx)(QI,{open:t,children:"Logout"})]})})},JI=Xt.div(UI||(UI=c(["\n  width: ",";\n  border-right: 1px solid #eee;\n  background-color: #413c7b;\n  transition: all 0.3s linear;\n\n  ","\n"])),(function(e){return e.open?"300px":"60px"}),DE({})),ZI=function(e){var t=e.open,n=e.setOpen;return console.log(t),(0,oE.jsxs)(JI,{open:t,children:[(0,oE.jsx)(vE,{open:t,setOpen:n}),(0,oE.jsx)(EE,{open:t}),(0,oE.jsx)(PE,{open:t}),(0,oE.jsx)(XI,{open:t})]})},eC=PI((0,oE.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam"),tC=PI((0,oE.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd"),nC=PI((0,oE.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),rC=Xt.div(FI||(FI=c(["\n  display: flex;\n  flex-direction: ",";\n  gap: 20px;\n  margin-top: 10px;\n"])),(function(e){return"Owner"==e.className?"row-reverse":"row"})),iC=Xt.div(jI||(jI=c(["\n  display: flex;\n  flex-direction: column;\n  color: gray;\n  font-weight: 300;\n  margin-bottom: 20px;\n"]))),aC=Xt.img(VI||(VI=c(["\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  object-fit: cover;\n"]))),oC=Xt.span(zI||(zI=c([""]))),sC=Xt.div(BI||(BI=c(["\n  max-width: 80%;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: ",";\n"])),(function(e){return"Owner"==e.className?"flex-end":"flex-start"})),uC=Xt.p(HI||(HI=c(["\n  background-color: ",";\n  color: ",";\n  padding: 10px 20px;\n  border-radius: ",";\n  max-width: max-content;\n"])),(function(e){return"Owner"==e.className?"#8da4f1":"white"}),(function(e){return"Owner"==e.className?"white":"black"}),(function(e){return"Owner"==e.className?"10px 0px 10px 10px":"0px 10px 10px 10px"})),cC=Xt.img(qI||(qI=c(["\n  width: 50%;\n"]))),lC=function(t){var n=t.message,r=(0,e.useContext)(sE).currentUser,i=(0,e.useContext)(SE).data,a=(0,e.useRef)();return(0,e.useEffect)((function(){var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[n]),(0,oE.jsxs)(rC,{ref:a,className:n.senderId===r.uid&&"Owner",children:[(0,oE.jsxs)(iC,{children:[(0,oE.jsx)(aC,{src:n.senderId===r.uid?r.photoURL:i.user.photoURL}),(0,oE.jsx)(oC,{children:"Just Now"})]}),(0,oE.jsxs)(sC,{className:n.senderId===r.uid&&"Owner",children:[(0,oE.jsx)(uC,{className:n.senderId===r.uid&&"Owner",children:n.text}),n.img&&(0,oE.jsx)(cC,{src:n.img})]})]})},fC=Xt.div(WI||(WI=c(["\n  background-color: #ddddf7;\n  padding: 10px;\n  height: calc(100% - 100px);\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),hC=function(){var t=u((0,e.useState)([]),2),n=t[0],r=t[1],i=(0,e.useContext)(SE).data;return(0,e.useEffect)((function(){var e=e_($b(aE,"chats",i.chatID),(function(e){e.exists()&&r(e.data().messages)}));return function(){e()}}),[i.chatID]),(0,oE.jsx)(fC,{children:n.map((function(e){return(0,oE.jsx)(lC,{message:e},e.id)}))})},dC=PI((0,oE.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile"),pC=PI((0,oE.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image"),vC={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},mC=new Uint8Array(16);function yC(){if(!KI&&!(KI="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return KI(mC)}for(var gC=[],kC=0;kC<256;++kC)gC.push((kC+256).toString(16).slice(1));function bC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(gC[e[t+0]]+gC[e[t+1]]+gC[e[t+2]]+gC[e[t+3]]+"-"+gC[e[t+4]]+gC[e[t+5]]+"-"+gC[e[t+6]]+gC[e[t+7]]+"-"+gC[e[t+8]]+gC[e[t+9]]+"-"+gC[e[t+10]]+gC[e[t+11]]+gC[e[t+12]]+gC[e[t+13]]+gC[e[t+14]]+gC[e[t+15]]).toLowerCase()}var wC,_C,xC,EC,SC,TC,IC,CC,AC,RC,NC,OC,PC,DC=function(e,t,n){if(vC.randomUUID&&!t&&!e)return vC.randomUUID();var r=(e=e||{}).random||(e.rng||yC)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return bC(r)},LC=Xt.div(wC||(wC=c(["\n  height: 50px;\n  background-color: white;\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),MC=Xt.input(_C||(_C=c(["\n  width: 100%;\n  border: none;\n  outline: none;\n  color: #2f2d52;\n  font-size: 18px;\n\n  &::placeholder {\n    color: lightgray;\n  }\n"]))),UC=Xt.div(xC||(xC=c(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n"]))),FC=Xt.input(EC||(EC=c(["\n  display: none;\n"]))),jC=Xt.label(SC||(SC=c([""]))),VC=Xt.button(TC||(TC=c(["\n  border: none;\n  padding: 10px 15px;\n  color: white;\n  background-color: #8da4f1;\n  cursor: pointer;\n"]))),zC=function(){var t=u((0,e.useState)(""),2),n=t[0],r=t[1],i=u((0,e.useState)(null),2),a=i[0],o=i[1],s=(0,e.useContext)(sE).currentUser,c=(0,e.useContext)(SE).data,l=function(){var e=ln(un().mark((function e(){var t,i,u,l;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}u=Px(iE,DC()),(l=Nx(u,a)).on((function(e){}),(function(){Ox(l.snapshot.ref).then(function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zw($b(aE,"chats",c.chatID),{messages:i_({id:DC(),text:n,senderId:s.uid,date:Pd.now(),img:t})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),e.next=8;break;case 6:return e.next=8,Zw($b(aE,"chats",c.chatID),{messages:i_({id:DC(),text:n,senderId:s.uid,date:Pd.now()})});case 8:return e.next=10,Zw($b(aE,"userChats",s.uid),(yn(t={},c.chatID+".lastMessage",{text:n}),yn(t,c.chatID+".date",r_()),t));case 10:return e.next=12,Zw($b(aE,"userChats",c.user.uid),(yn(i={},c.chatID+".lastMessage",{text:n}),yn(i,c.chatID+".date",r_()),i));case 12:r(""),o(null);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,oE.jsxs)(LC,{children:[(0,oE.jsx)(MC,{type:"text",placeholder:"Type something...",onChange:function(e){return r(e.target.value)},value:n}),(0,oE.jsxs)(UC,{children:[(0,oE.jsx)(dC,{style:{color:"#C2B7C1",cursor:"pointer"}}),(0,oE.jsx)(FC,{type:"file",id:"file",onChange:function(e){return o(e.target.files[0])}}),(0,oE.jsx)(jC,{htmlFor:"file",children:(0,oE.jsx)(pC,{style:{color:"#C2B7C1",cursor:"pointer"}})}),(0,oE.jsx)(VC,{onClick:l,children:"Send"})]})]})},BC=Xt.div(IC||(IC=c(["\n  flex: 3;\n"]))),HC=Xt.div(CC||(CC=c(["\n  height: 50px;\n  background-color: #5e55bd;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n  color: lightgray;\n"]))),qC=Xt.span(AC||(AC=c([""]))),WC=Xt.div(RC||(RC=c(["\n  display: flex;\n  gap: 10px;\n"]))),KC=function(){var t,n=(0,e.useContext)(SE).data;return(0,oE.jsxs)(BC,{children:[(0,oE.jsxs)(HC,{children:[(0,oE.jsx)(qC,{children:null===(t=n.user)||void 0===t?void 0:t.displayName}),(0,oE.jsxs)(WC,{children:[(0,oE.jsx)(eC,{style:{color:"#ddddf7",height:"24px",cursor:"pointer"}}),(0,oE.jsx)(tC,{style:{color:"#ddddf7",height:"24px",cursor:"pointer"}}),(0,oE.jsx)(nC,{style:{color:"#ddddf7",height:"24px",cursor:"pointer"}})]})]}),(0,oE.jsx)(hC,{}),(0,oE.jsx)(zC,{})]})},GC=Xt.div(NC||(NC=c(["\n  background-color: #918ef4;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),$C=Xt.div(OC||(OC=c(["\n  border: 1px solid white;\n  border-radius: 10px;\n  width: 55%;\n  height: 70%;\n  display: flex;\n  overflow: hidden;\n\n  ","\n"])),DE({width:"100%",height:"100%",borderRadius:"0px"})),QC=function(){var t=u((0,e.useState)(!1),2),n=t[0],r=t[1];return(0,oE.jsx)(GC,{children:(0,oE.jsxs)($C,{children:[(0,oE.jsx)(ZI,{open:n,setOpen:r}),(0,oE.jsx)(KC,{})]})})};function YC(){return YC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YC.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(PC||(PC={}));var XC,JC="popstate";function ZC(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function eA(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function tA(e,t){return{usr:e.state,key:e.key,idx:t}}function nA(e,t,n,r){return void 0===n&&(n=null),YC({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?iA(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function rA(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function iA(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function aA(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=PC.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=PC.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:rA(e);return ZC(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(YC({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(JC,p),f=e,function(){o.removeEventListener(JC,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=PC.Push;var r=nA(m.location,e,t);n&&n(r,e);var i=tA(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(s){o.location.assign(a)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=PC.Replace;var r=nA(m.location,e,t);n&&n(r,e);var i=tA(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(XC||(XC={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function oA(e,t,n){void 0===n&&(n="/");var r=bA(("string"===typeof t?iA(t):t).pathname||"/",n);if(null==r)return null;var i=sA(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=yA(i[o],kA(r));return a}function sA(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(ZC(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=EA([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(ZC(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),sA(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:mA(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=sn(uA(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function uA(e){var t=e.split("/");if(0===t.length)return[];var n,r=i(n=t)||vn(n)||o(n)||s(),a=r[0],u=r.slice(1),c=a.endsWith("?"),l=a.replace(/\?$/,"");if(0===u.length)return c?[l,""]:[l];var f=uA(u.join("/")),h=[];return h.push.apply(h,mn(f.map((function(e){return""===e?l:[l,e].join("/")})))),c&&h.push.apply(h,mn(f)),h.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var cA=/^:\w+$/,lA=3,fA=2,hA=1,dA=10,pA=-2,vA=function(e){return"*"===e};function mA(e,t){var n=e.split("/"),r=n.length;return n.some(vA)&&(r+=pA),t&&(r+=fA),n.filter((function(e){return!vA(e)})).reduce((function(e,t){return e+(cA.test(t)?lA:""===t?hA:dA)}),r)}function yA(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=gA({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:EA([i,l.pathname]),pathnameBase:SA(EA([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=EA([i,l.pathnameBase]))}return a}function gA(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);eA("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return eA(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function kA(e){try{return decodeURI(e)}catch(t){return eA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function bA(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function wA(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function _A(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function xA(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=iA(e):(ZC(!(i=YC({},e)).pathname||!i.pathname.includes("?"),wA("?","pathname","search",i)),ZC(!i.pathname||!i.pathname.includes("#"),wA("#","pathname","hash",i)),ZC(!i.search||!i.search.includes("#"),wA("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?iA(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:TA(a),hash:IA(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var EA=function(e){return e.join("/").replace(/\/\/+/g,"/")},SA=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},TA=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},IA=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},CA=function(e){nn(n,e);var t=on(n);function n(){return fn(this,n),t.apply(this,arguments)}return pn(n)}(kn(Error));function AA(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var RA=["post","put","patch","delete"],NA=(new Set(RA),["get"].concat(RA));new Set(NA),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function OA(){return OA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OA.apply(this,arguments)}var PA=e.createContext(null);var DA=e.createContext(null);var LA=e.createContext(null);var MA=e.createContext(null);var UA=e.createContext(null);var FA=e.createContext({outlet:null,matches:[],isDataRoute:!1});var jA=e.createContext(null);function VA(){return null!=e.useContext(UA)}function zA(){return VA()||ZC(!1),e.useContext(UA).location}function BA(t){e.useContext(MA).static||e.useLayoutEffect(t)}function HA(){return e.useContext(FA).isDataRoute?function(){var t=ZA(GA.UseNavigateStable).router,n=tR($A.UseNavigateStable),r=e.useRef(!1);BA((function(){r.current=!0}));var i=e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,OA({fromRouteId:n},i)))}),[t,n]);return i}():function(){VA()||ZC(!1);var t=e.useContext(PA),n=e.useContext(MA),r=n.basename,i=n.navigator,a=e.useContext(FA).matches,o=zA().pathname,s=JSON.stringify(_A(a).map((function(e){return e.pathnameBase}))),u=e.useRef(!1);BA((function(){u.current=!0}));var c=e.useCallback((function(e,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof e){var a=xA(e,JSON.parse(s),o,"path"===n.relative);null==t&&"/"!==r&&(a.pathname="/"===a.pathname?r:EA([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(e)}),[r,i,s,o,t]);return c}()}function qA(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(FA).matches,a=zA().pathname,o=JSON.stringify(_A(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return xA(t,JSON.parse(o),a,"path"===r)}),[t,o,a,r])}function WA(t,n,r){VA()||ZC(!1);var i,a=e.useContext(MA).navigator,o=e.useContext(FA).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,zA());if(n){var f,h="string"===typeof n?iA(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||ZC(!1),i=h}else i=l;var d=i.pathname||"/",p=oA(t,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=JA(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:EA([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:EA([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?e.createElement(UA.Provider,{value:{location:OA({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:PC.Pop}},v):v}function KA(){var t=function(){var t,n=e.useContext(jA),r=eR($A.UseRouteError),i=tR($A.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=AA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}var GA,$A,QA=e.createElement(KA,null),YA=function(t){nn(r,t);var n=on(r);function r(e){var t;return fn(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return pn(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(FA.Provider,{value:this.props.routeContext},e.createElement(jA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(e.Component);function XA(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(PA);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(FA.Provider,{value:n},i)}function JA(t,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==t){var a;if(null==(a=r)||!a.errors)return null;t=r.matches}var o=t,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||ZC(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(t,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||QA);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?c:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(XA,{match:i,routeContext:{outlet:t,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?e.createElement(YA,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function ZA(t){var n=e.useContext(PA);return n||ZC(!1),n}function eR(t){var n=e.useContext(DA);return n||ZC(!1),n}function tR(t){var n=function(t){var n=e.useContext(FA);return n||ZC(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||ZC(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(GA||(GA={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}($A||($A={}));var nR;function rR(t){var n=t.to,r=t.replace,i=t.state,a=t.relative;VA()||ZC(!1);var o=e.useContext(FA).matches,s=zA().pathname,u=HA(),c=xA(n,_A(o).map((function(e){return e.pathnameBase})),s,"path"===a),l=JSON.stringify(c);return e.useEffect((function(){return u(JSON.parse(l),{replace:r,state:i,relative:a})}),[u,l,a,r,i]),null}function iR(e){ZC(!1)}function aR(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,u=void 0===s?PC.Pop:s,c=t.navigator,l=t.static,f=void 0!==l&&l;VA()&&ZC(!1);var h=r.replace(/^\/*/,"/"),d=e.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=iA(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,_=void 0===w?null:w,x=p.key,E=void 0===x?"default":x,S=e.useMemo((function(){var e=bA(m,h);return null==e?null:{location:{pathname:e,search:g,hash:b,state:_,key:E},navigationType:u}}),[h,m,g,b,_,E,u]);return null==S?null:e.createElement(MA.Provider,{value:d},e.createElement(UA.Provider,{children:a,value:S}))}function oR(e){var t=e.children,n=e.location;return WA(uR(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(nR||(nR={}));var sR=new Promise((function(){}));e.Component;function uR(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t)){var a=[].concat(mn(n),[i]);if(t.type!==e.Fragment){t.type!==iR&&ZC(!1),t.props.index&&t.props.children&&ZC(!1);var o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=uR(t.props.children,a)),r.push(o)}else r.push.apply(r,uR(t.props.children,a))}})),r}function cR(){return cR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cR.apply(this,arguments)}function lR(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var fR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function hR(t){var n,r=t.basename,i=t.children,a=t.window,o=e.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),aA((function(e,t){var n=e.location;return nA("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:rA(t)}),null,n)));var s=o.current,c=u(e.useState({action:s.action,location:s.location}),2),l=c[0],f=c[1];return e.useLayoutEffect((function(){return s.listen(f)}),[s]),e.createElement(aR,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}var dR="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,pR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vR=e.forwardRef((function(t,n){var r,i=t.onClick,a=t.relative,o=t.reloadDocument,s=t.replace,u=t.state,c=t.target,l=t.to,f=t.preventScrollReset,h=lR(t,fR),d=e.useContext(MA).basename,p=!1;if("string"===typeof l&&pR.test(l)&&(r=l,dR))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=bA(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(b){}var g=function(t,n){var r=(void 0===n?{}:n).relative;VA()||ZC(!1);var i=e.useContext(MA),a=i.basename,o=i.navigator,s=qA(t,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:EA([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=HA(),l=zA(),f=qA(t,{relative:u});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==a?a:rA(l)===rA(f);c(t,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,t,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return e.createElement("a",cR({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var mR,yR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(mR||(mR={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(yR||(yR={}));var gR,kR,bR,wR,_R,xR,ER,SR,TR;var IR,CR,AR,RR,NR,OR,PR,DR,LR,MR,UR=Xt.div(gR||(gR=c(["\n  width: 100%;\n  height: 100vh;\n  background-color: #918ef4;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),FR=Xt.div(kR||(kR=c(["\n  display: flex;\n  flex-direction: column;\n  padding: 20px 40px;\n  background-color: white;\n  gap: 10px;\n  align-items: center;\n  border-radius: 10px;\n"]))),jR=Xt.span(bR||(bR=c(["\n  color: #306bac;\n  font-weight: bold;\n  font-size: 24px;\n"]))),VR=Xt.span(wR||(wR=c(["\n  font-size: 14px;\n"]))),zR=Xt.form(_R||(_R=c(["\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n"]))),BR=Xt.input(xR||(xR=c(["\n  padding: 10px;\n  margin-bottom: 10px;\n  border: none;\n  border-bottom: 2px solid lightgray;\n  width: 250px;\n\n  @media only screen and (max-width: 380px) {\n    width: 200px;\n  }\n"]))),HR=Xt.button(ER||(ER=c(["\n  background-color: #918ef4;\n  padding: 10px;\n  border: none;\n  border-radius: 10px;\n  font-weight: bold;\n  color: white;\n  cursor: pointer;\n"]))),qR=Xt.p(SR||(SR=c(["\n  color: #306bac;\n  font-size: 12px;\n  cursor: pointer;\n"]))),WR=Xt.span(TR||(TR=c(["\n  color: red;\n"]))),KR=function(){var t=u((0,e.useState)(!1),2),n=t[0],r=t[1],i=HA(),a=function(){var e=ln(un().mark((function e(t){var n,a;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target[0].value,a=t.target[1].value,e.prev=3,e.next=6,Do(rE,n,a);case 6:i("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),r(!0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,oE.jsx)(UR,{children:(0,oE.jsxs)(FR,{children:[(0,oE.jsx)(jR,{children:"Chat App"}),(0,oE.jsx)(VR,{children:"Login"}),(0,oE.jsxs)(zR,{onSubmit:a,children:[(0,oE.jsx)(BR,{type:"email",placeholder:"email"}),(0,oE.jsx)(BR,{type:"password",placeholder:"password"}),(0,oE.jsx)(HR,{children:"Sign in"}),n&&(0,oE.jsx)(WR,{children:"Something went wrong"})]}),(0,oE.jsxs)(qR,{children:["You don't have an Account ? ",(0,oE.jsx)(vR,{to:"/register",children:"Register"})]})]})})},GR=PI((0,oE.jsx)("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"}),"AddPhotoAlternate"),$R=Xt.div(IR||(IR=c(["\n  height: 100vh;\n  background-color: #918ef4;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),QR=Xt.div(CR||(CR=c(["\n  display: flex;\n  flex-direction: column;\n  padding: 20px 40px;\n  background-color: white;\n  gap: 10px;\n  align-items: center;\n  border-radius: 10px;\n"]))),YR=Xt.span(AR||(AR=c(["\n  color: #306bac;\n  font-weight: bold;\n  font-size: 24px;\n"]))),XR=Xt.span(RR||(RR=c(["\n  font-size: 14px;\n"]))),JR=Xt.form(NR||(NR=c(["\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n"]))),ZR=Xt.input(OR||(OR=c(["\n  padding: 10px;\n  margin-bottom: 10px;\n  border: none;\n  border-bottom: 2px solid lightgray;\n  width: 250px;\n\n  @media only screen and (max-width: 380px) {\n    width: 200px;\n  }\n"]))),eN=Xt.button(PR||(PR=c(["\n  background-color: #918ef4;\n  padding: 10px;\n  border: none;\n  border-radius: 10px;\n  font-weight: bold;\n  color: white;\n  cursor: pointer;\n"]))),tN=Xt.p(DR||(DR=c(["\n  color: #306bac;\n  font-size: 12px;\n  cursor: pointer;\n"]))),nN=Xt.label(LR||(LR=c(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  color: #918ef4;\n  font-size: 12px;\n  cursor: pointer;\n"]))),rN=Xt.span(MR||(MR=c(["\n  color: red;\n"]))),iN=function(){var t=u((0,e.useState)(!1),2),n=t[0],r=t[1],i=u((0,e.useState)(!1),2),a=(i[0],i[1]),o=HA(),s=function(){var e=ln(un().mark((function e(t){var n,i,s,u,c,l,f;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),t.preventDefault(),n=t.target[0].value,i=t.target[1].value,s=t.target[2].value,u=t.target[3].files[0],e.prev=6,e.next=9,Oo(rE,i,s);case 9:return c=e.sent,l=(new Date).getTime(),f=Px(iE,"".concat(n+l)),e.next=14,Nx(f,u).then((function(){Ox(f).then(function(){var e=ln(un().mark((function e(t){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uo(c.user,{displayName:n,photoURL:t});case 3:return e.next=5,Jw($b(aE,"users",c.user.uid),{uid:c.user.uid,displayName:n,email:i,photoURL:t});case 5:return e.next=7,Jw($b(aE,"userChats",c.user.uid),{});case 7:o("/"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),r(!0),a(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),r(!0),a(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,oE.jsx)($R,{children:(0,oE.jsxs)(QR,{children:[(0,oE.jsx)(YR,{children:"Chat App"}),(0,oE.jsx)(XR,{children:"Register"}),(0,oE.jsxs)(JR,{onSubmit:s,children:[(0,oE.jsx)(ZR,{type:"text",placeholder:"display name"}),(0,oE.jsx)(ZR,{type:"email",placeholder:"email"}),(0,oE.jsx)(ZR,{type:"password",placeholder:"password"}),(0,oE.jsx)(ZR,{style:{display:"none"},type:"file",id:"file"}),(0,oE.jsxs)(nN,{htmlFor:"file",children:[(0,oE.jsx)(GR,{style:{color:" #918ef4",fontSize:"40"}}),"Add an Avatar"]}),(0,oE.jsx)(eN,{children:"Sign Up"}),n&&(0,oE.jsx)(rN,{children:"Something went wrong"})]}),(0,oE.jsxs)(tN,{children:["You have an Account ? ",(0,oE.jsx)(vR,{to:"/login",children:"Login"})]})]})})},aN=function(){var t=(0,e.useContext)(sE).currentUser,n=function(e){var n=e.children;return t?n:(0,oE.jsx)(rR,{to:"/login"})};return(0,oE.jsx)(hR,{children:(0,oE.jsx)(oR,{children:(0,oE.jsxs)(iR,{path:"/",children:[(0,oE.jsx)(iR,{index:!0,element:(0,oE.jsx)(n,{children:(0,oE.jsx)(QC,{})})}),(0,oE.jsx)(iR,{path:"login",element:(0,oE.jsx)(KR,{})}),(0,oE.jsx)(iR,{path:"register",element:(0,oE.jsx)(iN,{})})]})})})};r.createRoot(document.getElementById("root")).render((0,oE.jsx)(uE,{children:(0,oE.jsx)(TE,{children:(0,oE.jsx)(e.StrictMode,{children:(0,oE.jsx)(aN,{})})})}))}()}();
//# sourceMappingURL=main.a52e65d0.js.map